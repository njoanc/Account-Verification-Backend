{"{\"assumptions\":{},\"sourceRoot\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend\",\"filename\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.5:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _expressSession = _interopRequireDefault(require(\"express-session\"));\nvar _bodyParser = _interopRequireDefault(require(\"body-parser\"));\nvar _cors = _interopRequireDefault(require(\"cors\"));\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\nvar _db = _interopRequireDefault(require(\"./config/db\"));\nvar _users = _interopRequireDefault(require(\"./routes/users\"));\nvar _swaggerUiExpress = _interopRequireDefault(require(\"swagger-ui-express\"));\nvar _swagger = _interopRequireDefault(require(\"../swagger.json\"));\nvar _passport = _interopRequireDefault(require(\"./config/passport\"));\nvar _path = _interopRequireDefault(require(\"path\"));\n// import auth from \"./routes/auth\";\n\nconst app = (0, _express.default)();\n_dotenv.default.config();\n(0, _db.default)();\napp.use(_express.default.json());\n\n// Middlewares\napp.use(_bodyParser.default.json());\napp.use(_bodyParser.default.urlencoded({\n  extended: true\n}));\napp.use((0, _cors.default)());\n\n// configure the session middleware\napp.use((0, _expressSession.default)({\n  secret: process.env.JWT_SECRET_KEY,\n  resave: false,\n  saveUninitialized: false\n}));\napp.use(_passport.default.initialize());\napp.use(_passport.default.session());\napp.set(\"views\", _path.default.join(__dirname, \"views\"));\n\n// Set the view engine to use\napp.set(\"view engine\", \"ejs\");\n\n// Configure the view engine to look for views in the 'views/pages' directory\napp.engine(\"ejs\", require(\"ejs\").renderFile);\napp.set(\"views\", _path.default.join(__dirname, \"views\", \"pages\"));\n\n// Serialize user\n_passport.default.serializeUser(function (user, done) {\n  done(null, user);\n});\n\n// Deserialize user\n_passport.default.deserializeUser(function (user, done) {\n  done(null, user);\n});\n// Routes\napp.use(\"/users\", _users.default);\napp.use(\"/api-docs\", _swaggerUiExpress.default.serve, _swaggerUiExpress.default.setup(_swagger.default));\n\n/*  Google AUTH  */\n\n// Start server\nconst PORT = process.env.PORT || 5000;\napp.listen(PORT, () => console.log(`Server started on port ${PORT}`));\nvar _default = app;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2V4cHJlc3NTZXNzaW9uIiwiX2JvZHlQYXJzZXIiLCJfY29ycyIsIl9kb3RlbnYiLCJfZGIiLCJfdXNlcnMiLCJfc3dhZ2dlclVpRXhwcmVzcyIsIl9zd2FnZ2VyIiwiX3Bhc3Nwb3J0IiwiX3BhdGgiLCJhcHAiLCJleHByZXNzIiwiZG90ZW52IiwiY29uZmlnIiwiY29ubmVjdERCIiwidXNlIiwianNvbiIsImJvZHlQYXJzZXIiLCJ1cmxlbmNvZGVkIiwiZXh0ZW5kZWQiLCJjb3JzIiwic2Vzc2lvbiIsInNlY3JldCIsInByb2Nlc3MiLCJlbnYiLCJKV1RfU0VDUkVUX0tFWSIsInJlc2F2ZSIsInNhdmVVbmluaXRpYWxpemVkIiwicGFzc3BvcnQiLCJpbml0aWFsaXplIiwic2V0IiwicGF0aCIsImpvaW4iLCJfX2Rpcm5hbWUiLCJlbmdpbmUiLCJyZW5kZXJGaWxlIiwic2VyaWFsaXplVXNlciIsInVzZXIiLCJkb25lIiwiZGVzZXJpYWxpemVVc2VyIiwidXNlcnMiLCJzd2FnZ2VyVWkiLCJzZXJ2ZSIsInNldHVwIiwic3dhZ2dlckRvY3VtZW50IiwiUE9SVCIsImxpc3RlbiIsImNvbnNvbGUiLCJsb2ciLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJkZWZhdWx0Il0sInNvdXJjZVJvb3QiOiIvVXNlcnMvamVhbm5lZGFyY255aXJhbXdpemEvRG93bmxvYWRzL0FjY291bnQtVmVyaWZpY2F0aW9uLUJhY2tlbmQvc3JjLyIsInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjtcbmltcG9ydCBzZXNzaW9uIGZyb20gXCJleHByZXNzLXNlc3Npb25cIjtcbmltcG9ydCBib2R5UGFyc2VyIGZyb20gXCJib2R5LXBhcnNlclwiO1xuaW1wb3J0IGNvcnMgZnJvbSBcImNvcnNcIjtcbmltcG9ydCBkb3RlbnYgZnJvbSBcImRvdGVudlwiO1xuaW1wb3J0IGNvbm5lY3REQiBmcm9tIFwiLi9jb25maWcvZGJcIjtcbmltcG9ydCB1c2VycyBmcm9tIFwiLi9yb3V0ZXMvdXNlcnNcIjtcbi8vIGltcG9ydCBhdXRoIGZyb20gXCIuL3JvdXRlcy9hdXRoXCI7XG5pbXBvcnQgc3dhZ2dlclVpIGZyb20gXCJzd2FnZ2VyLXVpLWV4cHJlc3NcIjtcbmltcG9ydCBzd2FnZ2VyRG9jdW1lbnQgZnJvbSBcIi4uL3N3YWdnZXIuanNvblwiO1xuaW1wb3J0IHBhc3Nwb3J0IGZyb20gXCIuL2NvbmZpZy9wYXNzcG9ydFwiO1xuaW1wb3J0IHBhdGggZnJvbSBcInBhdGhcIjtcblxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xuXG5kb3RlbnYuY29uZmlnKCk7XG5jb25uZWN0REIoKTtcblxuYXBwLnVzZShleHByZXNzLmpzb24oKSk7XG5cbi8vIE1pZGRsZXdhcmVzXG5hcHAudXNlKGJvZHlQYXJzZXIuanNvbigpKTtcbmFwcC51c2UoYm9keVBhcnNlci51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IHRydWUgfSkpO1xuYXBwLnVzZShjb3JzKCkpO1xuXG4vLyBjb25maWd1cmUgdGhlIHNlc3Npb24gbWlkZGxld2FyZVxuYXBwLnVzZShcbiAgc2Vzc2lvbih7XG4gICAgc2VjcmV0OiBwcm9jZXNzLmVudi5KV1RfU0VDUkVUX0tFWSxcbiAgICByZXNhdmU6IGZhbHNlLFxuICAgIHNhdmVVbmluaXRpYWxpemVkOiBmYWxzZSxcbiAgfSlcbik7XG5cbmFwcC51c2UocGFzc3BvcnQuaW5pdGlhbGl6ZSgpKTtcbmFwcC51c2UocGFzc3BvcnQuc2Vzc2lvbigpKTtcblxuYXBwLnNldChcInZpZXdzXCIsIHBhdGguam9pbihfX2Rpcm5hbWUsIFwidmlld3NcIikpO1xuXG4vLyBTZXQgdGhlIHZpZXcgZW5naW5lIHRvIHVzZVxuYXBwLnNldChcInZpZXcgZW5naW5lXCIsIFwiZWpzXCIpO1xuXG4vLyBDb25maWd1cmUgdGhlIHZpZXcgZW5naW5lIHRvIGxvb2sgZm9yIHZpZXdzIGluIHRoZSAndmlld3MvcGFnZXMnIGRpcmVjdG9yeVxuYXBwLmVuZ2luZShcImVqc1wiLCByZXF1aXJlKFwiZWpzXCIpLnJlbmRlckZpbGUpO1xuYXBwLnNldChcInZpZXdzXCIsIHBhdGguam9pbihfX2Rpcm5hbWUsIFwidmlld3NcIiwgXCJwYWdlc1wiKSk7XG5cbi8vIFNlcmlhbGl6ZSB1c2VyXG5wYXNzcG9ydC5zZXJpYWxpemVVc2VyKGZ1bmN0aW9uICh1c2VyLCBkb25lKSB7XG4gIGRvbmUobnVsbCwgdXNlcik7XG59KTtcblxuLy8gRGVzZXJpYWxpemUgdXNlclxucGFzc3BvcnQuZGVzZXJpYWxpemVVc2VyKGZ1bmN0aW9uICh1c2VyLCBkb25lKSB7XG4gIGRvbmUobnVsbCwgdXNlcik7XG59KTtcbi8vIFJvdXRlc1xuYXBwLnVzZShcIi91c2Vyc1wiLCB1c2Vycyk7XG5hcHAudXNlKFwiL2FwaS1kb2NzXCIsIHN3YWdnZXJVaS5zZXJ2ZSwgc3dhZ2dlclVpLnNldHVwKHN3YWdnZXJEb2N1bWVudCkpO1xuXG4vKiAgR29vZ2xlIEFVVEggICovXG5cbi8vIFN0YXJ0IHNlcnZlclxuY29uc3QgUE9SVCA9IHByb2Nlc3MuZW52LlBPUlQgfHwgNTAwMDtcbmFwcC5saXN0ZW4oUE9SVCwgKCkgPT4gY29uc29sZS5sb2coYFNlcnZlciBzdGFydGVkIG9uIHBvcnQgJHtQT1JUfWApKTtcblxuZXhwb3J0IGRlZmF1bHQgYXBwO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsZUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsV0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsS0FBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUksT0FBQSxHQUFBTCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUssR0FBQSxHQUFBTixzQkFBQSxDQUFB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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_expressSession","_bodyParser","_cors","_dotenv","_db","_users","_swaggerUiExpress","_swagger","_passport","_path","app","express","dotenv","config","connectDB","use","json","bodyParser","urlencoded","extended","cors","session","secret","process","env","JWT_SECRET_KEY","resave","saveUninitialized","passport","initialize","set","path","join","__dirname","engine","renderFile","serializeUser","user","done","deserializeUser","users","swaggerUi","serve","setup","swaggerDocument","PORT","listen","console","log","_default","exports","default"],"sourceRoot":"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/","sources":["index.js"],"sourcesContent":["import express from \"express\";\nimport session from \"express-session\";\nimport bodyParser from \"body-parser\";\nimport cors from \"cors\";\nimport dotenv from \"dotenv\";\nimport connectDB from \"./config/db\";\nimport users from \"./routes/users\";\n// import auth from \"./routes/auth\";\nimport swaggerUi from \"swagger-ui-express\";\nimport swaggerDocument from \"../swagger.json\";\nimport passport from \"./config/passport\";\nimport path from \"path\";\n\nconst app = express();\n\ndotenv.config();\nconnectDB();\n\napp.use(express.json());\n\n// Middlewares\napp.use(bodyParser.json());\napp.use(bodyParser.urlencoded({ extended: true }));\napp.use(cors());\n\n// configure the session middleware\napp.use(\n  session({\n    secret: process.env.JWT_SECRET_KEY,\n    resave: false,\n    saveUninitialized: false,\n  })\n);\n\napp.use(passport.initialize());\napp.use(passport.session());\n\napp.set(\"views\", path.join(__dirname, \"views\"));\n\n// Set the view engine to use\napp.set(\"view engine\", \"ejs\");\n\n// Configure the view engine to look for views in the 'views/pages' directory\napp.engine(\"ejs\", require(\"ejs\").renderFile);\napp.set(\"views\", path.join(__dirname, \"views\", \"pages\"));\n\n// Serialize user\npassport.serializeUser(function (user, done) {\n  done(null, user);\n});\n\n// Deserialize user\npassport.deserializeUser(function (user, done) {\n  done(null, user);\n});\n// Routes\napp.use(\"/users\", users);\napp.use(\"/api-docs\", swaggerUi.serve, swaggerUi.setup(swaggerDocument));\n\n/*  Google AUTH  */\n\n// Start server\nconst PORT = process.env.PORT || 5000;\napp.listen(PORT, () => console.log(`Server started on port ${PORT}`));\n\nexport default app;\n"],"mappings":"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"}},"mtime":1682849470020},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/config/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend\",\"filename\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/config/db.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.5:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n_dotenv.default.config();\nlet dbUrl;\nif (process.env.NODE_ENV === \"test\") {\n  dbUrl = process.env.MONGODB_URL_TEST;\n} else {\n  dbUrl = process.env.MONGODB_URL;\n}\nconst connectDB = async () => {\n  try {\n    await _mongoose.default.connect(dbUrl, {\n      useNewUrlParser: true,\n      useUnifiedTopology: true\n    });\n    console.log(\"MongoDB connected successfully\");\n  } catch (error) {\n    console.error(\"MongoDB connection error:\", error);\n  }\n};\nvar _default = connectDB;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9kb3RlbnYiLCJkb3RlbnYiLCJjb25maWciLCJkYlVybCIsInByb2Nlc3MiLCJlbnYiLCJOT0RFX0VOViIsIk1PTkdPREJfVVJMX1RFU1QiLCJNT05HT0RCX1VSTCIsImNvbm5lY3REQiIsIm1vbmdvb3NlIiwiY29ubmVjdCIsInVzZU5ld1VybFBhcnNlciIsInVzZVVuaWZpZWRUb3BvbG9neSIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsImRlZmF1bHQiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9qZWFubmVkYXJjbnlpcmFtd2l6YS9Eb3dubG9hZHMvQWNjb3VudC1WZXJpZmljYXRpb24tQmFja2VuZC9zcmMvY29uZmlnLyIsInNvdXJjZXMiOlsiZGIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xuaW1wb3J0IGRvdGVudiBmcm9tIFwiZG90ZW52XCI7XG5kb3RlbnYuY29uZmlnKCk7XG5cbmxldCBkYlVybDtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInRlc3RcIikge1xuICBkYlVybCA9IHByb2Nlc3MuZW52Lk1PTkdPREJfVVJMX1RFU1Q7XG59IGVsc2Uge1xuICBkYlVybCA9IHByb2Nlc3MuZW52Lk1PTkdPREJfVVJMO1xufVxuXG5jb25zdCBjb25uZWN0REIgPSBhc3luYyAoKSA9PiB7XG4gIHRyeSB7XG4gICAgYXdhaXQgbW9uZ29vc2UuY29ubmVjdChkYlVybCwge1xuICAgICAgdXNlTmV3VXJsUGFyc2VyOiB0cnVlLFxuICAgICAgdXNlVW5pZmllZFRvcG9sb2d5OiB0cnVlLFxuICAgIH0pO1xuICAgIGNvbnNvbGUubG9nKFwiTW9uZ29EQiBjb25uZWN0ZWQgc3VjY2Vzc2Z1bGx5XCIpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJNb25nb0RCIGNvbm5lY3Rpb24gZXJyb3I6XCIsIGVycm9yKTtcbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdERCO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsT0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0FFLGVBQU0sQ0FBQ0MsTUFBTSxDQUFDLENBQUM7QUFFZixJQUFJQyxLQUFLO0FBRVQsSUFBSUMsT0FBTyxDQUFDQyxHQUFHLENBQUNDLFFBQVEsS0FBSyxNQUFNLEVBQUU7RUFDbkNILEtBQUssR0FBR0MsT0FBTyxDQUFDQyxHQUFHLENBQUNFLGdCQUFnQjtBQUN0QyxDQUFDLE1BQU07RUFDTEosS0FBSyxHQUFHQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0csV0FBVztBQUNqQztBQUVBLE1BQU1DLFNBQVMsR0FBRyxNQUFBQSxDQUFBLEtBQVk7RUFDNUIsSUFBSTtJQUNGLE1BQU1DLGlCQUFRLENBQUNDLE9BQU8sQ0FBQ1IsS0FBSyxFQUFFO01BQzVCUyxlQUFlLEVBQUUsSUFBSTtNQUNyQkMsa0JBQWtCLEVBQUU7SUFDdEIsQ0FBQyxDQUFDO0lBQ0ZDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLGdDQUFnQyxDQUFDO0VBQy9DLENBQUMsQ0FBQyxPQUFPQyxLQUFLLEVBQUU7SUFDZEYsT0FBTyxDQUFDRSxLQUFLLENBQUMsMkJBQTJCLEVBQUVBLEtBQUssQ0FBQztFQUNuRDtBQUNGLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBRWFSLFNBQVM7QUFBQVMsT0FBQSxDQUFBQyxPQUFBLEdBQUFGLFFBQUEifQ==","map":{"version":3,"names":["_mongoose","_interopRequireDefault","require","_dotenv","dotenv","config","dbUrl","process","env","NODE_ENV","MONGODB_URL_TEST","MONGODB_URL","connectDB","mongoose","connect","useNewUrlParser","useUnifiedTopology","console","log","error","_default","exports","default"],"sourceRoot":"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/config/","sources":["db.js"],"sourcesContent":["import mongoose from \"mongoose\";\nimport dotenv from \"dotenv\";\ndotenv.config();\n\nlet dbUrl;\n\nif (process.env.NODE_ENV === \"test\") {\n  dbUrl = process.env.MONGODB_URL_TEST;\n} else {\n  dbUrl = process.env.MONGODB_URL;\n}\n\nconst connectDB = async () => {\n  try {\n    await mongoose.connect(dbUrl, {\n      useNewUrlParser: true,\n      useUnifiedTopology: true,\n    });\n    console.log(\"MongoDB connected successfully\");\n  } catch (error) {\n    console.error(\"MongoDB connection error:\", error);\n  }\n};\n\nexport default connectDB;\n"],"mappings":";;;;;;;AAAA,IAAAA,SAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AACAE,eAAM,CAACC,MAAM,CAAC,CAAC;AAEf,IAAIC,KAAK;AAET,IAAIC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,MAAM,EAAE;EACnCH,KAAK,GAAGC,OAAO,CAACC,GAAG,CAACE,gBAAgB;AACtC,CAAC,MAAM;EACLJ,KAAK,GAAGC,OAAO,CAACC,GAAG,CAACG,WAAW;AACjC;AAEA,MAAMC,SAAS,GAAG,MAAAA,CAAA,KAAY;EAC5B,IAAI;IACF,MAAMC,iBAAQ,CAACC,OAAO,CAACR,KAAK,EAAE;MAC5BS,eAAe,EAAE,IAAI;MACrBC,kBAAkB,EAAE;IACtB,CAAC,CAAC;IACFC,OAAO,CAACC,GAAG,CAAC,gCAAgC,CAAC;EAC/C,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdF,OAAO,CAACE,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;EACnD;AACF,CAAC;AAAC,IAAAC,QAAA,GAEaR,SAAS;AAAAS,OAAA,CAAAC,OAAA,GAAAF,QAAA"}},"mtime":1682778608834},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend\",\"filename\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/routes/users.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.5:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _users = _interopRequireDefault(require(\"../controllers/users.js\"));\nvar _auth = _interopRequireDefault(require(\"../controllers/auth.js\"));\nvar _passport = _interopRequireDefault(require(\"../config/passport\"));\nconst router = _express.default.Router();\nrouter.post(\"/signup\", _users.default.createUser);\nrouter.get(\"/verify/:id/:token\", _users.default.verifyEmail);\nrouter.post(\"/login\", _auth.default.login);\n\n// Route handler for /success\nrouter.get(\"/success\", function (req, res) {\n  res.render(\"success\");\n});\nrouter.get(\"/google\", _passport.default.authenticate(\"google\", {\n  scope: [\"profile\", \"email\"]\n}));\nrouter.get(\"/auth/google/callback\", _passport.default.authenticate(\"google\", {\n  failureRedirect: \"/error\"\n}), function (req, res) {\n  // Successful authentication, redirect success.\n  res.redirect(\"/users/success\");\n});\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX3VzZXJzIiwiX2F1dGgiLCJfcGFzc3BvcnQiLCJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwicG9zdCIsInVzZXJzIiwiY3JlYXRlVXNlciIsImdldCIsInZlcmlmeUVtYWlsIiwiYXV0aCIsImxvZ2luIiwicmVxIiwicmVzIiwicmVuZGVyIiwicGFzc3BvcnQiLCJhdXRoZW50aWNhdGUiLCJzY29wZSIsImZhaWx1cmVSZWRpcmVjdCIsInJlZGlyZWN0IiwiX2RlZmF1bHQiLCJleHBvcnRzIiwiZGVmYXVsdCJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2plYW5uZWRhcmNueWlyYW13aXphL0Rvd25sb2Fkcy9BY2NvdW50LVZlcmlmaWNhdGlvbi1CYWNrZW5kL3NyYy9yb3V0ZXMvIiwic291cmNlcyI6WyJ1c2Vycy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0IHVzZXJzIGZyb20gXCIuLi9jb250cm9sbGVycy91c2Vycy5qc1wiO1xuaW1wb3J0IGF1dGggZnJvbSBcIi4uL2NvbnRyb2xsZXJzL2F1dGguanNcIjtcbmltcG9ydCBwYXNzcG9ydCBmcm9tIFwiLi4vY29uZmlnL3Bhc3Nwb3J0XCI7XG5cbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbnJvdXRlci5wb3N0KFwiL3NpZ251cFwiLCB1c2Vycy5jcmVhdGVVc2VyKTtcbnJvdXRlci5nZXQoXCIvdmVyaWZ5LzppZC86dG9rZW5cIiwgdXNlcnMudmVyaWZ5RW1haWwpO1xucm91dGVyLnBvc3QoXCIvbG9naW5cIiwgYXV0aC5sb2dpbik7XG5cbi8vIFJvdXRlIGhhbmRsZXIgZm9yIC9zdWNjZXNzXG5yb3V0ZXIuZ2V0KFwiL3N1Y2Nlc3NcIiwgZnVuY3Rpb24gKHJlcSwgcmVzKSB7XG4gIHJlcy5yZW5kZXIoXCJzdWNjZXNzXCIpO1xufSk7XG5yb3V0ZXIuZ2V0KFxuICBcIi9nb29nbGVcIixcbiAgcGFzc3BvcnQuYXV0aGVudGljYXRlKFwiZ29vZ2xlXCIsIHsgc2NvcGU6IFtcInByb2ZpbGVcIiwgXCJlbWFpbFwiXSB9KVxuKTtcblxucm91dGVyLmdldChcbiAgXCIvYXV0aC9nb29nbGUvY2FsbGJhY2tcIixcbiAgcGFzc3BvcnQuYXV0aGVudGljYXRlKFwiZ29vZ2xlXCIsIHsgZmFpbHVyZVJlZGlyZWN0OiBcIi9lcnJvclwiIH0pLFxuICBmdW5jdGlvbiAocmVxLCByZXMpIHtcbiAgICAvLyBTdWNjZXNzZnVsIGF1dGhlbnRpY2F0aW9uLCByZWRpcmVjdCBzdWNjZXNzLlxuICAgIHJlcy5yZWRpcmVjdChcIi91c2Vycy9zdWNjZXNzXCIpO1xuICB9XG4pO1xuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxNQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxLQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxTQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFFQSxNQUFNSSxNQUFNLEdBQUdDLGdCQUFPLENBQUNDLE1BQU0sQ0FBQyxDQUFDO0FBRS9CRixNQUFNLENBQUNHLElBQUksQ0FBQyxTQUFTLEVBQUVDLGNBQUssQ0FBQ0MsVUFBVSxDQUFDO0FBQ3hDTCxNQUFNLENBQUNNLEdBQUcsQ0FBQyxvQkFBb0IsRUFBRUYsY0FBSyxDQUFDRyxXQUFXLENBQUM7QUFDbkRQLE1BQU0sQ0FBQ0csSUFBSSxDQUFDLFFBQVEsRUFBRUssYUFBSSxDQUFDQyxLQUFLLENBQUM7O0FBRWpDO0FBQ0FULE1BQU0sQ0FBQ00sR0FBRyxDQUFDLFVBQVUsRUFBRSxVQUFVSSxHQUFHLEVBQUVDLEdBQUcsRUFBRTtFQUN6Q0EsR0FBRyxDQUFDQyxNQUFNLENBQUMsU0FBUyxDQUFDO0FBQ3ZCLENBQUMsQ0FBQztBQUNGWixNQUFNLENBQUNNLEdBQUcsQ0FDUixTQUFTLEVBQ1RPLGlCQUFRLENBQUNDLFlBQVksQ0FBQyxRQUFRLEVBQUU7RUFBRUMsS0FBSyxFQUFFLENBQUMsU0FBUyxFQUFFLE9BQU87QUFBRSxDQUFDLENBQ2pFLENBQUM7QUFFRGYsTUFBTSxDQUFDTSxHQUFHLENBQ1IsdUJBQXVCLEVBQ3ZCTyxpQkFBUSxDQUFDQyxZQUFZLENBQUMsUUFBUSxFQUFFO0VBQUVFLGVBQWUsRUFBRTtBQUFTLENBQUMsQ0FBQyxFQUM5RCxVQUFVTixHQUFHLEVBQUVDLEdBQUcsRUFBRTtFQUNsQjtFQUNBQSxHQUFHLENBQUNNLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQztBQUNoQyxDQUNGLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBRWFsQixNQUFNO0FBQUFtQixPQUFBLENBQUFDLE9BQUEsR0FBQUYsUUFBQSJ9","map":{"version":3,"names":["_express","_interopRequireDefault","require","_users","_auth","_passport","router","express","Router","post","users","createUser","get","verifyEmail","auth","login","req","res","render","passport","authenticate","scope","failureRedirect","redirect","_default","exports","default"],"sourceRoot":"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/routes/","sources":["users.js"],"sourcesContent":["import express from \"express\";\nimport users from \"../controllers/users.js\";\nimport auth from \"../controllers/auth.js\";\nimport passport from \"../config/passport\";\n\nconst router = express.Router();\n\nrouter.post(\"/signup\", users.createUser);\nrouter.get(\"/verify/:id/:token\", users.verifyEmail);\nrouter.post(\"/login\", auth.login);\n\n// Route handler for /success\nrouter.get(\"/success\", function (req, res) {\n  res.render(\"success\");\n});\nrouter.get(\n  \"/google\",\n  passport.authenticate(\"google\", { scope: [\"profile\", \"email\"] })\n);\n\nrouter.get(\n  \"/auth/google/callback\",\n  passport.authenticate(\"google\", { failureRedirect: \"/error\" }),\n  function (req, res) {\n    // Successful authentication, redirect success.\n    res.redirect(\"/users/success\");\n  }\n);\n\nexport default router;\n"],"mappings":";;;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,MAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,SAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAEA,MAAMI,MAAM,GAAGC,gBAAO,CAACC,MAAM,CAAC,CAAC;AAE/BF,MAAM,CAACG,IAAI,CAAC,SAAS,EAAEC,cAAK,CAACC,UAAU,CAAC;AACxCL,MAAM,CAACM,GAAG,CAAC,oBAAoB,EAAEF,cAAK,CAACG,WAAW,CAAC;AACnDP,MAAM,CAACG,IAAI,CAAC,QAAQ,EAAEK,aAAI,CAACC,KAAK,CAAC;;AAEjC;AACAT,MAAM,CAACM,GAAG,CAAC,UAAU,EAAE,UAAUI,GAAG,EAAEC,GAAG,EAAE;EACzCA,GAAG,CAACC,MAAM,CAAC,SAAS,CAAC;AACvB,CAAC,CAAC;AACFZ,MAAM,CAACM,GAAG,CACR,SAAS,EACTO,iBAAQ,CAACC,YAAY,CAAC,QAAQ,EAAE;EAAEC,KAAK,EAAE,CAAC,SAAS,EAAE,OAAO;AAAE,CAAC,CACjE,CAAC;AAEDf,MAAM,CAACM,GAAG,CACR,uBAAuB,EACvBO,iBAAQ,CAACC,YAAY,CAAC,QAAQ,EAAE;EAAEE,eAAe,EAAE;AAAS,CAAC,CAAC,EAC9D,UAAUN,GAAG,EAAEC,GAAG,EAAE;EAClB;EACAA,GAAG,CAACM,QAAQ,CAAC,gBAAgB,CAAC;AAChC,CACF,CAAC;AAAC,IAAAC,QAAA,GAEalB,MAAM;AAAAmB,OAAA,CAAAC,OAAA,GAAAF,QAAA"}},"mtime":1682849298478},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend\",\"filename\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/controllers/users.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.5:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\nvar _httpStatus = _interopRequireDefault(require(\"http-status\"));\nvar _user = _interopRequireDefault(require(\"../models/user\"));\nvar _token = _interopRequireDefault(require(\"../models/token\"));\nvar _sendMail = _interopRequireDefault(require(\"../utils/sendMail\"));\nvar _crypto = _interopRequireDefault(require(\"crypto\"));\n// Create User\nconst createUser = async (req, res) => {\n  try {\n    const {\n      name,\n      email,\n      password,\n      gender,\n      age,\n      dateOfBirth,\n      maritalStatus,\n      nationality\n    } = req.body;\n\n    // Check if email is already taken\n    const existingUser = await _user.default.findOne({\n      email\n    });\n    if (existingUser) {\n      return res.status(400).json({\n        error: \"Email already taken\"\n      });\n    }\n\n    // Hash password\n    const saltRounds = 10;\n    const hashedPassword = await _bcrypt.default.hash(password, saltRounds);\n\n    // Create new user\n    const newUser = new _user.default({\n      name,\n      email,\n      password: hashedPassword,\n      // Use the correct field name\n      gender,\n      age,\n      dateOfBirth,\n      maritalStatus,\n      nationality\n    });\n    await newUser.save();\n    let newToken = await new _token.default({\n      // Use the correct variable name\n      userId: newUser._id,\n      token: _crypto.default.randomBytes(32).toString(\"hex\")\n    }).save();\n    const message = `${process.env.BASE_URL}/users/verify/${newUser.id}/${newToken.token}`;\n    await (0, _sendMail.default)(newUser.email, \"Verify Email\", message);\n    res.send(\"An email has been sent to your account, please verify your email\");\n  } catch (error) {\n    console.log(error); // Log the error for debugging\n    res.status(400).send(\"An error occurred\");\n  }\n};\nconst verifyEmail = async (req, res) => {\n  try {\n    const user = await _user.default.findOne({\n      _id: req.params.id\n    });\n    if (!user) return res.status(400).send(\"Invalid link\");\n    const token = await _token.default.findOne({\n      userId: user._id,\n      token: req.params.token\n    });\n    if (!token) return res.status(400).send(\"Invalid link\");\n    await _user.default.updateOne({\n      _id: user._id\n    }, {\n      isEmailVerified: true\n    }); // Use the correct update syntax\n    await _token.default.findByIdAndRemove(token._id);\n    res.send(\"Email verified successfully\");\n  } catch (error) {\n    console.log(error); // Log the error for debugging\n    res.status(400).send(\"An error occurred\");\n  }\n};\nvar _default = {\n  createUser,\n  verifyEmail\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYmNyeXB0IiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfaHR0cFN0YXR1cyIsIl91c2VyIiwiX3Rva2VuIiwiX3NlbmRNYWlsIiwiX2NyeXB0byIsImNyZWF0ZVVzZXIiLCJyZXEiLCJyZXMiLCJuYW1lIiwiZW1haWwiLCJwYXNzd29yZCIsImdlbmRlciIsImFnZSIsImRhdGVPZkJpcnRoIiwibWFyaXRhbFN0YXR1cyIsIm5hdGlvbmFsaXR5IiwiYm9keSIsImV4aXN0aW5nVXNlciIsIlVzZXIiLCJmaW5kT25lIiwic3RhdHVzIiwianNvbiIsImVycm9yIiwic2FsdFJvdW5kcyIsImhhc2hlZFBhc3N3b3JkIiwiYmNyeXB0IiwiaGFzaCIsIm5ld1VzZXIiLCJzYXZlIiwibmV3VG9rZW4iLCJUb2tlbiIsInVzZXJJZCIsIl9pZCIsInRva2VuIiwiY3J5cHRvIiwicmFuZG9tQnl0ZXMiLCJ0b1N0cmluZyIsIm1lc3NhZ2UiLCJwcm9jZXNzIiwiZW52IiwiQkFTRV9VUkwiLCJpZCIsInNlbmRNYWlsIiwic2VuZCIsImNvbnNvbGUiLCJsb2ciLCJ2ZXJpZnlFbWFpbCIsInVzZXIiLCJwYXJhbXMiLCJ1cGRhdGVPbmUiLCJpc0VtYWlsVmVyaWZpZWQiLCJmaW5kQnlJZEFuZFJlbW92ZSIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsImRlZmF1bHQiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9qZWFubmVkYXJjbnlpcmFtd2l6YS9Eb3dubG9hZHMvQWNjb3VudC1WZXJpZmljYXRpb24tQmFja2VuZC9zcmMvY29udHJvbGxlcnMvIiwic291cmNlcyI6WyJ1c2Vycy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYmNyeXB0IGZyb20gXCJiY3J5cHRcIjtcbmltcG9ydCBodHRwU3RhdHVzIGZyb20gXCJodHRwLXN0YXR1c1wiO1xuaW1wb3J0IFVzZXIgZnJvbSBcIi4uL21vZGVscy91c2VyXCI7XG5pbXBvcnQgVG9rZW4gZnJvbSBcIi4uL21vZGVscy90b2tlblwiO1xuaW1wb3J0IHNlbmRNYWlsIGZyb20gXCIuLi91dGlscy9zZW5kTWFpbFwiO1xuaW1wb3J0IGNyeXB0byBmcm9tIFwiY3J5cHRvXCI7XG5cbi8vIENyZWF0ZSBVc2VyXG5jb25zdCBjcmVhdGVVc2VyID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3Qge1xuICAgICAgbmFtZSxcbiAgICAgIGVtYWlsLFxuICAgICAgcGFzc3dvcmQsXG4gICAgICBnZW5kZXIsXG4gICAgICBhZ2UsXG4gICAgICBkYXRlT2ZCaXJ0aCxcbiAgICAgIG1hcml0YWxTdGF0dXMsXG4gICAgICBuYXRpb25hbGl0eSxcbiAgICB9ID0gcmVxLmJvZHk7XG5cbiAgICAvLyBDaGVjayBpZiBlbWFpbCBpcyBhbHJlYWR5IHRha2VuXG4gICAgY29uc3QgZXhpc3RpbmdVc2VyID0gYXdhaXQgVXNlci5maW5kT25lKHsgZW1haWwgfSk7XG4gICAgaWYgKGV4aXN0aW5nVXNlcikge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6IFwiRW1haWwgYWxyZWFkeSB0YWtlblwiIH0pO1xuICAgIH1cblxuICAgIC8vIEhhc2ggcGFzc3dvcmRcbiAgICBjb25zdCBzYWx0Um91bmRzID0gMTA7XG4gICAgY29uc3QgaGFzaGVkUGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuaGFzaChwYXNzd29yZCwgc2FsdFJvdW5kcyk7XG5cbiAgICAvLyBDcmVhdGUgbmV3IHVzZXJcbiAgICBjb25zdCBuZXdVc2VyID0gbmV3IFVzZXIoe1xuICAgICAgbmFtZSxcbiAgICAgIGVtYWlsLFxuICAgICAgcGFzc3dvcmQ6IGhhc2hlZFBhc3N3b3JkLCAvLyBVc2UgdGhlIGNvcnJlY3QgZmllbGQgbmFtZVxuICAgICAgZ2VuZGVyLFxuICAgICAgYWdlLFxuICAgICAgZGF0ZU9mQmlydGgsXG4gICAgICBtYXJpdGFsU3RhdHVzLFxuICAgICAgbmF0aW9uYWxpdHksXG4gICAgfSk7XG4gICAgYXdhaXQgbmV3VXNlci5zYXZlKCk7XG5cbiAgICBsZXQgbmV3VG9rZW4gPSBhd2FpdCBuZXcgVG9rZW4oe1xuICAgICAgLy8gVXNlIHRoZSBjb3JyZWN0IHZhcmlhYmxlIG5hbWVcbiAgICAgIHVzZXJJZDogbmV3VXNlci5faWQsXG4gICAgICB0b2tlbjogY3J5cHRvLnJhbmRvbUJ5dGVzKDMyKS50b1N0cmluZyhcImhleFwiKSxcbiAgICB9KS5zYXZlKCk7XG5cbiAgICBjb25zdCBtZXNzYWdlID0gYCR7cHJvY2Vzcy5lbnYuQkFTRV9VUkx9L3VzZXJzL3ZlcmlmeS8ke25ld1VzZXIuaWR9LyR7bmV3VG9rZW4udG9rZW59YDtcbiAgICBhd2FpdCBzZW5kTWFpbChuZXdVc2VyLmVtYWlsLCBcIlZlcmlmeSBFbWFpbFwiLCBtZXNzYWdlKTtcblxuICAgIHJlcy5zZW5kKFxuICAgICAgXCJBbiBlbWFpbCBoYXMgYmVlbiBzZW50IHRvIHlvdXIgYWNjb3VudCwgcGxlYXNlIHZlcmlmeSB5b3VyIGVtYWlsXCJcbiAgICApO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUubG9nKGVycm9yKTsgLy8gTG9nIHRoZSBlcnJvciBmb3IgZGVidWdnaW5nXG4gICAgcmVzLnN0YXR1cyg0MDApLnNlbmQoXCJBbiBlcnJvciBvY2N1cnJlZFwiKTtcbiAgfVxufTtcblxuY29uc3QgdmVyaWZ5RW1haWwgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kT25lKHsgX2lkOiByZXEucGFyYW1zLmlkIH0pO1xuICAgIGlmICghdXNlcikgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKFwiSW52YWxpZCBsaW5rXCIpO1xuXG4gICAgY29uc3QgdG9rZW4gPSBhd2FpdCBUb2tlbi5maW5kT25lKHtcbiAgICAgIHVzZXJJZDogdXNlci5faWQsXG4gICAgICB0b2tlbjogcmVxLnBhcmFtcy50b2tlbixcbiAgICB9KTtcbiAgICBpZiAoIXRva2VuKSByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoXCJJbnZhbGlkIGxpbmtcIik7XG5cbiAgICBhd2FpdCBVc2VyLnVwZGF0ZU9uZSh7IF9pZDogdXNlci5faWQgfSwgeyBpc0VtYWlsVmVyaWZpZWQ6IHRydWUgfSk7IC8vIFVzZSB0aGUgY29ycmVjdCB1cGRhdGUgc3ludGF4XG4gICAgYXdhaXQgVG9rZW4uZmluZEJ5SWRBbmRSZW1vdmUodG9rZW4uX2lkKTtcblxuICAgIHJlcy5zZW5kKFwiRW1haWwgdmVyaWZpZWQgc3VjY2Vzc2Z1bGx5XCIpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUubG9nKGVycm9yKTsgLy8gTG9nIHRoZSBlcnJvciBmb3IgZGVidWdnaW5nXG4gICAgcmVzLnN0YXR1cyg0MDApLnNlbmQoXCJBbiBlcnJvciBvY2N1cnJlZFwiKTtcbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgeyBjcmVhdGVVc2VyLCB2ZXJpZnlFbWFpbCB9O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsSUFBQUEsT0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsV0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsTUFBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUksU0FBQSxHQUFBTCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUssT0FBQSxHQUFBTixzQkFBQSxDQUFBQyxPQUFBO0FBRUE7QUFDQSxNQUFNTSxVQUFVLEdBQUcsTUFBQUEsQ0FBT0MsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDckMsSUFBSTtJQUNGLE1BQU07TUFDSkMsSUFBSTtNQUNKQyxLQUFLO01BQ0xDLFFBQVE7TUFDUkMsTUFBTTtNQUNOQyxHQUFHO01BQ0hDLFdBQVc7TUFDWEMsYUFBYTtNQUNiQztJQUNGLENBQUMsR0FBR1QsR0FBRyxDQUFDVSxJQUFJOztJQUVaO0lBQ0EsTUFB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","map":{"version":3,"names":["_bcrypt","_interopRequireDefault","require","_httpStatus","_user","_token","_sendMail","_crypto","createUser","req","res","name","email","password","gender","age","dateOfBirth","maritalStatus","nationality","body","existingUser","User","findOne","status","json","error","saltRounds","hashedPassword","bcrypt","hash","newUser","save","newToken","Token","userId","_id","token","crypto","randomBytes","toString","message","process","env","BASE_URL","id","sendMail","send","console","log","verifyEmail","user","params","updateOne","isEmailVerified","findByIdAndRemove","_default","exports","default"],"sourceRoot":"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/controllers/","sources":["users.js"],"sourcesContent":["import bcrypt from \"bcrypt\";\nimport httpStatus from \"http-status\";\nimport User from \"../models/user\";\nimport Token from \"../models/token\";\nimport sendMail from \"../utils/sendMail\";\nimport crypto from \"crypto\";\n\n// Create User\nconst createUser = async (req, res) => {\n  try {\n    const {\n      name,\n      email,\n      password,\n      gender,\n      age,\n      dateOfBirth,\n      maritalStatus,\n      nationality,\n    } = req.body;\n\n    // Check if email is already taken\n    const existingUser = await User.findOne({ email });\n    if (existingUser) {\n      return res.status(400).json({ error: \"Email already taken\" });\n    }\n\n    // Hash password\n    const saltRounds = 10;\n    const hashedPassword = await bcrypt.hash(password, saltRounds);\n\n    // Create new user\n    const newUser = new User({\n      name,\n      email,\n      password: hashedPassword, // Use the correct field name\n      gender,\n      age,\n      dateOfBirth,\n      maritalStatus,\n      nationality,\n    });\n    await newUser.save();\n\n    let newToken = await new Token({\n      // Use the correct variable name\n      userId: newUser._id,\n      token: crypto.randomBytes(32).toString(\"hex\"),\n    }).save();\n\n    const message = `${process.env.BASE_URL}/users/verify/${newUser.id}/${newToken.token}`;\n    await sendMail(newUser.email, \"Verify Email\", message);\n\n    res.send(\n      \"An email has been sent to your account, please verify your email\"\n    );\n  } catch (error) {\n    console.log(error); // Log the error for debugging\n    res.status(400).send(\"An error occurred\");\n  }\n};\n\nconst verifyEmail = async (req, res) => {\n  try {\n    const user = await User.findOne({ _id: req.params.id });\n    if (!user) return res.status(400).send(\"Invalid link\");\n\n    const token = await Token.findOne({\n      userId: user._id,\n      token: req.params.token,\n    });\n    if (!token) return res.status(400).send(\"Invalid link\");\n\n    await User.updateOne({ _id: user._id }, { isEmailVerified: true }); // Use the correct update syntax\n    await Token.findByIdAndRemove(token._id);\n\n    res.send(\"Email verified successfully\");\n  } catch (error) {\n    console.log(error); // Log the error for debugging\n    res.status(400).send(\"An error occurred\");\n  }\n};\n\nexport default { createUser, verifyEmail };\n"],"mappings":"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"}},"mtime":1682839982758},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend\",\"filename\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/routes/users.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.5:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _users = _interopRequireDefault(require(\"../controllers/users.js\"));\nvar _auth = _interopRequireDefault(require(\"../controllers/auth.js\"));\nvar _passport = _interopRequireDefault(require(\"../config/passport\"));\nvar _authMiddleware = require(\"../middleware/authMiddleware.js\");\nconst router = _express.default.Router();\nrouter.post(\"/signup\", _users.default.createUser);\nrouter.get(\"/verify/:id/:token\", _users.default.verifyEmail);\nrouter.post(\"/login\", _auth.default.login);\n\n// Route handler for /success\nrouter.get(\"/success\", function (req, res) {\n  res.render(\"success\");\n});\nrouter.get(\"/google\", _passport.default.authenticate(\"google\", {\n  scope: [\"profile\", \"email\"]\n}));\nrouter.get(\"/auth/google/callback\", _passport.default.authenticate(\"google\", {\n  failureRedirect: \"/error\"\n}), function (req, res) {\n  // Successful authentication, redirect success.\n  res.redirect(\"/users/success\");\n});\nrouter.post(\"/reset-password\", _authMiddleware.isAuthenticated, _auth.default.resetPassword);\nrouter.post(\"/reset-password/:token\", _authMiddleware.isAuthenticated, _auth.default.resetLink);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX3VzZXJzIiwiX2F1dGgiLCJfcGFzc3BvcnQiLCJfYXV0aE1pZGRsZXdhcmUiLCJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwicG9zdCIsInVzZXJzIiwiY3JlYXRlVXNlciIsImdldCIsInZlcmlmeUVtYWlsIiwiYXV0aCIsImxvZ2luIiwicmVxIiwicmVzIiwicmVuZGVyIiwicGFzc3BvcnQiLCJhdXRoZW50aWNhdGUiLCJzY29wZSIsImZhaWx1cmVSZWRpcmVjdCIsInJlZGlyZWN0IiwiaXNBdXRoZW50aWNhdGVkIiwicmVzZXRQYXNzd29yZCIsInJlc2V0TGluayIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsImRlZmF1bHQiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9qZWFubmVkYXJjbnlpcmFtd2l6YS9Eb3dubG9hZHMvQWNjb3VudC1WZXJpZmljYXRpb24tQmFja2VuZC9zcmMvcm91dGVzLyIsInNvdXJjZXMiOlsidXNlcnMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjtcbmltcG9ydCB1c2VycyBmcm9tIFwiLi4vY29udHJvbGxlcnMvdXNlcnMuanNcIjtcbmltcG9ydCBhdXRoIGZyb20gXCIuLi9jb250cm9sbGVycy9hdXRoLmpzXCI7XG5pbXBvcnQgcGFzc3BvcnQgZnJvbSBcIi4uL2NvbmZpZy9wYXNzcG9ydFwiO1xuaW1wb3J0IHsgaXNBdXRoZW50aWNhdGVkIH0gZnJvbSBcIi4uL21pZGRsZXdhcmUvYXV0aE1pZGRsZXdhcmUuanNcIjtcblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxucm91dGVyLnBvc3QoXCIvc2lnbnVwXCIsIHVzZXJzLmNyZWF0ZVVzZXIpO1xucm91dGVyLmdldChcIi92ZXJpZnkvOmlkLzp0b2tlblwiLCB1c2Vycy52ZXJpZnlFbWFpbCk7XG5yb3V0ZXIucG9zdChcIi9sb2dpblwiLCBhdXRoLmxvZ2luKTtcblxuLy8gUm91dGUgaGFuZGxlciBmb3IgL3N1Y2Nlc3NcbnJvdXRlci5nZXQoXCIvc3VjY2Vzc1wiLCBmdW5jdGlvbiAocmVxLCByZXMpIHtcbiAgcmVzLnJlbmRlcihcInN1Y2Nlc3NcIik7XG59KTtcbnJvdXRlci5nZXQoXG4gIFwiL2dvb2dsZVwiLFxuICBwYXNzcG9ydC5hdXRoZW50aWNhdGUoXCJnb29nbGVcIiwgeyBzY29wZTogW1wicHJvZmlsZVwiLCBcImVtYWlsXCJdIH0pXG4pO1xuXG5yb3V0ZXIuZ2V0KFxuICBcIi9hdXRoL2dvb2dsZS9jYWxsYmFja1wiLFxuICBwYXNzcG9ydC5hdXRoZW50aWNhdGUoXCJnb29nbGVcIiwgeyBmYWlsdXJlUmVkaXJlY3Q6IFwiL2Vycm9yXCIgfSksXG4gIGZ1bmN0aW9uIChyZXEsIHJlcykge1xuICAgIC8vIFN1Y2Nlc3NmdWwgYXV0aGVudGljYXRpb24sIHJlZGlyZWN0IHN1Y2Nlc3MuXG4gICAgcmVzLnJlZGlyZWN0KFwiL3VzZXJzL3N1Y2Nlc3NcIik7XG4gIH1cbik7XG5cbnJvdXRlci5wb3N0KFwiL3Jlc2V0LXBhc3N3b3JkXCIsIGlzQXV0aGVudGljYXRlZCwgYXV0aC5yZXNldFBhc3N3b3JkKTtcbnJvdXRlci5wb3N0KFwiL3Jlc2V0LXBhc3N3b3JkLzp0b2tlblwiLCBpc0F1dGhlbnRpY2F0ZWQsIGF1dGgucmVzZXRMaW5rKTtcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsTUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsU0FBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUksZUFBQSxHQUFBSixPQUFBO0FBRUEsTUFBTUssTUFBTSxHQUFHQyxnQkFBTyxDQUFDQyxNQUFNLENBQUMsQ0FBQztBQUUvQkYsTUFBTSxDQUFDRyxJQUFJLENBQUMsU0FBUyxFQUFFQyxjQUFLLENBQUNDLFVBQVUsQ0FBQztBQUN4Q0wsTUFBTSxDQUFDTSxHQUFHLENBQUMsb0JBQW9CLEVBQUVGLGNBQUssQ0FBQ0csV0FBVyxDQUFDO0FBQ25EUCxNQUFNLENBQUNHLElBQUksQ0FBQyxRQUFRLEVBQUVLLGFBQUksQ0FBQ0MsS0FBSyxDQUFDOztBQUVqQztBQUNBVCxNQUFNLENBQUNNLEdBQUcsQ0FBQyxVQUFVLEVBQUUsVUFBVUksR0FBRyxFQUFFQyxHQUFHLEVBQUU7RUFDekNBLEdBQUcsQ0FBQ0MsTUFBTSxDQUFDLFNBQVMsQ0FBQztBQUN2QixDQUFDLENBQUM7QUFDRlosTUFBTSxDQUFDTSxHQUFHLENBQ1IsU0FBUyxFQUNUTyxpQkFBUSxDQUFDQyxZQUFZLENBQUMsUUFBUSxFQUFFO0VBQUVDLEtBQUssRUFBRSxDQUFDLFNBQVMsRUFBRSxPQUFPO0FBQUUsQ0FBQyxDQUNqRSxDQUFDO0FBRURmLE1BQU0sQ0FBQ00sR0FBRyxDQUNSLHVCQUF1QixFQUN2Qk8saUJBQVEsQ0FBQ0MsWUFBWSxDQUFDLFFBQVEsRUFBRTtFQUFFRSxlQUFlLEVBQUU7QUFBUyxDQUFDLENBQUMsRUFDOUQsVUFBVU4sR0FBRyxFQUFFQyxHQUFHLEVBQUU7RUFDbEI7RUFDQUEsR0FBRyxDQUFDTSxRQUFRLENBQUMsZ0JBQWdCLENBQUM7QUFDaEMsQ0FDRixDQUFDO0FBRURqQixNQUFNLENBQUNHLElBQUksQ0FBQyxpQkFBaUIsRUFBRWUsK0JBQWUsRUFBRVYsYUFBSSxDQUFDVyxhQUFhLENBQUM7QUFDbkVuQixNQUFNLENBQUNHLElBQUksQ0FBQyx3QkFBd0IsRUFBRWUsK0JBQWUsRUFBRVYsYUFBSSxDQUFDWSxTQUFTLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBRXhEckIsTUFBTTtBQUFBc0IsT0FBQSxDQUFBQyxPQUFBLEdBQUFGLFFBQUEifQ==","map":{"version":3,"names":["_express","_interopRequireDefault","require","_users","_auth","_passport","_authMiddleware","router","express","Router","post","users","createUser","get","verifyEmail","auth","login","req","res","render","passport","authenticate","scope","failureRedirect","redirect","isAuthenticated","resetPassword","resetLink","_default","exports","default"],"sourceRoot":"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/routes/","sources":["users.js"],"sourcesContent":["import express from \"express\";\nimport users from \"../controllers/users.js\";\nimport auth from \"../controllers/auth.js\";\nimport passport from \"../config/passport\";\nimport { isAuthenticated } from \"../middleware/authMiddleware.js\";\n\nconst router = express.Router();\n\nrouter.post(\"/signup\", users.createUser);\nrouter.get(\"/verify/:id/:token\", users.verifyEmail);\nrouter.post(\"/login\", auth.login);\n\n// Route handler for /success\nrouter.get(\"/success\", function (req, res) {\n  res.render(\"success\");\n});\nrouter.get(\n  \"/google\",\n  passport.authenticate(\"google\", { scope: [\"profile\", \"email\"] })\n);\n\nrouter.get(\n  \"/auth/google/callback\",\n  passport.authenticate(\"google\", { failureRedirect: \"/error\" }),\n  function (req, res) {\n    // Successful authentication, redirect success.\n    res.redirect(\"/users/success\");\n  }\n);\n\nrouter.post(\"/reset-password\", isAuthenticated, auth.resetPassword);\nrouter.post(\"/reset-password/:token\", isAuthenticated, auth.resetLink);\n\nexport default router;\n"],"mappings":";;;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,MAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,SAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,eAAA,GAAAJ,OAAA;AAEA,MAAMK,MAAM,GAAGC,gBAAO,CAACC,MAAM,CAAC,CAAC;AAE/BF,MAAM,CAACG,IAAI,CAAC,SAAS,EAAEC,cAAK,CAACC,UAAU,CAAC;AACxCL,MAAM,CAACM,GAAG,CAAC,oBAAoB,EAAEF,cAAK,CAACG,WAAW,CAAC;AACnDP,MAAM,CAACG,IAAI,CAAC,QAAQ,EAAEK,aAAI,CAACC,KAAK,CAAC;;AAEjC;AACAT,MAAM,CAACM,GAAG,CAAC,UAAU,EAAE,UAAUI,GAAG,EAAEC,GAAG,EAAE;EACzCA,GAAG,CAACC,MAAM,CAAC,SAAS,CAAC;AACvB,CAAC,CAAC;AACFZ,MAAM,CAACM,GAAG,CACR,SAAS,EACTO,iBAAQ,CAACC,YAAY,CAAC,QAAQ,EAAE;EAAEC,KAAK,EAAE,CAAC,SAAS,EAAE,OAAO;AAAE,CAAC,CACjE,CAAC;AAEDf,MAAM,CAACM,GAAG,CACR,uBAAuB,EACvBO,iBAAQ,CAACC,YAAY,CAAC,QAAQ,EAAE;EAAEE,eAAe,EAAE;AAAS,CAAC,CAAC,EAC9D,UAAUN,GAAG,EAAEC,GAAG,EAAE;EAClB;EACAA,GAAG,CAACM,QAAQ,CAAC,gBAAgB,CAAC;AAChC,CACF,CAAC;AAEDjB,MAAM,CAACG,IAAI,CAAC,iBAAiB,EAAEe,+BAAe,EAAEV,aAAI,CAACW,aAAa,CAAC;AACnEnB,MAAM,CAACG,IAAI,CAAC,wBAAwB,EAAEe,+BAAe,EAAEV,aAAI,CAACY,SAAS,CAAC;AAAC,IAAAC,QAAA,GAExDrB,MAAM;AAAAsB,OAAA,CAAAC,OAAA,GAAAF,QAAA"}},"mtime":1682859681691},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend\",\"filename\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/models/user.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.5:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nvar _maritalStatus = require(\"../utils/enum/maritalStatus.enum\");\nvar _gender = require(\"../utils/gender.enum\");\nvar _accountState = require(\"../utils/enum/accountState\");\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\n// Define user schema\nconst userSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  email: {\n    type: String,\n    unique: true,\n    required: true\n  },\n  password: {\n    type: String,\n    required: true,\n    password: {\n      type: String,\n      required: true,\n      validate: {\n        validator: function (v) {\n          return /^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{8,12}$/.test(v);\n        },\n        message: props => `${props.value} is not a valid password. Password must be alphanumeric and between 8 and 12 characters.`\n      }\n    }\n  },\n  profilePicture: {\n    type: String\n  },\n  gender: {\n    type: String,\n    enum: _gender.GenderStatus\n  },\n  age: {\n    type: Number\n  },\n  accountState: {\n    type: String,\n    enum: _accountState.AccountState,\n    default: _accountState.AccountState.UNVERIFIED\n  },\n  dateOfBirth: {\n    type: String\n  },\n  maritalStatus: {\n    type: String,\n    enum: _maritalStatus.MaritalStatus\n  },\n  nationality: {\n    type: String\n  },\n  nationalId: {\n    type: String,\n    validate: {\n      validator: function (v) {\n        return /^1([9][5-9]|[0-9][0-9])\\d{8}$/.test(v);\n      },\n      message: \"Invalid Rwandan national ID format\"\n    }\n  },\n  passportId: {\n    type: String,\n    validate: {\n      validator: function (v) {\n        return /^[A-Z]{2}[A-Z0-9]{3,20}$/.test(v);\n      },\n      message: \"Invalid passport ID format\"\n    }\n  },\n  nationalIdPicture: {\n    type: String\n  },\n  passportPicture: {\n    type: String\n  },\n  isEmailVerified: {\n    type: Boolean,\n    default: false\n  },\n  resetToken: {\n    type: String\n  },\n  resetExpires: {\n    type: String\n  }\n});\nuserSchema.methods.verifyPassword = async function (password) {\n  return await _bcrypt.default.compare(password, this.password);\n};\nconst User = _mongoose.default.model(\"User\", userSchema);\nvar _default = User;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9tYXJpdGFsU3RhdHVzIiwiX2dlbmRlciIsIl9hY2NvdW50U3RhdGUiLCJfYmNyeXB0IiwidXNlclNjaGVtYSIsIm1vbmdvb3NlIiwiU2NoZW1hIiwibmFtZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsImVtYWlsIiwidW5pcXVlIiwicGFzc3dvcmQiLCJ2YWxpZGF0ZSIsInZhbGlkYXRvciIsInYiLCJ0ZXN0IiwibWVzc2FnZSIsInByb3BzIiwidmFsdWUiLCJwcm9maWxlUGljdHVyZSIsImdlbmRlciIsImVudW0iLCJHZW5kZXJTdGF0dXMiLCJhZ2UiLCJOdW1iZXIiLCJhY2NvdW50U3RhdGUiLCJBY2NvdW50U3RhdGUiLCJkZWZhdWx0IiwiVU5WRVJJRklFRCIsImRhdGVPZkJpcnRoIiwibWFyaXRhbFN0YXR1cyIsIk1hcml0YWxTdGF0dXMiLCJuYXRpb25hbGl0eSIsIm5hdGlvbmFsSWQiLCJwYXNzcG9ydElkIiwibmF0aW9uYWxJZFBpY3R1cmUiLCJwYXNzcG9ydFBpY3R1cmUiLCJpc0VtYWlsVmVyaWZpZWQiLCJCb29sZWFuIiwicmVzZXRUb2tlbiIsInJlc2V0RXhwaXJlcyIsIm1ldGhvZHMiLCJ2ZXJpZnlQYXNzd29yZCIsImJjcnlwdCIsImNvbXBhcmUiLCJVc2VyIiwibW9kZWwiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9qZWFubmVkYXJjbnlpcmFtd2l6YS9Eb3dubG9hZHMvQWNjb3VudC1WZXJpZmljYXRpb24tQmFja2VuZC9zcmMvbW9kZWxzLyIsInNvdXJjZXMiOlsidXNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XG5pbXBvcnQgeyBNYXJpdGFsU3RhdHVzIH0gZnJvbSBcIi4uL3V0aWxzL2VudW0vbWFyaXRhbFN0YXR1cy5lbnVtXCI7XG5pbXBvcnQgeyBHZW5kZXJTdGF0dXMgfSBmcm9tIFwiLi4vdXRpbHMvZ2VuZGVyLmVudW1cIjtcbmltcG9ydCB7IEFjY291bnRTdGF0ZSB9IGZyb20gXCIuLi91dGlscy9lbnVtL2FjY291bnRTdGF0ZVwiO1xuaW1wb3J0IGJjcnlwdCBmcm9tIFwiYmNyeXB0XCI7XG5cbi8vIERlZmluZSB1c2VyIHNjaGVtYVxuY29uc3QgdXNlclNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xuICBuYW1lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgZW1haWw6IHsgdHlwZTogU3RyaW5nLCB1bmlxdWU6IHRydWUsIHJlcXVpcmVkOiB0cnVlIH0sXG4gIHBhc3N3b3JkOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIHBhc3N3b3JkOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgIHZhbGlkYXRlOiB7XG4gICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICByZXR1cm4gL14oPz0uKltBLVphLXpdKSg/PS4qXFxkKVtBLVphLXpcXGRdezgsMTJ9JC8udGVzdCh2KTtcbiAgICAgICAgfSxcbiAgICAgICAgbWVzc2FnZTogKHByb3BzKSA9PlxuICAgICAgICAgIGAke3Byb3BzLnZhbHVlfSBpcyBub3QgYSB2YWxpZCBwYXNzd29yZC4gUGFzc3dvcmQgbXVzdCBiZSBhbHBoYW51bWVyaWMgYW5kIGJldHdlZW4gOCBhbmQgMTIgY2hhcmFjdGVycy5gLFxuICAgICAgfSxcbiAgICB9LFxuICB9LFxuICBwcm9maWxlUGljdHVyZTogeyB0eXBlOiBTdHJpbmcgfSxcbiAgZ2VuZGVyOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIGVudW06IEdlbmRlclN0YXR1cyxcbiAgfSxcbiAgYWdlOiB7IHR5cGU6IE51bWJlciB9LFxuICBhY2NvdW50U3RhdGU6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgZW51bTogQWNjb3VudFN0YXRlLFxuICAgIGRlZmF1bHQ6IEFjY291bnRTdGF0ZS5VTlZFUklGSUVELFxuICB9LFxuICBkYXRlT2ZCaXJ0aDogeyB0eXBlOiBTdHJpbmcgfSxcbiAgbWFyaXRhbFN0YXR1czogeyB0eXBlOiBTdHJpbmcsIGVudW06IE1hcml0YWxTdGF0dXMgfSxcbiAgbmF0aW9uYWxpdHk6IHsgdHlwZTogU3RyaW5nIH0sXG4gIG5hdGlvbmFsSWQ6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgdmFsaWRhdGU6IHtcbiAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgcmV0dXJuIC9eMShbOV1bNS05XXxbMC05XVswLTldKVxcZHs4fSQvLnRlc3Qodik7XG4gICAgICB9LFxuICAgICAgbWVzc2FnZTogXCJJbnZhbGlkIFJ3YW5kYW4gbmF0aW9uYWwgSUQgZm9ybWF0XCIsXG4gICAgfSxcbiAgfSxcbiAgcGFzc3BvcnRJZDoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICB2YWxpZGF0ZToge1xuICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiAodikge1xuICAgICAgICByZXR1cm4gL15bQS1aXXsyfVtBLVowLTldezMsMjB9JC8udGVzdCh2KTtcbiAgICAgIH0sXG4gICAgICBtZXNzYWdlOiBcIkludmFsaWQgcGFzc3BvcnQgSUQgZm9ybWF0XCIsXG4gICAgfSxcbiAgfSxcblxuICBuYXRpb25hbElkUGljdHVyZTogeyB0eXBlOiBTdHJpbmcgfSxcbiAgcGFzc3BvcnRQaWN0dXJlOiB7IHR5cGU6IFN0cmluZyB9LFxuICBpc0VtYWlsVmVyaWZpZWQ6IHsgdHlwZTogQm9vbGVhbiwgZGVmYXVsdDogZmFsc2UgfSxcbiAgcmVzZXRUb2tlbjogeyB0eXBlOiBTdHJpbmcgfSxcbiAgcmVzZXRFeHBpcmVzOiB7IHR5cGU6IFN0cmluZyB9LFxufSk7XG5cbnVzZXJTY2hlbWEubWV0aG9kcy52ZXJpZnlQYXNzd29yZCA9IGFzeW5jIGZ1bmN0aW9uIChwYXNzd29yZCkge1xuICByZXR1cm4gYXdhaXQgYmNyeXB0LmNvbXBhcmUocGFzc3dvcmQsIHRoaXMucGFzc3dvcmQpO1xufTtcbmNvbnN0IFVzZXIgPSBtb25nb29zZS5tb2RlbChcIlVzZXJcIiwgdXNlclNjaGVtYSk7XG5cbmV4cG9ydCBkZWZhdWx0IFVzZXI7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxjQUFBLEdBQUFELE9BQUE7QUFDQSxJQUFBRSxPQUFBLEdBQUFGLE9BQUE7QUFDQSxJQUFBRyxhQUFBLEdBQUFILE9BQUE7QUFDQSxJQUFBSSxPQUFBLEdBQUFMLHNCQUFBLENBQUFDLE9BQUE7QUFFQTtBQUNBLE1BQU1LLFVBQVUsR0FBRyxJQUFJQyxpQkFBUSxDQUFDQyxNQUFNLENBQUM7RUFDckNDLElBQUksRUFBRTtJQUFFQyxJQUFJLEVBQUVDLE1BQU07SUFBRUMsUUFBUSxFQUFFO0VBQUssQ0FBQztFQUN0Q0MsS0FBSyxFQUFFO0lBQUVILElBQUksRUFBRUMsTUFBTTtJQUFFRyxNQUFNLEVBQUUsSUFBSTtJQUFFRixRQUFRLEVBQUU7RUFBSyxDQUFDO0VBQ3JERyxRQUFRLEVBQUU7SUFDUkwsSUFBSSxFQUFFQyxNQUFNO0lBQ1pDLFFBQVEsRUFBRSxJQUFJO0lBQ2RHLFFBQVEsRUFBRTtNQUNSTCxJQUFJLEVBQUVDLE1BQU07TUFDWkMsUUFBUSxFQUFFLElBQUk7TUFDZEksUUFBUSxFQUFFO1FBQ1JDLFNBQVMsRUFBRSxTQUFBQSxDQUFVQyxDQUFDLEVBQUU7VUFDdEIsT0FBTywwQ0FBMEMsQ0FBQ0MsSUFBSSxDQUFDRCxDQUFDLENBQUM7UUFDM0QsQ0FBQztRQUNERSxPQUFPLEVBQUdDLEtBQUssSUFDWixHQUFFQSxLQUFLLENBQUNDLEtBQU07TUFDbkI7SUFDRjtFQUNGLENBQUM7RUFDREMsY0FBYyxFQUFFO0lBQUViLElBQUksRUFBRUM7RUFBTyxDQUFDO0VBQ2hDYSxNQUFNLEVBQUU7SUFDTmQsSUFBSSxFQUFFQyxNQUFNO0lBQ1pjLElBQUksRUFBRUM7RUFDUixDQUFDO0VBQ0RDLEdBQUcsRUFBRTtJQUFFakIsSUFBSSxFQUFFa0I7RUFBTyxDQUFDO0VBQ3JCQyxZQUFZLEVBQUU7SUFDWm5CLElBQUksRUFBRUMsTUFBTTtJQUNaYyxJQUFJLEVBQUVLLDBCQUFZO0lBQ2xCQyxPQUFPLEVBQUVELDBCQUFZLENBQUNFO0VBQ3hCLENBQUM7RUFDREMsV0FBVyxFQUFFO0lBQUV2QixJQUFJLEVBQUVDO0VBQU8sQ0FBQztFQUM3QnVCLGFBQWEsRUFBRTtJQUFFeEIsSUFBSSxFQUFFQyxNQUFNO0lBQUVjLElBQUksRUFBRVU7RUFBYyxDQUFDO0VBQ3BEQyxXQUFXLEVBQUU7SUFBRTFCLElBQUksRUFBRUM7RUFBTyxDQUFDO0VBQzdCMEIsVUFBVSxFQUFFO0lBQ1YzQixJQUFJLEVBQUVDLE1BQU07SUFDWkssUUFBUSxFQUFFO01BQ1JDLFNBQVMsRUFBRSxTQUFBQSxDQUFVQyxDQUFDLEVBQUU7UUFDdEIsT0FBTywrQkFBK0IsQ0FBQ0MsSUFBSSxDQUFDRCxDQUFDLENBQUM7TUFDaEQsQ0FBQztNQUNERSxPQUFPLEVBQUU7SUFDWDtFQUNGLENBQUM7RUFDRGtCLFVBQVUsRUFBRTtJQUNWNUIsSUFBSSxFQUFFQyxNQUFNO0lBQ1pLLFFBQVEsRUFBRTtNQUNSQyxTQUFTLEVBQUUsU0FBQUEsQ0FBVUMsQ0FBQyxFQUFFO1FBQ3RCLE9BQU8sMEJBQTBCLENBQUNDLElBQUksQ0FBQ0QsQ0FBQyxDQUFDO01BQzNDLENBQUM7TUFDREUsT0FBTyxFQUFFO0lBQ1g7RUFDRixDQUFDO0VBRURtQixpQkFBaUIsRUFBRTtJQUFFN0IsSUFBSSxFQUFFQztFQUFPLENBQUM7RUFDbkM2QixlQUFlLEVBQUU7SUFBRTlCLElBQUksRUFBRUM7RUFBTyxDQUFDO0VBQ2pDOEIsZUFBZSxFQUFFO0lBQUUvQixJQUFJLEVBQUVnQyxPQUFPO0lBQUVYLE9BQU8sRUFBRTtFQUFNLENBQUM7RUFDbERZLFVBQVUsRUFBRTtJQUFFakMsSUFBSSxFQUFFQztFQUFPLENBQUM7RUFDNUJpQyxZQUFZLEVBQUU7SUFBRWxDLElBQUksRUFBRUM7RUFBTztBQUMvQixDQUFDLENBQUM7QUFFRkwsVUFBVSxDQUFDdUMsT0FBTyxDQUFDQyxjQUFjLEdBQUcsZ0JBQWdCL0IsUUFBUSxFQUFFO0VBQzVELE9BQU8sTUFBTWdDLGVBQU0sQ0FBQ0MsT0FBTyxDQUFDakMsUUFBUSxFQUFFLElBQUksQ0FBQ0EsUUFBUSxDQUFDO0FBQ3RELENBQUM7QUFDRCxNQUFNa0MsSUFBSSxHQUFHMUMsaUJBQVEsQ0FBQzJDLEtBQUssQ0FBQyxNQUFNLEVBQUU1QyxVQUFVLENBQUM7QUFBQyxJQUFBNkMsUUFBQSxHQUVqQ0YsSUFBSTtBQUFBRyxPQUFBLENBQUFyQixPQUFBLEdBQUFvQixRQUFBIn0=","map":{"version":3,"names":["_mongoose","_interopRequireDefault","require","_maritalStatus","_gender","_accountState","_bcrypt","userSchema","mongoose","Schema","name","type","String","required","email","unique","password","validate","validator","v","test","message","props","value","profilePicture","gender","enum","GenderStatus","age","Number","accountState","AccountState","default","UNVERIFIED","dateOfBirth","maritalStatus","MaritalStatus","nationality","nationalId","passportId","nationalIdPicture","passportPicture","isEmailVerified","Boolean","resetToken","resetExpires","methods","verifyPassword","bcrypt","compare","User","model","_default","exports"],"sourceRoot":"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/models/","sources":["user.js"],"sourcesContent":["import mongoose from \"mongoose\";\nimport { MaritalStatus } from \"../utils/enum/maritalStatus.enum\";\nimport { GenderStatus } from \"../utils/gender.enum\";\nimport { AccountState } from \"../utils/enum/accountState\";\nimport bcrypt from \"bcrypt\";\n\n// Define user schema\nconst userSchema = new mongoose.Schema({\n  name: { type: String, required: true },\n  email: { type: String, unique: true, required: true },\n  password: {\n    type: String,\n    required: true,\n    password: {\n      type: String,\n      required: true,\n      validate: {\n        validator: function (v) {\n          return /^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{8,12}$/.test(v);\n        },\n        message: (props) =>\n          `${props.value} is not a valid password. Password must be alphanumeric and between 8 and 12 characters.`,\n      },\n    },\n  },\n  profilePicture: { type: String },\n  gender: {\n    type: String,\n    enum: GenderStatus,\n  },\n  age: { type: Number },\n  accountState: {\n    type: String,\n    enum: AccountState,\n    default: AccountState.UNVERIFIED,\n  },\n  dateOfBirth: { type: String },\n  maritalStatus: { type: String, enum: MaritalStatus },\n  nationality: { type: String },\n  nationalId: {\n    type: String,\n    validate: {\n      validator: function (v) {\n        return /^1([9][5-9]|[0-9][0-9])\\d{8}$/.test(v);\n      },\n      message: \"Invalid Rwandan national ID format\",\n    },\n  },\n  passportId: {\n    type: String,\n    validate: {\n      validator: function (v) {\n        return /^[A-Z]{2}[A-Z0-9]{3,20}$/.test(v);\n      },\n      message: \"Invalid passport ID format\",\n    },\n  },\n\n  nationalIdPicture: { type: String },\n  passportPicture: { type: String },\n  isEmailVerified: { type: Boolean, default: false },\n  resetToken: { type: String },\n  resetExpires: { type: String },\n});\n\nuserSchema.methods.verifyPassword = async function (password) {\n  return await bcrypt.compare(password, this.password);\n};\nconst User = mongoose.model(\"User\", userSchema);\n\nexport default User;\n"],"mappings":";;;;;;;AAAA,IAAAA,SAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,cAAA,GAAAD,OAAA;AACA,IAAAE,OAAA,GAAAF,OAAA;AACA,IAAAG,aAAA,GAAAH,OAAA;AACA,IAAAI,OAAA,GAAAL,sBAAA,CAAAC,OAAA;AAEA;AACA,MAAMK,UAAU,GAAG,IAAIC,iBAAQ,CAACC,MAAM,CAAC;EACrCC,IAAI,EAAE;IAAEC,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EACtCC,KAAK,EAAE;IAAEH,IAAI,EAAEC,MAAM;IAAEG,MAAM,EAAE,IAAI;IAAEF,QAAQ,EAAE;EAAK,CAAC;EACrDG,QAAQ,EAAE;IACRL,IAAI,EAAEC,MAAM;IACZC,QAAQ,EAAE,IAAI;IACdG,QAAQ,EAAE;MACRL,IAAI,EAAEC,MAAM;MACZC,QAAQ,EAAE,IAAI;MACdI,QAAQ,EAAE;QACRC,SAAS,EAAE,SAAAA,CAAUC,CAAC,EAAE;UACtB,OAAO,0CAA0C,CAACC,IAAI,CAACD,CAAC,CAAC;QAC3D,CAAC;QACDE,OAAO,EAAGC,KAAK,IACZ,GAAEA,KAAK,CAACC,KAAM;MACnB;IACF;EACF,CAAC;EACDC,cAAc,EAAE;IAAEb,IAAI,EAAEC;EAAO,CAAC;EAChCa,MAAM,EAAE;IACNd,IAAI,EAAEC,MAAM;IACZc,IAAI,EAAEC;EACR,CAAC;EACDC,GAAG,EAAE;IAAEjB,IAAI,EAAEkB;EAAO,CAAC;EACrBC,YAAY,EAAE;IACZnB,IAAI,EAAEC,MAAM;IACZc,IAAI,EAAEK,0BAAY;IAClBC,OAAO,EAAED,0BAAY,CAACE;EACxB,CAAC;EACDC,WAAW,EAAE;IAAEvB,IAAI,EAAEC;EAAO,CAAC;EAC7BuB,aAAa,EAAE;IAAExB,IAAI,EAAEC,MAAM;IAAEc,IAAI,EAAEU;EAAc,CAAC;EACpDC,WAAW,EAAE;IAAE1B,IAAI,EAAEC;EAAO,CAAC;EAC7B0B,UAAU,EAAE;IACV3B,IAAI,EAAEC,MAAM;IACZK,QAAQ,EAAE;MACRC,SAAS,EAAE,SAAAA,CAAUC,CAAC,EAAE;QACtB,OAAO,+BAA+B,CAACC,IAAI,CAACD,CAAC,CAAC;MAChD,CAAC;MACDE,OAAO,EAAE;IACX;EACF,CAAC;EACDkB,UAAU,EAAE;IACV5B,IAAI,EAAEC,MAAM;IACZK,QAAQ,EAAE;MACRC,SAAS,EAAE,SAAAA,CAAUC,CAAC,EAAE;QACtB,OAAO,0BAA0B,CAACC,IAAI,CAACD,CAAC,CAAC;MAC3C,CAAC;MACDE,OAAO,EAAE;IACX;EACF,CAAC;EAEDmB,iBAAiB,EAAE;IAAE7B,IAAI,EAAEC;EAAO,CAAC;EACnC6B,eAAe,EAAE;IAAE9B,IAAI,EAAEC;EAAO,CAAC;EACjC8B,eAAe,EAAE;IAAE/B,IAAI,EAAEgC,OAAO;IAAEX,OAAO,EAAE;EAAM,CAAC;EAClDY,UAAU,EAAE;IAAEjC,IAAI,EAAEC;EAAO,CAAC;EAC5BiC,YAAY,EAAE;IAAElC,IAAI,EAAEC;EAAO;AAC/B,CAAC,CAAC;AAEFL,UAAU,CAACuC,OAAO,CAACC,cAAc,GAAG,gBAAgB/B,QAAQ,EAAE;EAC5D,OAAO,MAAMgC,eAAM,CAACC,OAAO,CAACjC,QAAQ,EAAE,IAAI,CAACA,QAAQ,CAAC;AACtD,CAAC;AACD,MAAMkC,IAAI,GAAG1C,iBAAQ,CAAC2C,KAAK,CAAC,MAAM,EAAE5C,UAAU,CAAC;AAAC,IAAA6C,QAAA,GAEjCF,IAAI;AAAAG,OAAA,CAAArB,OAAA,GAAAoB,QAAA"}},"mtime":1682853445361},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/utils/enum/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend\",\"filename\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/utils/enum/maritalStatus.enum.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.5:development":{"value":{"code":"\"use strict\";\n\nconst MaritalStatus = {\n  MARRIED: \"MARRIED\",\n  SINGLE: \"SINGLE\",\n  WINDOWED: \"WIDOWED\",\n  DIVORCED: \"DIVORCED\"\n};\nmodule.exports = {\n  MaritalStatus\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNYXJpdGFsU3RhdHVzIiwiTUFSUklFRCIsIlNJTkdMRSIsIldJTkRPV0VEIiwiRElWT1JDRUQiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvamVhbm5lZGFyY255aXJhbXdpemEvRG93bmxvYWRzL0FjY291bnQtVmVyaWZpY2F0aW9uLUJhY2tlbmQvc3JjL3V0aWxzL2VudW0vIiwic291cmNlcyI6WyJtYXJpdGFsU3RhdHVzLmVudW0uanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgTWFyaXRhbFN0YXR1cyA9IHtcbiAgTUFSUklFRDogXCJNQVJSSUVEXCIsXG4gIFNJTkdMRTogXCJTSU5HTEVcIixcbiAgV0lORE9XRUQ6IFwiV0lET1dFRFwiLFxuICBESVZPUkNFRDogXCJESVZPUkNFRFwiLFxufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7IE1hcml0YWxTdGF0dXMgfTtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxhQUFhLEdBQUc7RUFDcEJDLE9BQU8sRUFBRSxTQUFTO0VBQ2xCQyxNQUFNLEVBQUUsUUFBUTtFQUNoQkMsUUFBUSxFQUFFLFNBQVM7RUFDbkJDLFFBQVEsRUFBRTtBQUNaLENBQUM7QUFFREMsTUFBTSxDQUFDQyxPQUFPLEdBQUc7RUFBRU47QUFBYyxDQUFDIn0=","map":{"version":3,"names":["MaritalStatus","MARRIED","SINGLE","WINDOWED","DIVORCED","module","exports"],"sourceRoot":"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/utils/enum/","sources":["maritalStatus.enum.js"],"sourcesContent":["const MaritalStatus = {\n  MARRIED: \"MARRIED\",\n  SINGLE: \"SINGLE\",\n  WINDOWED: \"WIDOWED\",\n  DIVORCED: \"DIVORCED\",\n};\n\nmodule.exports = { MaritalStatus };\n"],"mappings":";;AAAA,MAAMA,aAAa,GAAG;EACpBC,OAAO,EAAE,SAAS;EAClBC,MAAM,EAAE,QAAQ;EAChBC,QAAQ,EAAE,SAAS;EACnBC,QAAQ,EAAE;AACZ,CAAC;AAEDC,MAAM,CAACC,OAAO,GAAG;EAAEN;AAAc,CAAC"}},"mtime":1682546525073},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/utils/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend\",\"filename\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/utils/gender.enum.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.5:development":{"value":{"code":"\"use strict\";\n\nconst GenderStatus = {\n  FEMALE: \"FEMALE\",\n  MALE: \"MALE\",\n  NON_BINARY: \"NON_BINARY\"\n};\nmodule.exports = {\n  GenderStatus\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJHZW5kZXJTdGF0dXMiLCJGRU1BTEUiLCJNQUxFIiwiTk9OX0JJTkFSWSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9qZWFubmVkYXJjbnlpcmFtd2l6YS9Eb3dubG9hZHMvQWNjb3VudC1WZXJpZmljYXRpb24tQmFja2VuZC9zcmMvdXRpbHMvIiwic291cmNlcyI6WyJnZW5kZXIuZW51bS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBHZW5kZXJTdGF0dXMgPSB7XG4gIEZFTUFMRTogXCJGRU1BTEVcIixcbiAgTUFMRTogXCJNQUxFXCIsXG4gIE5PTl9CSU5BUlk6IFwiTk9OX0JJTkFSWVwiLFxufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7IEdlbmRlclN0YXR1cyB9O1xuIl0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLFlBQVksR0FBRztFQUNuQkMsTUFBTSxFQUFFLFFBQVE7RUFDaEJDLElBQUksRUFBRSxNQUFNO0VBQ1pDLFVBQVUsRUFBRTtBQUNkLENBQUM7QUFFREMsTUFBTSxDQUFDQyxPQUFPLEdBQUc7RUFBRUw7QUFBYSxDQUFDIn0=","map":{"version":3,"names":["GenderStatus","FEMALE","MALE","NON_BINARY","module","exports"],"sourceRoot":"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/utils/","sources":["gender.enum.js"],"sourcesContent":["const GenderStatus = {\n  FEMALE: \"FEMALE\",\n  MALE: \"MALE\",\n  NON_BINARY: \"NON_BINARY\",\n};\n\nmodule.exports = { GenderStatus };\n"],"mappings":";;AAAA,MAAMA,YAAY,GAAG;EACnBC,MAAM,EAAE,QAAQ;EAChBC,IAAI,EAAE,MAAM;EACZC,UAAU,EAAE;AACd,CAAC;AAEDC,MAAM,CAACC,OAAO,GAAG;EAAEL;AAAa,CAAC"}},"mtime":1682546573141},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend\",\"filename\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/controllers/users.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.5:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\nvar _httpStatus = _interopRequireDefault(require(\"http-status\"));\nvar _user = _interopRequireDefault(require(\"../models/user\"));\nvar _token = _interopRequireDefault(require(\"../models/token\"));\nvar _sendMail = _interopRequireDefault(require(\"../utils/sendMail\"));\nvar _crypto = _interopRequireDefault(require(\"crypto\"));\n// Create User\nconst createUser = async (req, res) => {\n  try {\n    const {\n      name,\n      email,\n      password,\n      gender,\n      age,\n      dateOfBirth,\n      maritalStatus,\n      nationality\n    } = req.body;\n\n    // Check if email is already taken\n    const existingUser = await _user.default.findOne({\n      email\n    });\n    if (existingUser) {\n      return res.status(400).json({\n        error: \"Email already taken\"\n      });\n    }\n\n    // Hash password\n    const saltRounds = 10;\n    const hashedPassword = await _bcrypt.default.hash(password, saltRounds);\n\n    // Create new user\n    const newUser = new _user.default({\n      name,\n      email,\n      password: hashedPassword,\n      // Use the correct field name\n      gender,\n      age,\n      dateOfBirth,\n      maritalStatus,\n      nationality\n    });\n    await newUser.save();\n    let newToken = await new _token.default({\n      // Use the correct variable name\n      userId: newUser._id,\n      token: _crypto.default.randomBytes(32).toString(\"hex\")\n    }).save();\n    const message = `${process.env.BASE_URL}/users/verify/${newUser.id}/${newToken.token}`;\n    await (0, _sendMail.default)(newUser.email, \"Verify Email\", message);\n    res.send(\"An email has been sent to your account, please verify your email\");\n  } catch (error) {\n    console.log(error); // Log the error for debugging\n    res.status(400).send(\"An error occurred\");\n  }\n};\nconst verifyEmail = async (req, res) => {\n  try {\n    const user = await _user.default.findOne({\n      _id: req.params.id\n    });\n    if (!user) return res.status(400).send(\"Invalid link\");\n    const token = await _token.default.findOne({\n      userId: user._id,\n      token: req.params.token\n    });\n    if (!token) return res.status(400).send(\"Invalid link\");\n    await _user.default.updateOne({\n      _id: user._id\n    }, {\n      isEmailVerified: true\n    }); // Use the correct update syntax\n    await _token.default.findByIdAndRemove(token._id);\n    res.send(\"Email verified successfully\");\n  } catch (error) {\n    console.log(error); // Log the error for debugging\n    res.status(400).send(\"An error occurred\");\n  }\n};\nvar _default = {\n  createUser,\n  verifyEmail\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYmNyeXB0IiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfaHR0cFN0YXR1cyIsIl91c2VyIiwiX3Rva2VuIiwiX3NlbmRNYWlsIiwiX2NyeXB0byIsImNyZWF0ZVVzZXIiLCJyZXEiLCJyZXMiLCJuYW1lIiwiZW1haWwiLCJwYXNzd29yZCIsImdlbmRlciIsImFnZSIsImRhdGVPZkJpcnRoIiwibWFyaXRhbFN0YXR1cyIsIm5hdGlvbmFsaXR5IiwiYm9keSIsImV4aXN0aW5nVXNlciIsIlVzZXIiLCJmaW5kT25lIiwic3RhdHVzIiwianNvbiIsImVycm9yIiwic2FsdFJvdW5kcyIsImhhc2hlZFBhc3N3b3JkIiwiYmNyeXB0IiwiaGFzaCIsIm5ld1VzZXIiLCJzYXZlIiwibmV3VG9rZW4iLCJUb2tlbiIsInVzZXJJZCIsIl9pZCIsInRva2VuIiwiY3J5cHRvIiwicmFuZG9tQnl0ZXMiLCJ0b1N0cmluZyIsIm1lc3NhZ2UiLCJwcm9jZXNzIiwiZW52IiwiQkFTRV9VUkwiLCJpZCIsInNlbmRNYWlsIiwic2VuZCIsImNvbnNvbGUiLCJsb2ciLCJ2ZXJpZnlFbWFpbCIsInVzZXIiLCJwYXJhbXMiLCJ1cGRhdGVPbmUiLCJpc0VtYWlsVmVyaWZpZWQiLCJmaW5kQnlJZEFuZFJlbW92ZSIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsImRlZmF1bHQiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9qZWFubmVkYXJjbnlpcmFtd2l6YS9Eb3dubG9hZHMvQWNjb3VudC1WZXJpZmljYXRpb24tQmFja2VuZC9zcmMvY29udHJvbGxlcnMvIiwic291cmNlcyI6WyJ1c2Vycy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYmNyeXB0IGZyb20gXCJiY3J5cHRcIjtcbmltcG9ydCBodHRwU3RhdHVzIGZyb20gXCJodHRwLXN0YXR1c1wiO1xuaW1wb3J0IFVzZXIgZnJvbSBcIi4uL21vZGVscy91c2VyXCI7XG5pbXBvcnQgVG9rZW4gZnJvbSBcIi4uL21vZGVscy90b2tlblwiO1xuaW1wb3J0IHNlbmRNYWlsIGZyb20gXCIuLi91dGlscy9zZW5kTWFpbFwiO1xuaW1wb3J0IGNyeXB0byBmcm9tIFwiY3J5cHRvXCI7XG5cbi8vIENyZWF0ZSBVc2VyXG5jb25zdCBjcmVhdGVVc2VyID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3Qge1xuICAgICAgbmFtZSxcbiAgICAgIGVtYWlsLFxuICAgICAgcGFzc3dvcmQsXG4gICAgICBnZW5kZXIsXG4gICAgICBhZ2UsXG4gICAgICBkYXRlT2ZCaXJ0aCxcbiAgICAgIG1hcml0YWxTdGF0dXMsXG4gICAgICBuYXRpb25hbGl0eSxcbiAgICB9ID0gcmVxLmJvZHk7XG5cbiAgICAvLyBDaGVjayBpZiBlbWFpbCBpcyBhbHJlYWR5IHRha2VuXG4gICAgY29uc3QgZXhpc3RpbmdVc2VyID0gYXdhaXQgVXNlci5maW5kT25lKHsgZW1haWwgfSk7XG4gICAgaWYgKGV4aXN0aW5nVXNlcikge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6IFwiRW1haWwgYWxyZWFkeSB0YWtlblwiIH0pO1xuICAgIH1cblxuICAgIC8vIEhhc2ggcGFzc3dvcmRcbiAgICBjb25zdCBzYWx0Um91bmRzID0gMTA7XG4gICAgY29uc3QgaGFzaGVkUGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuaGFzaChwYXNzd29yZCwgc2FsdFJvdW5kcyk7XG5cbiAgICAvLyBDcmVhdGUgbmV3IHVzZXJcbiAgICBjb25zdCBuZXdVc2VyID0gbmV3IFVzZXIoe1xuICAgICAgbmFtZSxcbiAgICAgIGVtYWlsLFxuICAgICAgcGFzc3dvcmQ6IGhhc2hlZFBhc3N3b3JkLCAvLyBVc2UgdGhlIGNvcnJlY3QgZmllbGQgbmFtZVxuICAgICAgZ2VuZGVyLFxuICAgICAgYWdlLFxuICAgICAgZGF0ZU9mQmlydGgsXG4gICAgICBtYXJpdGFsU3RhdHVzLFxuICAgICAgbmF0aW9uYWxpdHksXG4gICAgfSk7XG4gICAgYXdhaXQgbmV3VXNlci5zYXZlKCk7XG5cbiAgICBsZXQgbmV3VG9rZW4gPSBhd2FpdCBuZXcgVG9rZW4oe1xuICAgICAgLy8gVXNlIHRoZSBjb3JyZWN0IHZhcmlhYmxlIG5hbWVcbiAgICAgIHVzZXJJZDogbmV3VXNlci5faWQsXG4gICAgICB0b2tlbjogY3J5cHRvLnJhbmRvbUJ5dGVzKDMyKS50b1N0cmluZyhcImhleFwiKSxcbiAgICB9KS5zYXZlKCk7XG5cbiAgICBjb25zdCBtZXNzYWdlID0gYCR7cHJvY2Vzcy5lbnYuQkFTRV9VUkx9L3VzZXJzL3ZlcmlmeS8ke25ld1VzZXIuaWR9LyR7bmV3VG9rZW4udG9rZW59YDtcbiAgICBhd2FpdCBzZW5kTWFpbChuZXdVc2VyLmVtYWlsLCBcIlZlcmlmeSBFbWFpbFwiLCBtZXNzYWdlKTtcblxuICAgIHJlcy5zZW5kKFxuICAgICAgXCJBbiBlbWFpbCBoYXMgYmVlbiBzZW50IHRvIHlvdXIgYWNjb3VudCwgcGxlYXNlIHZlcmlmeSB5b3VyIGVtYWlsXCJcbiAgICApO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUubG9nKGVycm9yKTsgLy8gTG9nIHRoZSBlcnJvciBmb3IgZGVidWdnaW5nXG4gICAgcmVzLnN0YXR1cyg0MDApLnNlbmQoXCJBbiBlcnJvciBvY2N1cnJlZFwiKTtcbiAgfVxufTtcblxuY29uc3QgdmVyaWZ5RW1haWwgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kT25lKHsgX2lkOiByZXEucGFyYW1zLmlkIH0pO1xuICAgIGlmICghdXNlcikgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKFwiSW52YWxpZCBsaW5rXCIpO1xuXG4gICAgY29uc3QgdG9rZW4gPSBhd2FpdCBUb2tlbi5maW5kT25lKHtcbiAgICAgIHVzZXJJZDogdXNlci5faWQsXG4gICAgICB0b2tlbjogcmVxLnBhcmFtcy50b2tlbixcbiAgICB9KTtcbiAgICBpZiAoIXRva2VuKSByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoXCJJbnZhbGlkIGxpbmtcIik7XG5cbiAgICBhd2FpdCBVc2VyLnVwZGF0ZU9uZSh7IF9pZDogdXNlci5faWQgfSwgeyBpc0VtYWlsVmVyaWZpZWQ6IHRydWUgfSk7IC8vIFVzZSB0aGUgY29ycmVjdCB1cGRhdGUgc3ludGF4XG4gICAgYXdhaXQgVG9rZW4uZmluZEJ5SWRBbmRSZW1vdmUodG9rZW4uX2lkKTtcblxuICAgIHJlcy5zZW5kKFwiRW1haWwgdmVyaWZpZWQgc3VjY2Vzc2Z1bGx5XCIpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUubG9nKGVycm9yKTsgLy8gTG9nIHRoZSBlcnJvciBmb3IgZGVidWdnaW5nXG4gICAgcmVzLnN0YXR1cyg0MDApLnNlbmQoXCJBbiBlcnJvciBvY2N1cnJlZFwiKTtcbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgeyBjcmVhdGVVc2VyLCB2ZXJpZnlFbWFpbCB9O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsSUFBQUEsT0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsV0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsTUFBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUksU0FBQSxHQUFBTCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUssT0FBQSxHQUFBTixzQkFBQSxDQUFBQyxPQUFBO0FBRUE7QUFDQSxNQUFNTSxVQUFVLEdBQUcsTUFBQUEsQ0FBT0MsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDckMsSUFBSTtJQUNGLE1BQU07TUFDSkMsSUFBSTtNQUNKQyxLQUFLO01BQ0xDLFFBQVE7TUFDUkMsTUFBTTtNQUNOQyxHQUFHO01BQ0hDLFdBQVc7TUFDWEMsYUFBYTtNQUNiQztJQUNGLENBQUMsR0FBR1QsR0FBRyxDQUFDVSxJQUFJOztJQUVaO0lBQ0EsTUFB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","map":{"version":3,"names":["_bcrypt","_interopRequireDefault","require","_httpStatus","_user","_token","_sendMail","_crypto","createUser","req","res","name","email","password","gender","age","dateOfBirth","maritalStatus","nationality","body","existingUser","User","findOne","status","json","error","saltRounds","hashedPassword","bcrypt","hash","newUser","save","newToken","Token","userId","_id","token","crypto","randomBytes","toString","message","process","env","BASE_URL","id","sendMail","send","console","log","verifyEmail","user","params","updateOne","isEmailVerified","findByIdAndRemove","_default","exports","default"],"sourceRoot":"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/controllers/","sources":["users.js"],"sourcesContent":["import bcrypt from \"bcrypt\";\nimport httpStatus from \"http-status\";\nimport User from \"../models/user\";\nimport Token from \"../models/token\";\nimport sendMail from \"../utils/sendMail\";\nimport crypto from \"crypto\";\n\n// Create User\nconst createUser = async (req, res) => {\n  try {\n    const {\n      name,\n      email,\n      password,\n      gender,\n      age,\n      dateOfBirth,\n      maritalStatus,\n      nationality,\n    } = req.body;\n\n    // Check if email is already taken\n    const existingUser = await User.findOne({ email });\n    if (existingUser) {\n      return res.status(400).json({ error: \"Email already taken\" });\n    }\n\n    // Hash password\n    const saltRounds = 10;\n    const hashedPassword = await bcrypt.hash(password, saltRounds);\n\n    // Create new user\n    const newUser = new User({\n      name,\n      email,\n      password: hashedPassword, // Use the correct field name\n      gender,\n      age,\n      dateOfBirth,\n      maritalStatus,\n      nationality,\n    });\n    await newUser.save();\n\n    let newToken = await new Token({\n      // Use the correct variable name\n      userId: newUser._id,\n      token: crypto.randomBytes(32).toString(\"hex\"),\n    }).save();\n\n    const message = `${process.env.BASE_URL}/users/verify/${newUser.id}/${newToken.token}`;\n    await sendMail(newUser.email, \"Verify Email\", message);\n\n    res.send(\n      \"An email has been sent to your account, please verify your email\"\n    );\n  } catch (error) {\n    console.log(error); // Log the error for debugging\n    res.status(400).send(\"An error occurred\");\n  }\n};\n\nconst verifyEmail = async (req, res) => {\n  try {\n    const user = await User.findOne({ _id: req.params.id });\n    if (!user) return res.status(400).send(\"Invalid link\");\n\n    const token = await Token.findOne({\n      userId: user._id,\n      token: req.params.token,\n    });\n    if (!token) return res.status(400).send(\"Invalid link\");\n\n    await User.updateOne({ _id: user._id }, { isEmailVerified: true }); // Use the correct update syntax\n    await Token.findByIdAndRemove(token._id);\n\n    res.send(\"Email verified successfully\");\n  } catch (error) {\n    console.log(error); // Log the error for debugging\n    res.status(400).send(\"An error occurred\");\n  }\n};\n\nexport default { createUser, verifyEmail };\n"],"mappings":"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"}},"mtime":1682839982758},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend\",\"filename\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/models/user.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.5:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nvar _maritalStatus = require(\"../utils/enum/maritalStatus.enum\");\nvar _gender = require(\"../utils/gender.enum\");\nvar _accountState = require(\"../utils/enum/accountState\");\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\n// Define user schema\nconst userSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  email: {\n    type: String,\n    unique: true,\n    required: true\n  },\n  password: {\n    type: String,\n    required: true,\n    password: {\n      type: String,\n      required: true,\n      validate: {\n        validator: function (v) {\n          return /^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{8,12}$/.test(v);\n        },\n        message: props => `${props.value} is not a valid password. Password must be alphanumeric and between 8 and 12 characters.`\n      }\n    }\n  },\n  profilePicture: {\n    type: String\n  },\n  gender: {\n    type: String,\n    enum: _gender.GenderStatus\n  },\n  age: {\n    type: Number\n  },\n  accountState: {\n    type: String,\n    enum: _accountState.AccountState,\n    default: _accountState.AccountState.UNVERIFIED\n  },\n  dateOfBirth: {\n    type: String\n  },\n  maritalStatus: {\n    type: String,\n    enum: _maritalStatus.MaritalStatus\n  },\n  nationality: {\n    type: String\n  },\n  nationalId: {\n    type: String,\n    validate: {\n      validator: function (v) {\n        return /^1([9][5-9]|[0-9][0-9])\\d{8}$/.test(v);\n      },\n      message: \"Invalid Rwandan national ID format\"\n    }\n  },\n  passportId: {\n    type: String,\n    validate: {\n      validator: function (v) {\n        return /^[A-Z]{2}[A-Z0-9]{3,20}$/.test(v);\n      },\n      message: \"Invalid passport ID format\"\n    }\n  },\n  nationalIdPicture: {\n    type: String\n  },\n  passportPicture: {\n    type: String\n  },\n  isEmailVerified: {\n    type: Boolean,\n    default: false\n  },\n  resetToken: {\n    type: String\n  },\n  resetExpires: {\n    type: String\n  }\n});\nuserSchema.methods.verifyPassword = async function (password) {\n  return await _bcrypt.default.compare(password, this.password);\n};\nconst User = _mongoose.default.model(\"User\", userSchema);\nvar _default = User;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9tYXJpdGFsU3RhdHVzIiwiX2dlbmRlciIsIl9hY2NvdW50U3RhdGUiLCJfYmNyeXB0IiwidXNlclNjaGVtYSIsIm1vbmdvb3NlIiwiU2NoZW1hIiwibmFtZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsImVtYWlsIiwidW5pcXVlIiwicGFzc3dvcmQiLCJ2YWxpZGF0ZSIsInZhbGlkYXRvciIsInYiLCJ0ZXN0IiwibWVzc2FnZSIsInByb3BzIiwidmFsdWUiLCJwcm9maWxlUGljdHVyZSIsImdlbmRlciIsImVudW0iLCJHZW5kZXJTdGF0dXMiLCJhZ2UiLCJOdW1iZXIiLCJhY2NvdW50U3RhdGUiLCJBY2NvdW50U3RhdGUiLCJkZWZhdWx0IiwiVU5WRVJJRklFRCIsImRhdGVPZkJpcnRoIiwibWFyaXRhbFN0YXR1cyIsIk1hcml0YWxTdGF0dXMiLCJuYXRpb25hbGl0eSIsIm5hdGlvbmFsSWQiLCJwYXNzcG9ydElkIiwibmF0aW9uYWxJZFBpY3R1cmUiLCJwYXNzcG9ydFBpY3R1cmUiLCJpc0VtYWlsVmVyaWZpZWQiLCJCb29sZWFuIiwicmVzZXRUb2tlbiIsInJlc2V0RXhwaXJlcyIsIm1ldGhvZHMiLCJ2ZXJpZnlQYXNzd29yZCIsImJjcnlwdCIsImNvbXBhcmUiLCJVc2VyIiwibW9kZWwiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9qZWFubmVkYXJjbnlpcmFtd2l6YS9Eb3dubG9hZHMvQWNjb3VudC1WZXJpZmljYXRpb24tQmFja2VuZC9zcmMvbW9kZWxzLyIsInNvdXJjZXMiOlsidXNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XG5pbXBvcnQgeyBNYXJpdGFsU3RhdHVzIH0gZnJvbSBcIi4uL3V0aWxzL2VudW0vbWFyaXRhbFN0YXR1cy5lbnVtXCI7XG5pbXBvcnQgeyBHZW5kZXJTdGF0dXMgfSBmcm9tIFwiLi4vdXRpbHMvZ2VuZGVyLmVudW1cIjtcbmltcG9ydCB7IEFjY291bnRTdGF0ZSB9IGZyb20gXCIuLi91dGlscy9lbnVtL2FjY291bnRTdGF0ZVwiO1xuaW1wb3J0IGJjcnlwdCBmcm9tIFwiYmNyeXB0XCI7XG5cbi8vIERlZmluZSB1c2VyIHNjaGVtYVxuY29uc3QgdXNlclNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xuICBuYW1lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgZW1haWw6IHsgdHlwZTogU3RyaW5nLCB1bmlxdWU6IHRydWUsIHJlcXVpcmVkOiB0cnVlIH0sXG4gIHBhc3N3b3JkOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIHBhc3N3b3JkOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgIHZhbGlkYXRlOiB7XG4gICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICByZXR1cm4gL14oPz0uKltBLVphLXpdKSg/PS4qXFxkKVtBLVphLXpcXGRdezgsMTJ9JC8udGVzdCh2KTtcbiAgICAgICAgfSxcbiAgICAgICAgbWVzc2FnZTogKHByb3BzKSA9PlxuICAgICAgICAgIGAke3Byb3BzLnZhbHVlfSBpcyBub3QgYSB2YWxpZCBwYXNzd29yZC4gUGFzc3dvcmQgbXVzdCBiZSBhbHBoYW51bWVyaWMgYW5kIGJldHdlZW4gOCBhbmQgMTIgY2hhcmFjdGVycy5gLFxuICAgICAgfSxcbiAgICB9LFxuICB9LFxuICBwcm9maWxlUGljdHVyZTogeyB0eXBlOiBTdHJpbmcgfSxcbiAgZ2VuZGVyOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIGVudW06IEdlbmRlclN0YXR1cyxcbiAgfSxcbiAgYWdlOiB7IHR5cGU6IE51bWJlciB9LFxuICBhY2NvdW50U3RhdGU6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgZW51bTogQWNjb3VudFN0YXRlLFxuICAgIGRlZmF1bHQ6IEFjY291bnRTdGF0ZS5VTlZFUklGSUVELFxuICB9LFxuICBkYXRlT2ZCaXJ0aDogeyB0eXBlOiBTdHJpbmcgfSxcbiAgbWFyaXRhbFN0YXR1czogeyB0eXBlOiBTdHJpbmcsIGVudW06IE1hcml0YWxTdGF0dXMgfSxcbiAgbmF0aW9uYWxpdHk6IHsgdHlwZTogU3RyaW5nIH0sXG4gIG5hdGlvbmFsSWQ6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgdmFsaWRhdGU6IHtcbiAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgcmV0dXJuIC9eMShbOV1bNS05XXxbMC05XVswLTldKVxcZHs4fSQvLnRlc3Qodik7XG4gICAgICB9LFxuICAgICAgbWVzc2FnZTogXCJJbnZhbGlkIFJ3YW5kYW4gbmF0aW9uYWwgSUQgZm9ybWF0XCIsXG4gICAgfSxcbiAgfSxcbiAgcGFzc3BvcnRJZDoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICB2YWxpZGF0ZToge1xuICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiAodikge1xuICAgICAgICByZXR1cm4gL15bQS1aXXsyfVtBLVowLTldezMsMjB9JC8udGVzdCh2KTtcbiAgICAgIH0sXG4gICAgICBtZXNzYWdlOiBcIkludmFsaWQgcGFzc3BvcnQgSUQgZm9ybWF0XCIsXG4gICAgfSxcbiAgfSxcblxuICBuYXRpb25hbElkUGljdHVyZTogeyB0eXBlOiBTdHJpbmcgfSxcbiAgcGFzc3BvcnRQaWN0dXJlOiB7IHR5cGU6IFN0cmluZyB9LFxuICBpc0VtYWlsVmVyaWZpZWQ6IHsgdHlwZTogQm9vbGVhbiwgZGVmYXVsdDogZmFsc2UgfSxcbiAgcmVzZXRUb2tlbjogeyB0eXBlOiBTdHJpbmcgfSxcbiAgcmVzZXRFeHBpcmVzOiB7IHR5cGU6IFN0cmluZyB9LFxufSk7XG5cbnVzZXJTY2hlbWEubWV0aG9kcy52ZXJpZnlQYXNzd29yZCA9IGFzeW5jIGZ1bmN0aW9uIChwYXNzd29yZCkge1xuICByZXR1cm4gYXdhaXQgYmNyeXB0LmNvbXBhcmUocGFzc3dvcmQsIHRoaXMucGFzc3dvcmQpO1xufTtcbmNvbnN0IFVzZXIgPSBtb25nb29zZS5tb2RlbChcIlVzZXJcIiwgdXNlclNjaGVtYSk7XG5cbmV4cG9ydCBkZWZhdWx0IFVzZXI7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxjQUFBLEdBQUFELE9BQUE7QUFDQSxJQUFBRSxPQUFBLEdBQUFGLE9BQUE7QUFDQSxJQUFBRyxhQUFBLEdBQUFILE9BQUE7QUFDQSxJQUFBSSxPQUFBLEdBQUFMLHNCQUFBLENBQUFDLE9BQUE7QUFFQTtBQUNBLE1BQU1LLFVBQVUsR0FBRyxJQUFJQyxpQkFBUSxDQUFDQyxNQUFNLENBQUM7RUFDckNDLElBQUksRUFBRTtJQUFFQyxJQUFJLEVBQUVDLE1BQU07SUFBRUMsUUFBUSxFQUFFO0VBQUssQ0FBQztFQUN0Q0MsS0FBSyxFQUFFO0lBQUVILElBQUksRUFBRUMsTUFBTTtJQUFFRyxNQUFNLEVBQUUsSUFBSTtJQUFFRixRQUFRLEVBQUU7RUFBSyxDQUFDO0VBQ3JERyxRQUFRLEVBQUU7SUFDUkwsSUFBSSxFQUFFQyxNQUFNO0lBQ1pDLFFBQVEsRUFBRSxJQUFJO0lBQ2RHLFFBQVEsRUFBRTtNQUNSTCxJQUFJLEVBQUVDLE1BQU07TUFDWkMsUUFBUSxFQUFFLElBQUk7TUFDZEksUUFBUSxFQUFFO1FBQ1JDLFNBQVMsRUFBRSxTQUFBQSxDQUFVQyxDQUFDLEVBQUU7VUFDdEIsT0FBTywwQ0FBMEMsQ0FBQ0MsSUFBSSxDQUFDRCxDQUFDLENBQUM7UUFDM0QsQ0FBQztRQUNERSxPQUFPLEVBQUdDLEtBQUssSUFDWixHQUFFQSxLQUFLLENBQUNDLEtBQU07TUFDbkI7SUFDRjtFQUNGLENBQUM7RUFDREMsY0FBYyxFQUFFO0lBQUViLElBQUksRUFBRUM7RUFBTyxDQUFDO0VBQ2hDYSxNQUFNLEVBQUU7SUFDTmQsSUFBSSxFQUFFQyxNQUFNO0lBQ1pjLElBQUksRUFBRUM7RUFDUixDQUFDO0VBQ0RDLEdBQUcsRUFBRTtJQUFFakIsSUFBSSxFQUFFa0I7RUFBTyxDQUFDO0VBQ3JCQyxZQUFZLEVBQUU7SUFDWm5CLElBQUksRUFBRUMsTUFBTTtJQUNaYyxJQUFJLEVBQUVLLDBCQUFZO0lBQ2xCQyxPQUFPLEVBQUVELDBCQUFZLENBQUNFO0VBQ3hCLENBQUM7RUFDREMsV0FBVyxFQUFFO0lBQUV2QixJQUFJLEVBQUVDO0VBQU8sQ0FBQztFQUM3QnVCLGFBQWEsRUFBRTtJQUFFeEIsSUFBSSxFQUFFQyxNQUFNO0lBQUVjLElBQUksRUFBRVU7RUFBYyxDQUFDO0VBQ3BEQyxXQUFXLEVBQUU7SUFBRTFCLElBQUksRUFBRUM7RUFBTyxDQUFDO0VBQzdCMEIsVUFBVSxFQUFFO0lBQ1YzQixJQUFJLEVBQUVDLE1BQU07SUFDWkssUUFBUSxFQUFFO01BQ1JDLFNBQVMsRUFBRSxTQUFBQSxDQUFVQyxDQUFDLEVBQUU7UUFDdEIsT0FBTywrQkFBK0IsQ0FBQ0MsSUFBSSxDQUFDRCxDQUFDLENBQUM7TUFDaEQsQ0FBQztNQUNERSxPQUFPLEVBQUU7SUFDWDtFQUNGLENBQUM7RUFDRGtCLFVBQVUsRUFBRTtJQUNWNUIsSUFBSSxFQUFFQyxNQUFNO0lBQ1pLLFFBQVEsRUFBRTtNQUNSQyxTQUFTLEVBQUUsU0FBQUEsQ0FBVUMsQ0FBQyxFQUFFO1FBQ3RCLE9BQU8sMEJBQTBCLENBQUNDLElBQUksQ0FBQ0QsQ0FBQyxDQUFDO01BQzNDLENBQUM7TUFDREUsT0FBTyxFQUFFO0lBQ1g7RUFDRixDQUFDO0VBRURtQixpQkFBaUIsRUFBRTtJQUFFN0IsSUFBSSxFQUFFQztFQUFPLENBQUM7RUFDbkM2QixlQUFlLEVBQUU7SUFBRTlCLElBQUksRUFBRUM7RUFBTyxDQUFDO0VBQ2pDOEIsZUFBZSxFQUFFO0lBQUUvQixJQUFJLEVBQUVnQyxPQUFPO0lBQUVYLE9BQU8sRUFBRTtFQUFNLENBQUM7RUFDbERZLFVBQVUsRUFBRTtJQUFFakMsSUFBSSxFQUFFQztFQUFPLENBQUM7RUFDNUJpQyxZQUFZLEVBQUU7SUFBRWxDLElBQUksRUFBRUM7RUFBTztBQUMvQixDQUFDLENBQUM7QUFFRkwsVUFBVSxDQUFDdUMsT0FBTyxDQUFDQyxjQUFjLEdBQUcsZ0JBQWdCL0IsUUFBUSxFQUFFO0VBQzVELE9BQU8sTUFBTWdDLGVBQU0sQ0FBQ0MsT0FBTyxDQUFDakMsUUFBUSxFQUFFLElBQUksQ0FBQ0EsUUFBUSxDQUFDO0FBQ3RELENBQUM7QUFDRCxNQUFNa0MsSUFBSSxHQUFHMUMsaUJBQVEsQ0FBQzJDLEtBQUssQ0FBQyxNQUFNLEVBQUU1QyxVQUFVLENBQUM7QUFBQyxJQUFBNkMsUUFBQSxHQUVqQ0YsSUFBSTtBQUFBRyxPQUFBLENBQUFyQixPQUFBLEdBQUFvQixRQUFBIn0=","map":{"version":3,"names":["_mongoose","_interopRequireDefault","require","_maritalStatus","_gender","_accountState","_bcrypt","userSchema","mongoose","Schema","name","type","String","required","email","unique","password","validate","validator","v","test","message","props","value","profilePicture","gender","enum","GenderStatus","age","Number","accountState","AccountState","default","UNVERIFIED","dateOfBirth","maritalStatus","MaritalStatus","nationality","nationalId","passportId","nationalIdPicture","passportPicture","isEmailVerified","Boolean","resetToken","resetExpires","methods","verifyPassword","bcrypt","compare","User","model","_default","exports"],"sourceRoot":"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/models/","sources":["user.js"],"sourcesContent":["import mongoose from \"mongoose\";\nimport { MaritalStatus } from \"../utils/enum/maritalStatus.enum\";\nimport { GenderStatus } from \"../utils/gender.enum\";\nimport { AccountState } from \"../utils/enum/accountState\";\nimport bcrypt from \"bcrypt\";\n\n// Define user schema\nconst userSchema = new mongoose.Schema({\n  name: { type: String, required: true },\n  email: { type: String, unique: true, required: true },\n  password: {\n    type: String,\n    required: true,\n    password: {\n      type: String,\n      required: true,\n      validate: {\n        validator: function (v) {\n          return /^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{8,12}$/.test(v);\n        },\n        message: (props) =>\n          `${props.value} is not a valid password. Password must be alphanumeric and between 8 and 12 characters.`,\n      },\n    },\n  },\n  profilePicture: { type: String },\n  gender: {\n    type: String,\n    enum: GenderStatus,\n  },\n  age: { type: Number },\n  accountState: {\n    type: String,\n    enum: AccountState,\n    default: AccountState.UNVERIFIED,\n  },\n  dateOfBirth: { type: String },\n  maritalStatus: { type: String, enum: MaritalStatus },\n  nationality: { type: String },\n  nationalId: {\n    type: String,\n    validate: {\n      validator: function (v) {\n        return /^1([9][5-9]|[0-9][0-9])\\d{8}$/.test(v);\n      },\n      message: \"Invalid Rwandan national ID format\",\n    },\n  },\n  passportId: {\n    type: String,\n    validate: {\n      validator: function (v) {\n        return /^[A-Z]{2}[A-Z0-9]{3,20}$/.test(v);\n      },\n      message: \"Invalid passport ID format\",\n    },\n  },\n\n  nationalIdPicture: { type: String },\n  passportPicture: { type: String },\n  isEmailVerified: { type: Boolean, default: false },\n  resetToken: { type: String },\n  resetExpires: { type: String },\n});\n\nuserSchema.methods.verifyPassword = async function (password) {\n  return await bcrypt.compare(password, this.password);\n};\nconst User = mongoose.model(\"User\", userSchema);\n\nexport default User;\n"],"mappings":";;;;;;;AAAA,IAAAA,SAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,cAAA,GAAAD,OAAA;AACA,IAAAE,OAAA,GAAAF,OAAA;AACA,IAAAG,aAAA,GAAAH,OAAA;AACA,IAAAI,OAAA,GAAAL,sBAAA,CAAAC,OAAA;AAEA;AACA,MAAMK,UAAU,GAAG,IAAIC,iBAAQ,CAACC,MAAM,CAAC;EACrCC,IAAI,EAAE;IAAEC,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EACtCC,KAAK,EAAE;IAAEH,IAAI,EAAEC,MAAM;IAAEG,MAAM,EAAE,IAAI;IAAEF,QAAQ,EAAE;EAAK,CAAC;EACrDG,QAAQ,EAAE;IACRL,IAAI,EAAEC,MAAM;IACZC,QAAQ,EAAE,IAAI;IACdG,QAAQ,EAAE;MACRL,IAAI,EAAEC,MAAM;MACZC,QAAQ,EAAE,IAAI;MACdI,QAAQ,EAAE;QACRC,SAAS,EAAE,SAAAA,CAAUC,CAAC,EAAE;UACtB,OAAO,0CAA0C,CAACC,IAAI,CAACD,CAAC,CAAC;QAC3D,CAAC;QACDE,OAAO,EAAGC,KAAK,IACZ,GAAEA,KAAK,CAACC,KAAM;MACnB;IACF;EACF,CAAC;EACDC,cAAc,EAAE;IAAEb,IAAI,EAAEC;EAAO,CAAC;EAChCa,MAAM,EAAE;IACNd,IAAI,EAAEC,MAAM;IACZc,IAAI,EAAEC;EACR,CAAC;EACDC,GAAG,EAAE;IAAEjB,IAAI,EAAEkB;EAAO,CAAC;EACrBC,YAAY,EAAE;IACZnB,IAAI,EAAEC,MAAM;IACZc,IAAI,EAAEK,0BAAY;IAClBC,OAAO,EAAED,0BAAY,CAACE;EACxB,CAAC;EACDC,WAAW,EAAE;IAAEvB,IAAI,EAAEC;EAAO,CAAC;EAC7BuB,aAAa,EAAE;IAAExB,IAAI,EAAEC,MAAM;IAAEc,IAAI,EAAEU;EAAc,CAAC;EACpDC,WAAW,EAAE;IAAE1B,IAAI,EAAEC;EAAO,CAAC;EAC7B0B,UAAU,EAAE;IACV3B,IAAI,EAAEC,MAAM;IACZK,QAAQ,EAAE;MACRC,SAAS,EAAE,SAAAA,CAAUC,CAAC,EAAE;QACtB,OAAO,+BAA+B,CAACC,IAAI,CAACD,CAAC,CAAC;MAChD,CAAC;MACDE,OAAO,EAAE;IACX;EACF,CAAC;EACDkB,UAAU,EAAE;IACV5B,IAAI,EAAEC,MAAM;IACZK,QAAQ,EAAE;MACRC,SAAS,EAAE,SAAAA,CAAUC,CAAC,EAAE;QACtB,OAAO,0BAA0B,CAACC,IAAI,CAACD,CAAC,CAAC;MAC3C,CAAC;MACDE,OAAO,EAAE;IACX;EACF,CAAC;EAEDmB,iBAAiB,EAAE;IAAE7B,IAAI,EAAEC;EAAO,CAAC;EACnC6B,eAAe,EAAE;IAAE9B,IAAI,EAAEC;EAAO,CAAC;EACjC8B,eAAe,EAAE;IAAE/B,IAAI,EAAEgC,OAAO;IAAEX,OAAO,EAAE;EAAM,CAAC;EAClDY,UAAU,EAAE;IAAEjC,IAAI,EAAEC;EAAO,CAAC;EAC5BiC,YAAY,EAAE;IAAElC,IAAI,EAAEC;EAAO;AAC/B,CAAC,CAAC;AAEFL,UAAU,CAACuC,OAAO,CAACC,cAAc,GAAG,gBAAgB/B,QAAQ,EAAE;EAC5D,OAAO,MAAMgC,eAAM,CAACC,OAAO,CAACjC,QAAQ,EAAE,IAAI,CAACA,QAAQ,CAAC;AACtD,CAAC;AACD,MAAMkC,IAAI,GAAG1C,iBAAQ,CAAC2C,KAAK,CAAC,MAAM,EAAE5C,UAAU,CAAC;AAAC,IAAA6C,QAAA,GAEjCF,IAAI;AAAAG,OAAA,CAAArB,OAAA,GAAAoB,QAAA"}},"mtime":1682853445361},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/utils/enum/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend\",\"filename\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/utils/enum/maritalStatus.enum.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.5:development":{"value":{"code":"\"use strict\";\n\nconst MaritalStatus = {\n  MARRIED: \"MARRIED\",\n  SINGLE: \"SINGLE\",\n  WINDOWED: \"WIDOWED\",\n  DIVORCED: \"DIVORCED\"\n};\nmodule.exports = {\n  MaritalStatus\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNYXJpdGFsU3RhdHVzIiwiTUFSUklFRCIsIlNJTkdMRSIsIldJTkRPV0VEIiwiRElWT1JDRUQiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvamVhbm5lZGFyY255aXJhbXdpemEvRG93bmxvYWRzL0FjY291bnQtVmVyaWZpY2F0aW9uLUJhY2tlbmQvc3JjL3V0aWxzL2VudW0vIiwic291cmNlcyI6WyJtYXJpdGFsU3RhdHVzLmVudW0uanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgTWFyaXRhbFN0YXR1cyA9IHtcbiAgTUFSUklFRDogXCJNQVJSSUVEXCIsXG4gIFNJTkdMRTogXCJTSU5HTEVcIixcbiAgV0lORE9XRUQ6IFwiV0lET1dFRFwiLFxuICBESVZPUkNFRDogXCJESVZPUkNFRFwiLFxufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7IE1hcml0YWxTdGF0dXMgfTtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxhQUFhLEdBQUc7RUFDcEJDLE9BQU8sRUFBRSxTQUFTO0VBQ2xCQyxNQUFNLEVBQUUsUUFBUTtFQUNoQkMsUUFBUSxFQUFFLFNBQVM7RUFDbkJDLFFBQVEsRUFBRTtBQUNaLENBQUM7QUFFREMsTUFBTSxDQUFDQyxPQUFPLEdBQUc7RUFBRU47QUFBYyxDQUFDIn0=","map":{"version":3,"names":["MaritalStatus","MARRIED","SINGLE","WINDOWED","DIVORCED","module","exports"],"sourceRoot":"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/utils/enum/","sources":["maritalStatus.enum.js"],"sourcesContent":["const MaritalStatus = {\n  MARRIED: \"MARRIED\",\n  SINGLE: \"SINGLE\",\n  WINDOWED: \"WIDOWED\",\n  DIVORCED: \"DIVORCED\",\n};\n\nmodule.exports = { MaritalStatus };\n"],"mappings":";;AAAA,MAAMA,aAAa,GAAG;EACpBC,OAAO,EAAE,SAAS;EAClBC,MAAM,EAAE,QAAQ;EAChBC,QAAQ,EAAE,SAAS;EACnBC,QAAQ,EAAE;AACZ,CAAC;AAEDC,MAAM,CAACC,OAAO,GAAG;EAAEN;AAAc,CAAC"}},"mtime":1682546525073},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/config/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend\",\"filename\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/config/db.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.5:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n_dotenv.default.config();\nlet dbUrl;\nif (process.env.NODE_ENV === \"test\") {\n  dbUrl = process.env.MONGODB_URL_TEST;\n} else {\n  dbUrl = process.env.MONGODB_URL;\n}\nconst connectDB = async () => {\n  try {\n    await _mongoose.default.connect(dbUrl, {\n      useNewUrlParser: true,\n      useUnifiedTopology: true\n    });\n    console.log(\"MongoDB connected successfully\");\n  } catch (error) {\n    console.error(\"MongoDB connection error:\", error);\n  }\n};\nvar _default = connectDB;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9kb3RlbnYiLCJkb3RlbnYiLCJjb25maWciLCJkYlVybCIsInByb2Nlc3MiLCJlbnYiLCJOT0RFX0VOViIsIk1PTkdPREJfVVJMX1RFU1QiLCJNT05HT0RCX1VSTCIsImNvbm5lY3REQiIsIm1vbmdvb3NlIiwiY29ubmVjdCIsInVzZU5ld1VybFBhcnNlciIsInVzZVVuaWZpZWRUb3BvbG9neSIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsImRlZmF1bHQiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9qZWFubmVkYXJjbnlpcmFtd2l6YS9Eb3dubG9hZHMvQWNjb3VudC1WZXJpZmljYXRpb24tQmFja2VuZC9zcmMvY29uZmlnLyIsInNvdXJjZXMiOlsiZGIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xuaW1wb3J0IGRvdGVudiBmcm9tIFwiZG90ZW52XCI7XG5kb3RlbnYuY29uZmlnKCk7XG5cbmxldCBkYlVybDtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInRlc3RcIikge1xuICBkYlVybCA9IHByb2Nlc3MuZW52Lk1PTkdPREJfVVJMX1RFU1Q7XG59IGVsc2Uge1xuICBkYlVybCA9IHByb2Nlc3MuZW52Lk1PTkdPREJfVVJMO1xufVxuXG5jb25zdCBjb25uZWN0REIgPSBhc3luYyAoKSA9PiB7XG4gIHRyeSB7XG4gICAgYXdhaXQgbW9uZ29vc2UuY29ubmVjdChkYlVybCwge1xuICAgICAgdXNlTmV3VXJsUGFyc2VyOiB0cnVlLFxuICAgICAgdXNlVW5pZmllZFRvcG9sb2d5OiB0cnVlLFxuICAgIH0pO1xuICAgIGNvbnNvbGUubG9nKFwiTW9uZ29EQiBjb25uZWN0ZWQgc3VjY2Vzc2Z1bGx5XCIpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJNb25nb0RCIGNvbm5lY3Rpb24gZXJyb3I6XCIsIGVycm9yKTtcbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdERCO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsT0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0FFLGVBQU0sQ0FBQ0MsTUFBTSxDQUFDLENBQUM7QUFFZixJQUFJQyxLQUFLO0FBRVQsSUFBSUMsT0FBTyxDQUFDQyxHQUFHLENBQUNDLFFBQVEsS0FBSyxNQUFNLEVBQUU7RUFDbkNILEtBQUssR0FBR0MsT0FBTyxDQUFDQyxHQUFHLENBQUNFLGdCQUFnQjtBQUN0QyxDQUFDLE1BQU07RUFDTEosS0FBSyxHQUFHQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0csV0FBVztBQUNqQztBQUVBLE1BQU1DLFNBQVMsR0FBRyxNQUFBQSxDQUFBLEtBQVk7RUFDNUIsSUFBSTtJQUNGLE1BQU1DLGlCQUFRLENBQUNDLE9BQU8sQ0FBQ1IsS0FBSyxFQUFFO01BQzVCUyxlQUFlLEVBQUUsSUFBSTtNQUNyQkMsa0JBQWtCLEVBQUU7SUFDdEIsQ0FBQyxDQUFDO0lBQ0ZDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLGdDQUFnQyxDQUFDO0VBQy9DLENBQUMsQ0FBQyxPQUFPQyxLQUFLLEVBQUU7SUFDZEYsT0FBTyxDQUFDRSxLQUFLLENBQUMsMkJBQTJCLEVBQUVBLEtBQUssQ0FBQztFQUNuRDtBQUNGLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBRWFSLFNBQVM7QUFBQVMsT0FBQSxDQUFBQyxPQUFBLEdBQUFGLFFBQUEifQ==","map":{"version":3,"names":["_mongoose","_interopRequireDefault","require","_dotenv","dotenv","config","dbUrl","process","env","NODE_ENV","MONGODB_URL_TEST","MONGODB_URL","connectDB","mongoose","connect","useNewUrlParser","useUnifiedTopology","console","log","error","_default","exports","default"],"sourceRoot":"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/config/","sources":["db.js"],"sourcesContent":["import mongoose from \"mongoose\";\nimport dotenv from \"dotenv\";\ndotenv.config();\n\nlet dbUrl;\n\nif (process.env.NODE_ENV === \"test\") {\n  dbUrl = process.env.MONGODB_URL_TEST;\n} else {\n  dbUrl = process.env.MONGODB_URL;\n}\n\nconst connectDB = async () => {\n  try {\n    await mongoose.connect(dbUrl, {\n      useNewUrlParser: true,\n      useUnifiedTopology: true,\n    });\n    console.log(\"MongoDB connected successfully\");\n  } catch (error) {\n    console.error(\"MongoDB connection error:\", error);\n  }\n};\n\nexport default connectDB;\n"],"mappings":";;;;;;;AAAA,IAAAA,SAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AACAE,eAAM,CAACC,MAAM,CAAC,CAAC;AAEf,IAAIC,KAAK;AAET,IAAIC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,MAAM,EAAE;EACnCH,KAAK,GAAGC,OAAO,CAACC,GAAG,CAACE,gBAAgB;AACtC,CAAC,MAAM;EACLJ,KAAK,GAAGC,OAAO,CAACC,GAAG,CAACG,WAAW;AACjC;AAEA,MAAMC,SAAS,GAAG,MAAAA,CAAA,KAAY;EAC5B,IAAI;IACF,MAAMC,iBAAQ,CAACC,OAAO,CAACR,KAAK,EAAE;MAC5BS,eAAe,EAAE,IAAI;MACrBC,kBAAkB,EAAE;IACtB,CAAC,CAAC;IACFC,OAAO,CAACC,GAAG,CAAC,gCAAgC,CAAC;EAC/C,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdF,OAAO,CAACE,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;EACnD;AACF,CAAC;AAAC,IAAAC,QAAA,GAEaR,SAAS;AAAAS,OAAA,CAAAC,OAAA,GAAAF,QAAA"}},"mtime":1682778608834},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/utils/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend\",\"filename\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/utils/gender.enum.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.5:development":{"value":{"code":"\"use strict\";\n\nconst GenderStatus = {\n  FEMALE: \"FEMALE\",\n  MALE: \"MALE\",\n  NON_BINARY: \"NON_BINARY\"\n};\nmodule.exports = {\n  GenderStatus\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJHZW5kZXJTdGF0dXMiLCJGRU1BTEUiLCJNQUxFIiwiTk9OX0JJTkFSWSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9qZWFubmVkYXJjbnlpcmFtd2l6YS9Eb3dubG9hZHMvQWNjb3VudC1WZXJpZmljYXRpb24tQmFja2VuZC9zcmMvdXRpbHMvIiwic291cmNlcyI6WyJnZW5kZXIuZW51bS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBHZW5kZXJTdGF0dXMgPSB7XG4gIEZFTUFMRTogXCJGRU1BTEVcIixcbiAgTUFMRTogXCJNQUxFXCIsXG4gIE5PTl9CSU5BUlk6IFwiTk9OX0JJTkFSWVwiLFxufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7IEdlbmRlclN0YXR1cyB9O1xuIl0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLFlBQVksR0FBRztFQUNuQkMsTUFBTSxFQUFFLFFBQVE7RUFDaEJDLElBQUksRUFBRSxNQUFNO0VBQ1pDLFVBQVUsRUFBRTtBQUNkLENBQUM7QUFFREMsTUFBTSxDQUFDQyxPQUFPLEdBQUc7RUFBRUw7QUFBYSxDQUFDIn0=","map":{"version":3,"names":["GenderStatus","FEMALE","MALE","NON_BINARY","module","exports"],"sourceRoot":"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/utils/","sources":["gender.enum.js"],"sourcesContent":["const GenderStatus = {\n  FEMALE: \"FEMALE\",\n  MALE: \"MALE\",\n  NON_BINARY: \"NON_BINARY\",\n};\n\nmodule.exports = { GenderStatus };\n"],"mappings":";;AAAA,MAAMA,YAAY,GAAG;EACnBC,MAAM,EAAE,QAAQ;EAChBC,IAAI,EAAE,MAAM;EACZC,UAAU,EAAE;AACd,CAAC;AAEDC,MAAM,CAACC,OAAO,GAAG;EAAEL;AAAa,CAAC"}},"mtime":1682546573141},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend\",\"filename\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/controllers/auth.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.5:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nvar _user = _interopRequireDefault(require(\"../models/user\"));\nvar _crypto = _interopRequireDefault(require(\"crypto\"));\nvar _token = _interopRequireDefault(require(\"../models/token\"));\nvar _moment = _interopRequireDefault(require(\"moment\"));\nvar _sendMail = _interopRequireDefault(require(\"../utils/sendMail\"));\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\nconst login = async (req, res) => {\n  const {\n    email,\n    password\n  } = req.body;\n\n  // Check if user exists\n  const user = await _user.default.findOne({\n    email\n  });\n  if (!user) {\n    return res.status(401).json({\n      message: \"Invalid email or password\"\n    });\n  }\n\n  // Verify password\n  const passwordMatch = await user.verifyPassword(password);\n  if (!passwordMatch) {\n    return res.status(401).json({\n      message: \"Invalid email or password\"\n    });\n  }\n  if (user.isEmailVerified === false) {\n    return res.status(401).json({\n      message: \"Verify your email\"\n    });\n  }\n\n  // Generate token\n  const token = _jsonwebtoken.default.sign({\n    userId: user._id\n  }, process.env.JWT_SECRET_KEY);\n\n  // Return token and user information\n  return res.json({\n    token,\n    user: {\n      id: user._id,\n      email: user.email\n    }\n  });\n};\nconst resetPassword = async (req, res) => {\n  const {\n    email\n  } = req.body;\n  const existingUser = await _user.default.findOne({\n    email\n  });\n  if (!existingUser) {\n    return res.status(400).json({\n      error: \"Email does not exist\"\n    });\n  }\n  const newToken = _crypto.default.randomBytes(32).toString(\"hex\");\n  const token = new _token.default({\n    userId: existingUser._id,\n    token: newToken\n  });\n  const resetExpires = (0, _moment.default)().add(1, \"hour\").toDate();\n  // Store the reset token in the database\n  existingUser.resetToken = token.token;\n  existingUser.resetExpires = resetExpires;\n  await existingUser.save();\n\n  // Send an email to the user with the reset link\n  const resetLink = `${process.env.BASE_URL}/users/reset-password/${newToken}`;\n  const message = `Hello,\\n\\nYou have requested to reset your password. Please click the following link to reset your password:\\n\\n${resetLink}\\n\\nThis link will expire in 1 hour.\\n`;\n  (0, _sendMail.default)(existingUser.email, \"Password Reset Request\", message);\n  res.status(200).json({\n    message: \"Reset email sent\"\n  });\n};\nconst resetLink = async (req, res) => {\n  const {\n    password\n  } = req.body;\n  const {\n    token\n  } = req.params;\n\n  // Hash password\n  const saltRounds = 10;\n  const hashedPassword = await _bcrypt.default.hash(password, saltRounds);\n  try {\n    const user = await _user.default.findOne({\n      resetToken: token,\n      resetExpires: {\n        $gt: Date.now()\n      }\n    });\n    if (!user) {\n      // Reset token is invalid or has expired\n      res.status(400).json({\n        message: \"Invalid or expired reset token\"\n      });\n      return;\n    }\n\n    // Update the user's password and reset the resetToken and resetExpires fields in the database\n    user.password = hashedPassword;\n    user.resetToken = undefined;\n    user.resetExpires = undefined;\n    await user.save();\n    res.status(200).json({\n      message: \"Password reset successfully\"\n    });\n  } catch (err) {\n    console.error(err);\n    res.status(500).json({\n      message: \"Server error\"\n    });\n  }\n};\nvar _default = {\n  login,\n  resetPassword,\n  resetLink\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfanNvbndlYnRva2VuIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfdXNlciIsIl9jcnlwdG8iLCJfdG9rZW4iLCJfbW9tZW50IiwiX3NlbmRNYWlsIiwiX2JjcnlwdCIsImxvZ2luIiwicmVxIiwicmVzIiwiZW1haWwiLCJwYXNzd29yZCIsImJvZHkiLCJ1c2VyIiwiVXNlciIsImZpbmRPbmUiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsInBhc3N3b3JkTWF0Y2giLCJ2ZXJpZnlQYXNzd29yZCIsImlzRW1haWxWZXJpZmllZCIsInRva2VuIiwiand0Iiwic2lnbiIsInVzZXJJZCIsIl9pZCIsInByb2Nlc3MiLCJlbnYiLCJKV1RfU0VDUkVUX0tFWSIsImlkIiwicmVzZXRQYXNzd29yZCIsImV4aXN0aW5nVXNlciIsImVycm9yIiwibmV3VG9rZW4iLCJjcnlwdG8iLCJyYW5kb21CeXRlcyIsInRvU3RyaW5nIiwiVG9rZW4iLCJyZXNldEV4cGlyZXMiLCJtb21lbnQiLCJhZGQiLCJ0b0RhdGUiLCJyZXNldFRva2VuIiwic2F2ZSIsInJlc2V0TGluayIsIkJBU0VfVVJMIiwic2VuZE1haWwiLCJwYXJhbXMiLCJzYWx0Um91bmRzIiwiaGFzaGVkUGFzc3dvcmQiLCJiY3J5cHQiLCJoYXNoIiwiJGd0IiwiRGF0ZSIsIm5vdyIsInVuZGVmaW5lZCIsImVyciIsImNvbnNvbGUiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJkZWZhdWx0Il0sInNvdXJjZVJvb3QiOiIvVXNlcnMvamVhbm5lZGFyY255aXJhbXdpemEvRG93bmxvYWRzL0FjY291bnQtVmVyaWZpY2F0aW9uLUJhY2tlbmQvc3JjL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiYXV0aC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgand0IGZyb20gXCJqc29ud2VidG9rZW5cIjtcbmltcG9ydCBVc2VyIGZyb20gXCIuLi9tb2RlbHMvdXNlclwiO1xuaW1wb3J0IGNyeXB0byBmcm9tIFwiY3J5cHRvXCI7XG5pbXBvcnQgVG9rZW4gZnJvbSBcIi4uL21vZGVscy90b2tlblwiO1xuaW1wb3J0IG1vbWVudCBmcm9tIFwibW9tZW50XCI7XG5pbXBvcnQgc2VuZE1haWwgZnJvbSBcIi4uL3V0aWxzL3NlbmRNYWlsXCI7XG5pbXBvcnQgYmNyeXB0IGZyb20gXCJiY3J5cHRcIjtcblxuY29uc3QgbG9naW4gPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgeyBlbWFpbCwgcGFzc3dvcmQgfSA9IHJlcS5ib2R5O1xuXG4gIC8vIENoZWNrIGlmIHVzZXIgZXhpc3RzXG4gIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoeyBlbWFpbCB9KTtcbiAgaWYgKCF1c2VyKSB7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogXCJJbnZhbGlkIGVtYWlsIG9yIHBhc3N3b3JkXCIgfSk7XG4gIH1cblxuICAvLyBWZXJpZnkgcGFzc3dvcmRcbiAgY29uc3QgcGFzc3dvcmRNYXRjaCA9IGF3YWl0IHVzZXIudmVyaWZ5UGFzc3dvcmQocGFzc3dvcmQpO1xuICBpZiAoIXBhc3N3b3JkTWF0Y2gpIHtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiBcIkludmFsaWQgZW1haWwgb3IgcGFzc3dvcmRcIiB9KTtcbiAgfVxuICBpZiAodXNlci5pc0VtYWlsVmVyaWZpZWQgPT09IGZhbHNlKSB7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogXCJWZXJpZnkgeW91ciBlbWFpbFwiIH0pO1xuICB9XG5cbiAgLy8gR2VuZXJhdGUgdG9rZW5cbiAgY29uc3QgdG9rZW4gPSBqd3Quc2lnbih7IHVzZXJJZDogdXNlci5faWQgfSwgcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVF9LRVkpO1xuXG4gIC8vIFJldHVybiB0b2tlbiBhbmQgdXNlciBpbmZvcm1hdGlvblxuICByZXR1cm4gcmVzLmpzb24oe1xuICAgIHRva2VuLFxuICAgIHVzZXI6IHtcbiAgICAgIGlkOiB1c2VyLl9pZCxcbiAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgIH0sXG4gIH0pO1xufTtcblxuY29uc3QgcmVzZXRQYXNzd29yZCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCB7IGVtYWlsIH0gPSByZXEuYm9keTtcbiAgY29uc3QgZXhpc3RpbmdVc2VyID0gYXdhaXQgVXNlci5maW5kT25lKHsgZW1haWwgfSk7XG4gIGlmICghZXhpc3RpbmdVc2VyKSB7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6IFwiRW1haWwgZG9lcyBub3QgZXhpc3RcIiB9KTtcbiAgfVxuXG4gIGNvbnN0IG5ld1Rva2VuID0gY3J5cHRvLnJhbmRvbUJ5dGVzKDMyKS50b1N0cmluZyhcImhleFwiKTtcbiAgY29uc3QgdG9rZW4gPSBuZXcgVG9rZW4oe1xuICAgIHVzZXJJZDogZXhpc3RpbmdVc2VyLl9pZCxcbiAgICB0b2tlbjogbmV3VG9rZW4sXG4gIH0pO1xuXG4gIGNvbnN0IHJlc2V0RXhwaXJlcyA9IG1vbWVudCgpLmFkZCgxLCBcImhvdXJcIikudG9EYXRlKCk7XG4gIC8vIFN0b3JlIHRoZSByZXNldCB0b2tlbiBpbiB0aGUgZGF0YWJhc2VcbiAgZXhpc3RpbmdVc2VyLnJlc2V0VG9rZW4gPSB0b2tlbi50b2tlbjtcbiAgZXhpc3RpbmdVc2VyLnJlc2V0RXhwaXJlcyA9IHJlc2V0RXhwaXJlcztcbiAgYXdhaXQgZXhpc3RpbmdVc2VyLnNhdmUoKTtcblxuICAvLyBTZW5kIGFuIGVtYWlsIHRvIHRoZSB1c2VyIHdpdGggdGhlIHJlc2V0IGxpbmtcbiAgY29uc3QgcmVzZXRMaW5rID0gYCR7cHJvY2Vzcy5lbnYuQkFTRV9VUkx9L3VzZXJzL3Jlc2V0LXBhc3N3b3JkLyR7bmV3VG9rZW59YDtcbiAgY29uc3QgbWVzc2FnZSA9IGBIZWxsbyxcXG5cXG5Zb3UgaGF2ZSByZXF1ZXN0ZWQgdG8gcmVzZXQgeW91ciBwYXNzd29yZC4gUGxlYXNlIGNsaWNrIHRoZSBmb2xsb3dpbmcgbGluayB0byByZXNldCB5b3VyIHBhc3N3b3JkOlxcblxcbiR7cmVzZXRMaW5rfVxcblxcblRoaXMgbGluayB3aWxsIGV4cGlyZSBpbiAxIGhvdXIuXFxuYDtcbiAgc2VuZE1haWwoZXhpc3RpbmdVc2VyLmVtYWlsLCBcIlBhc3N3b3JkIFJlc2V0IFJlcXVlc3RcIiwgbWVzc2FnZSk7XG5cbiAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBtZXNzYWdlOiBcIlJlc2V0IGVtYWlsIHNlbnRcIiB9KTtcbn07XG5cbmNvbnN0IHJlc2V0TGluayA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCB7IHBhc3N3b3JkIH0gPSByZXEuYm9keTtcbiAgY29uc3QgeyB0b2tlbiB9ID0gcmVxLnBhcmFtcztcblxuICAvLyBIYXNoIHBhc3N3b3JkXG4gIGNvbnN0IHNhbHRSb3VuZHMgPSAxMDtcbiAgY29uc3QgaGFzaGVkUGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuaGFzaChwYXNzd29yZCwgc2FsdFJvdW5kcyk7XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kT25lKHtcbiAgICAgIHJlc2V0VG9rZW46IHRva2VuLFxuICAgICAgcmVzZXRFeHBpcmVzOiB7ICRndDogRGF0ZS5ub3coKSB9LFxuICAgIH0pO1xuXG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICAvLyBSZXNldCB0b2tlbiBpcyBpbnZhbGlkIG9yIGhhcyBleHBpcmVkXG4gICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6IFwiSW52YWxpZCBvciBleHBpcmVkIHJlc2V0IHRva2VuXCIgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIHRoZSB1c2VyJ3MgcGFzc3dvcmQgYW5kIHJlc2V0IHRoZSByZXNldFRva2VuIGFuZCByZXNldEV4cGlyZXMgZmllbGRzIGluIHRoZSBkYXRhYmFzZVxuICAgIHVzZXIucGFzc3dvcmQgPSBoYXNoZWRQYXNzd29yZDtcbiAgICB1c2VyLnJlc2V0VG9rZW4gPSB1bmRlZmluZWQ7XG4gICAgdXNlci5yZXNldEV4cGlyZXMgPSB1bmRlZmluZWQ7XG5cbiAgICBhd2FpdCB1c2VyLnNhdmUoKTtcblxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgbWVzc2FnZTogXCJQYXNzd29yZCByZXNldCBzdWNjZXNzZnVsbHlcIiB9KTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogXCJTZXJ2ZXIgZXJyb3JcIiB9KTtcbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgeyBsb2dpbiwgcmVzZXRQYXNzd29yZCwgcmVzZXRMaW5rIH07XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxJQUFBQSxhQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxLQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxPQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxNQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBSSxPQUFBLEdBQUFMLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBSyxTQUFBLEdBQUFOLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBTSxPQUFBLEdBQUFQLHNCQUFBLENBQUFDLE9BQUE7QUFFQSxNQUFNTyxLQUFLLEdBQUcsTUFBQUEsQ0FBT0MsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDaEMsTUFBTTtJQUFFQyxLQUFLO0lBQUVDO0VBQVMsQ0FBQyxHQUFHSCxHQUFHLENBQUNJLElBQUk7O0VBRXBDO0VBQ0EsTUFBTUMsSUFBSSxHQUFHLE1BQU1DLGFBQUksQ0FBQ0MsT0FBTyxDQUFDO0lBQUVMO0VBQU0sQ0FBQyxDQUFDO0VBQzFDLElBQUksQ0FBQ0csSUFBSSxFQUFFO0lBQ1QsT0FBT0osR0FBRyxDQUFDTyxNQUFNLENBQUMsR0FB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","map":{"version":3,"names":["_jsonwebtoken","_interopRequireDefault","require","_user","_crypto","_token","_moment","_sendMail","_bcrypt","login","req","res","email","password","body","user","User","findOne","status","json","message","passwordMatch","verifyPassword","isEmailVerified","token","jwt","sign","userId","_id","process","env","JWT_SECRET_KEY","id","resetPassword","existingUser","error","newToken","crypto","randomBytes","toString","Token","resetExpires","moment","add","toDate","resetToken","save","resetLink","BASE_URL","sendMail","params","saltRounds","hashedPassword","bcrypt","hash","$gt","Date","now","undefined","err","console","_default","exports","default"],"sourceRoot":"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/controllers/","sources":["auth.js"],"sourcesContent":["import jwt from \"jsonwebtoken\";\nimport User from \"../models/user\";\nimport crypto from \"crypto\";\nimport Token from \"../models/token\";\nimport moment from \"moment\";\nimport sendMail from \"../utils/sendMail\";\nimport bcrypt from \"bcrypt\";\n\nconst login = async (req, res) => {\n  const { email, password } = req.body;\n\n  // Check if user exists\n  const user = await User.findOne({ email });\n  if (!user) {\n    return res.status(401).json({ message: \"Invalid email or password\" });\n  }\n\n  // Verify password\n  const passwordMatch = await user.verifyPassword(password);\n  if (!passwordMatch) {\n    return res.status(401).json({ message: \"Invalid email or password\" });\n  }\n  if (user.isEmailVerified === false) {\n    return res.status(401).json({ message: \"Verify your email\" });\n  }\n\n  // Generate token\n  const token = jwt.sign({ userId: user._id }, process.env.JWT_SECRET_KEY);\n\n  // Return token and user information\n  return res.json({\n    token,\n    user: {\n      id: user._id,\n      email: user.email,\n    },\n  });\n};\n\nconst resetPassword = async (req, res) => {\n  const { email } = req.body;\n  const existingUser = await User.findOne({ email });\n  if (!existingUser) {\n    return res.status(400).json({ error: \"Email does not exist\" });\n  }\n\n  const newToken = crypto.randomBytes(32).toString(\"hex\");\n  const token = new Token({\n    userId: existingUser._id,\n    token: newToken,\n  });\n\n  const resetExpires = moment().add(1, \"hour\").toDate();\n  // Store the reset token in the database\n  existingUser.resetToken = token.token;\n  existingUser.resetExpires = resetExpires;\n  await existingUser.save();\n\n  // Send an email to the user with the reset link\n  const resetLink = `${process.env.BASE_URL}/users/reset-password/${newToken}`;\n  const message = `Hello,\\n\\nYou have requested to reset your password. Please click the following link to reset your password:\\n\\n${resetLink}\\n\\nThis link will expire in 1 hour.\\n`;\n  sendMail(existingUser.email, \"Password Reset Request\", message);\n\n  res.status(200).json({ message: \"Reset email sent\" });\n};\n\nconst resetLink = async (req, res) => {\n  const { password } = req.body;\n  const { token } = req.params;\n\n  // Hash password\n  const saltRounds = 10;\n  const hashedPassword = await bcrypt.hash(password, saltRounds);\n\n  try {\n    const user = await User.findOne({\n      resetToken: token,\n      resetExpires: { $gt: Date.now() },\n    });\n\n    if (!user) {\n      // Reset token is invalid or has expired\n      res.status(400).json({ message: \"Invalid or expired reset token\" });\n      return;\n    }\n\n    // Update the user's password and reset the resetToken and resetExpires fields in the database\n    user.password = hashedPassword;\n    user.resetToken = undefined;\n    user.resetExpires = undefined;\n\n    await user.save();\n\n    res.status(200).json({ message: \"Password reset successfully\" });\n  } catch (err) {\n    console.error(err);\n    res.status(500).json({ message: \"Server error\" });\n  }\n};\n\nexport default { login, resetPassword, resetLink };\n"],"mappings":"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"}},"mtime":1682858183489},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/config/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend\",\"filename\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/config/passport.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.5:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _passport = _interopRequireDefault(require(\"passport\"));\nvar _passportGoogleOauth = require(\"passport-google-oauth20\");\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n_dotenv.default.config();\n_passport.default.use(new _passportGoogleOauth.Strategy({\n  clientID: process.env.GOOGLE_CLIENT_ID,\n  clientSecret: process.env.GOOGLE_CLIENT_SECRET,\n  callbackURL: \"http://127.0.0.1:4002/users/auth/google/callback\"\n}, function (accessToken, refreshToken, profile, done) {\n  const userProfile = profile;\n  return done(null, userProfile);\n}));\nvar _default = _passport.default;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcGFzc3BvcnQiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9wYXNzcG9ydEdvb2dsZU9hdXRoIiwiX2RvdGVudiIsImRvdGVudiIsImNvbmZpZyIsInBhc3Nwb3J0IiwidXNlIiwiR29vZ2xlU3RyYXRlZ3kiLCJjbGllbnRJRCIsInByb2Nlc3MiLCJlbnYiLCJHT09HTEVfQ0xJRU5UX0lEIiwiY2xpZW50U2VjcmV0IiwiR09PR0xFX0NMSUVOVF9TRUNSRVQiLCJjYWxsYmFja1VSTCIsImFjY2Vzc1Rva2VuIiwicmVmcmVzaFRva2VuIiwicHJvZmlsZSIsImRvbmUiLCJ1c2VyUHJvZmlsZSIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsImRlZmF1bHQiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9qZWFubmVkYXJjbnlpcmFtd2l6YS9Eb3dubG9hZHMvQWNjb3VudC1WZXJpZmljYXRpb24tQmFja2VuZC9zcmMvY29uZmlnLyIsInNvdXJjZXMiOlsicGFzc3BvcnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHBhc3Nwb3J0IGZyb20gXCJwYXNzcG9ydFwiO1xuaW1wb3J0IHsgU3RyYXRlZ3kgYXMgR29vZ2xlU3RyYXRlZ3kgfSBmcm9tIFwicGFzc3BvcnQtZ29vZ2xlLW9hdXRoMjBcIjtcbmltcG9ydCBkb3RlbnYgZnJvbSBcImRvdGVudlwiO1xuZG90ZW52LmNvbmZpZygpO1xuXG5wYXNzcG9ydC51c2UoXG4gIG5ldyBHb29nbGVTdHJhdGVneShcbiAgICB7XG4gICAgICBjbGllbnRJRDogcHJvY2Vzcy5lbnYuR09PR0xFX0NMSUVOVF9JRCxcbiAgICAgIGNsaWVudFNlY3JldDogcHJvY2Vzcy5lbnYuR09PR0xFX0NMSUVOVF9TRUNSRVQsXG4gICAgICBjYWxsYmFja1VSTDogXCJodHRwOi8vMTI3LjAuMC4xOjQwMDIvdXNlcnMvYXV0aC9nb29nbGUvY2FsbGJhY2tcIixcbiAgICB9LFxuICAgIGZ1bmN0aW9uIChhY2Nlc3NUb2tlbiwgcmVmcmVzaFRva2VuLCBwcm9maWxlLCBkb25lKSB7XG4gICAgICBjb25zdCB1c2VyUHJvZmlsZSA9IHByb2ZpbGU7XG4gICAgICByZXR1cm4gZG9uZShudWxsLCB1c2VyUHJvZmlsZSk7XG4gICAgfVxuICApXG4pO1xuXG5leHBvcnQgZGVmYXVsdCBwYXNzcG9ydDtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLG9CQUFBLEdBQUFELE9BQUE7QUFDQSxJQUFBRSxPQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQUcsZUFBTSxDQUFDQyxNQUFNLENBQUMsQ0FBQztBQUVmQyxpQkFBUSxDQUFDQyxHQUFHLENBQ1YsSUFBSUMsNkJBQWMsQ0FDaEI7RUFDRUMsUUFBUSxFQUFFQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsZ0JBQWdCO0VBQ3RDQyxZQUFZLEVBQUVILE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRyxvQkFBb0I7RUFDOUNDLFdBQVcsRUFBRTtBQUNmLENBQUMsRUFDRCxVQUFVQyxXQUFXLEVBQUVDLFlBQVksRUFBRUMsT0FBTyxFQUFFQyxJQUFJLEVBQUU7RUFDbEQsTUFBTUMsV0FBVyxHQUFHRixPQUFPO0VBQzNCLE9BQU9DLElBQUksQ0FBQyxJQUFJLEVBQUVDLFdBQVcsQ0FBQztBQUNoQyxDQUNGLENBQ0YsQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FFYWYsaUJBQVE7QUFBQWdCLE9BQUEsQ0FBQUMsT0FBQSxHQUFBRixRQUFBIn0=","map":{"version":3,"names":["_passport","_interopRequireDefault","require","_passportGoogleOauth","_dotenv","dotenv","config","passport","use","GoogleStrategy","clientID","process","env","GOOGLE_CLIENT_ID","clientSecret","GOOGLE_CLIENT_SECRET","callbackURL","accessToken","refreshToken","profile","done","userProfile","_default","exports","default"],"sourceRoot":"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/config/","sources":["passport.js"],"sourcesContent":["import passport from \"passport\";\nimport { Strategy as GoogleStrategy } from \"passport-google-oauth20\";\nimport dotenv from \"dotenv\";\ndotenv.config();\n\npassport.use(\n  new GoogleStrategy(\n    {\n      clientID: process.env.GOOGLE_CLIENT_ID,\n      clientSecret: process.env.GOOGLE_CLIENT_SECRET,\n      callbackURL: \"http://127.0.0.1:4002/users/auth/google/callback\",\n    },\n    function (accessToken, refreshToken, profile, done) {\n      const userProfile = profile;\n      return done(null, userProfile);\n    }\n  )\n);\n\nexport default passport;\n"],"mappings":";;;;;;;AAAA,IAAAA,SAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,oBAAA,GAAAD,OAAA;AACA,IAAAE,OAAA,GAAAH,sBAAA,CAAAC,OAAA;AACAG,eAAM,CAACC,MAAM,CAAC,CAAC;AAEfC,iBAAQ,CAACC,GAAG,CACV,IAAIC,6BAAc,CAChB;EACEC,QAAQ,EAAEC,OAAO,CAACC,GAAG,CAACC,gBAAgB;EACtCC,YAAY,EAAEH,OAAO,CAACC,GAAG,CAACG,oBAAoB;EAC9CC,WAAW,EAAE;AACf,CAAC,EACD,UAAUC,WAAW,EAAEC,YAAY,EAAEC,OAAO,EAAEC,IAAI,EAAE;EAClD,MAAMC,WAAW,GAAGF,OAAO;EAC3B,OAAOC,IAAI,CAAC,IAAI,EAAEC,WAAW,CAAC;AAChC,CACF,CACF,CAAC;AAAC,IAAAC,QAAA,GAEaf,iBAAQ;AAAAgB,OAAA,CAAAC,OAAA,GAAAF,QAAA"}},"mtime":1682849015989},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend\",\"filename\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/controllers/auth.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.5:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nvar _user = _interopRequireDefault(require(\"../models/user\"));\nvar _crypto = _interopRequireDefault(require(\"crypto\"));\nvar _token = _interopRequireDefault(require(\"../models/token\"));\nvar _moment = _interopRequireDefault(require(\"moment\"));\nvar _sendMail = _interopRequireDefault(require(\"../utils/sendMail\"));\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\nconst login = async (req, res) => {\n  const {\n    email,\n    password\n  } = req.body;\n\n  // Check if user exists\n  const user = await _user.default.findOne({\n    email\n  });\n  if (!user) {\n    return res.status(401).json({\n      message: \"Invalid email or password\"\n    });\n  }\n\n  // Verify password\n  const passwordMatch = await user.verifyPassword(password);\n  if (!passwordMatch) {\n    return res.status(401).json({\n      message: \"Invalid email or password\"\n    });\n  }\n  if (user.isEmailVerified === false) {\n    return res.status(401).json({\n      message: \"Verify your email\"\n    });\n  }\n\n  // Generate token\n  const token = _jsonwebtoken.default.sign({\n    userId: user._id\n  }, process.env.JWT_SECRET_KEY);\n\n  // Return token and user information\n  return res.json({\n    token,\n    user: {\n      id: user._id,\n      email: user.email\n    }\n  });\n};\nconst resetPassword = async (req, res) => {\n  const {\n    email\n  } = req.body;\n  const existingUser = await _user.default.findOne({\n    email\n  });\n  if (!existingUser) {\n    return res.status(400).json({\n      error: \"Email does not exist\"\n    });\n  }\n  const newToken = _crypto.default.randomBytes(32).toString(\"hex\");\n  const token = new _token.default({\n    userId: existingUser._id,\n    token: newToken\n  });\n  const resetExpires = (0, _moment.default)().add(1, \"hour\").toDate();\n  // Store the reset token in the database\n  existingUser.resetToken = token.token;\n  existingUser.resetExpires = resetExpires;\n  await existingUser.save();\n\n  // Send an email to the user with the reset link\n  const resetLink = `${process.env.BASE_URL}/users/reset-password/${newToken}`;\n  const message = `Hello,\\n\\nYou have requested to reset your password. Please click the following link to reset your password:\\n\\n${resetLink}\\n\\nThis link will expire in 1 hour.\\n`;\n  (0, _sendMail.default)(existingUser.email, \"Password Reset Request\", message);\n  res.status(200).json({\n    message: \"Reset email sent\"\n  });\n};\nconst resetLink = async (req, res) => {\n  const {\n    password\n  } = req.body;\n  const {\n    token\n  } = req.params;\n\n  // Hash password\n  const saltRounds = 10;\n  const hashedPassword = await _bcrypt.default.hash(password, saltRounds);\n  try {\n    const user = await _user.default.findOne({\n      resetToken: token,\n      resetExpires: {\n        $gt: Date.now()\n      }\n    });\n    if (!user) {\n      // Reset token is invalid or has expired\n      res.status(400).json({\n        message: \"Invalid or expired reset token\"\n      });\n      return;\n    }\n\n    // Update the user's password and reset the resetToken and resetExpires fields in the database\n    user.password = hashedPassword;\n    user.resetToken = undefined;\n    user.resetExpires = undefined;\n    await user.save();\n    res.status(200).json({\n      message: \"Password reset successfully\"\n    });\n  } catch (err) {\n    console.error(err);\n    res.status(500).json({\n      message: \"Server error\"\n    });\n  }\n};\nvar _default = {\n  login,\n  resetPassword,\n  resetLink\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfanNvbndlYnRva2VuIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfdXNlciIsIl9jcnlwdG8iLCJfdG9rZW4iLCJfbW9tZW50IiwiX3NlbmRNYWlsIiwiX2JjcnlwdCIsImxvZ2luIiwicmVxIiwicmVzIiwiZW1haWwiLCJwYXNzd29yZCIsImJvZHkiLCJ1c2VyIiwiVXNlciIsImZpbmRPbmUiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsInBhc3N3b3JkTWF0Y2giLCJ2ZXJpZnlQYXNzd29yZCIsImlzRW1haWxWZXJpZmllZCIsInRva2VuIiwiand0Iiwic2lnbiIsInVzZXJJZCIsIl9pZCIsInByb2Nlc3MiLCJlbnYiLCJKV1RfU0VDUkVUX0tFWSIsImlkIiwicmVzZXRQYXNzd29yZCIsImV4aXN0aW5nVXNlciIsImVycm9yIiwibmV3VG9rZW4iLCJjcnlwdG8iLCJyYW5kb21CeXRlcyIsInRvU3RyaW5nIiwiVG9rZW4iLCJyZXNldEV4cGlyZXMiLCJtb21lbnQiLCJhZGQiLCJ0b0RhdGUiLCJyZXNldFRva2VuIiwic2F2ZSIsInJlc2V0TGluayIsIkJBU0VfVVJMIiwic2VuZE1haWwiLCJwYXJhbXMiLCJzYWx0Um91bmRzIiwiaGFzaGVkUGFzc3dvcmQiLCJiY3J5cHQiLCJoYXNoIiwiJGd0IiwiRGF0ZSIsIm5vdyIsInVuZGVmaW5lZCIsImVyciIsImNvbnNvbGUiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJkZWZhdWx0Il0sInNvdXJjZVJvb3QiOiIvVXNlcnMvamVhbm5lZGFyY255aXJhbXdpemEvRG93bmxvYWRzL0FjY291bnQtVmVyaWZpY2F0aW9uLUJhY2tlbmQvc3JjL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiYXV0aC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgand0IGZyb20gXCJqc29ud2VidG9rZW5cIjtcbmltcG9ydCBVc2VyIGZyb20gXCIuLi9tb2RlbHMvdXNlclwiO1xuaW1wb3J0IGNyeXB0byBmcm9tIFwiY3J5cHRvXCI7XG5pbXBvcnQgVG9rZW4gZnJvbSBcIi4uL21vZGVscy90b2tlblwiO1xuaW1wb3J0IG1vbWVudCBmcm9tIFwibW9tZW50XCI7XG5pbXBvcnQgc2VuZE1haWwgZnJvbSBcIi4uL3V0aWxzL3NlbmRNYWlsXCI7XG5pbXBvcnQgYmNyeXB0IGZyb20gXCJiY3J5cHRcIjtcblxuY29uc3QgbG9naW4gPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgeyBlbWFpbCwgcGFzc3dvcmQgfSA9IHJlcS5ib2R5O1xuXG4gIC8vIENoZWNrIGlmIHVzZXIgZXhpc3RzXG4gIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoeyBlbWFpbCB9KTtcbiAgaWYgKCF1c2VyKSB7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogXCJJbnZhbGlkIGVtYWlsIG9yIHBhc3N3b3JkXCIgfSk7XG4gIH1cblxuICAvLyBWZXJpZnkgcGFzc3dvcmRcbiAgY29uc3QgcGFzc3dvcmRNYXRjaCA9IGF3YWl0IHVzZXIudmVyaWZ5UGFzc3dvcmQocGFzc3dvcmQpO1xuICBpZiAoIXBhc3N3b3JkTWF0Y2gpIHtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiBcIkludmFsaWQgZW1haWwgb3IgcGFzc3dvcmRcIiB9KTtcbiAgfVxuICBpZiAodXNlci5pc0VtYWlsVmVyaWZpZWQgPT09IGZhbHNlKSB7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogXCJWZXJpZnkgeW91ciBlbWFpbFwiIH0pO1xuICB9XG5cbiAgLy8gR2VuZXJhdGUgdG9rZW5cbiAgY29uc3QgdG9rZW4gPSBqd3Quc2lnbih7IHVzZXJJZDogdXNlci5faWQgfSwgcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVF9LRVkpO1xuXG4gIC8vIFJldHVybiB0b2tlbiBhbmQgdXNlciBpbmZvcm1hdGlvblxuICByZXR1cm4gcmVzLmpzb24oe1xuICAgIHRva2VuLFxuICAgIHVzZXI6IHtcbiAgICAgIGlkOiB1c2VyLl9pZCxcbiAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgIH0sXG4gIH0pO1xufTtcblxuY29uc3QgcmVzZXRQYXNzd29yZCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCB7IGVtYWlsIH0gPSByZXEuYm9keTtcbiAgY29uc3QgZXhpc3RpbmdVc2VyID0gYXdhaXQgVXNlci5maW5kT25lKHsgZW1haWwgfSk7XG4gIGlmICghZXhpc3RpbmdVc2VyKSB7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6IFwiRW1haWwgZG9lcyBub3QgZXhpc3RcIiB9KTtcbiAgfVxuXG4gIGNvbnN0IG5ld1Rva2VuID0gY3J5cHRvLnJhbmRvbUJ5dGVzKDMyKS50b1N0cmluZyhcImhleFwiKTtcbiAgY29uc3QgdG9rZW4gPSBuZXcgVG9rZW4oe1xuICAgIHVzZXJJZDogZXhpc3RpbmdVc2VyLl9pZCxcbiAgICB0b2tlbjogbmV3VG9rZW4sXG4gIH0pO1xuXG4gIGNvbnN0IHJlc2V0RXhwaXJlcyA9IG1vbWVudCgpLmFkZCgxLCBcImhvdXJcIikudG9EYXRlKCk7XG4gIC8vIFN0b3JlIHRoZSByZXNldCB0b2tlbiBpbiB0aGUgZGF0YWJhc2VcbiAgZXhpc3RpbmdVc2VyLnJlc2V0VG9rZW4gPSB0b2tlbi50b2tlbjtcbiAgZXhpc3RpbmdVc2VyLnJlc2V0RXhwaXJlcyA9IHJlc2V0RXhwaXJlcztcbiAgYXdhaXQgZXhpc3RpbmdVc2VyLnNhdmUoKTtcblxuICAvLyBTZW5kIGFuIGVtYWlsIHRvIHRoZSB1c2VyIHdpdGggdGhlIHJlc2V0IGxpbmtcbiAgY29uc3QgcmVzZXRMaW5rID0gYCR7cHJvY2Vzcy5lbnYuQkFTRV9VUkx9L3VzZXJzL3Jlc2V0LXBhc3N3b3JkLyR7bmV3VG9rZW59YDtcbiAgY29uc3QgbWVzc2FnZSA9IGBIZWxsbyxcXG5cXG5Zb3UgaGF2ZSByZXF1ZXN0ZWQgdG8gcmVzZXQgeW91ciBwYXNzd29yZC4gUGxlYXNlIGNsaWNrIHRoZSBmb2xsb3dpbmcgbGluayB0byByZXNldCB5b3VyIHBhc3N3b3JkOlxcblxcbiR7cmVzZXRMaW5rfVxcblxcblRoaXMgbGluayB3aWxsIGV4cGlyZSBpbiAxIGhvdXIuXFxuYDtcbiAgc2VuZE1haWwoZXhpc3RpbmdVc2VyLmVtYWlsLCBcIlBhc3N3b3JkIFJlc2V0IFJlcXVlc3RcIiwgbWVzc2FnZSk7XG5cbiAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBtZXNzYWdlOiBcIlJlc2V0IGVtYWlsIHNlbnRcIiB9KTtcbn07XG5cbmNvbnN0IHJlc2V0TGluayA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCB7IHBhc3N3b3JkIH0gPSByZXEuYm9keTtcbiAgY29uc3QgeyB0b2tlbiB9ID0gcmVxLnBhcmFtcztcblxuICAvLyBIYXNoIHBhc3N3b3JkXG4gIGNvbnN0IHNhbHRSb3VuZHMgPSAxMDtcbiAgY29uc3QgaGFzaGVkUGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuaGFzaChwYXNzd29yZCwgc2FsdFJvdW5kcyk7XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kT25lKHtcbiAgICAgIHJlc2V0VG9rZW46IHRva2VuLFxuICAgICAgcmVzZXRFeHBpcmVzOiB7ICRndDogRGF0ZS5ub3coKSB9LFxuICAgIH0pO1xuXG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICAvLyBSZXNldCB0b2tlbiBpcyBpbnZhbGlkIG9yIGhhcyBleHBpcmVkXG4gICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6IFwiSW52YWxpZCBvciBleHBpcmVkIHJlc2V0IHRva2VuXCIgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIHRoZSB1c2VyJ3MgcGFzc3dvcmQgYW5kIHJlc2V0IHRoZSByZXNldFRva2VuIGFuZCByZXNldEV4cGlyZXMgZmllbGRzIGluIHRoZSBkYXRhYmFzZVxuICAgIHVzZXIucGFzc3dvcmQgPSBoYXNoZWRQYXNzd29yZDtcbiAgICB1c2VyLnJlc2V0VG9rZW4gPSB1bmRlZmluZWQ7XG4gICAgdXNlci5yZXNldEV4cGlyZXMgPSB1bmRlZmluZWQ7XG5cbiAgICBhd2FpdCB1c2VyLnNhdmUoKTtcblxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgbWVzc2FnZTogXCJQYXNzd29yZCByZXNldCBzdWNjZXNzZnVsbHlcIiB9KTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogXCJTZXJ2ZXIgZXJyb3JcIiB9KTtcbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgeyBsb2dpbiwgcmVzZXRQYXNzd29yZCwgcmVzZXRMaW5rIH07XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxJQUFBQSxhQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxLQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxPQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxNQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBSSxPQUFBLEdBQUFMLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBSyxTQUFBLEdBQUFOLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBTSxPQUFBLEdBQUFQLHNCQUFBLENBQUFDLE9BQUE7QUFFQSxNQUFNTyxLQUFLLEdBQUcsTUFBQUEsQ0FBT0MsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDaEMsTUFBTTtJQUFFQyxLQUFLO0lBQUVDO0VBQVMsQ0FBQyxHQUFHSCxHQUFHLENBQUNJLElBQUk7O0VBRXBDO0VBQ0EsTUFBTUMsSUFBSSxHQUFHLE1BQU1DLGFBQUksQ0FBQ0MsT0FBTyxDQUFDO0lBQUVMO0VBQU0sQ0FBQyxDQUFDO0VBQzFDLElBQUksQ0FBQ0csSUFBSSxFQUFFO0lBQ1QsT0FBT0osR0FBRyxDQUFDTyxNQUFNLENBQUMsR0FB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","map":{"version":3,"names":["_jsonwebtoken","_interopRequireDefault","require","_user","_crypto","_token","_moment","_sendMail","_bcrypt","login","req","res","email","password","body","user","User","findOne","status","json","message","passwordMatch","verifyPassword","isEmailVerified","token","jwt","sign","userId","_id","process","env","JWT_SECRET_KEY","id","resetPassword","existingUser","error","newToken","crypto","randomBytes","toString","Token","resetExpires","moment","add","toDate","resetToken","save","resetLink","BASE_URL","sendMail","params","saltRounds","hashedPassword","bcrypt","hash","$gt","Date","now","undefined","err","console","_default","exports","default"],"sourceRoot":"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/controllers/","sources":["auth.js"],"sourcesContent":["import jwt from \"jsonwebtoken\";\nimport User from \"../models/user\";\nimport crypto from \"crypto\";\nimport Token from \"../models/token\";\nimport moment from \"moment\";\nimport sendMail from \"../utils/sendMail\";\nimport bcrypt from \"bcrypt\";\n\nconst login = async (req, res) => {\n  const { email, password } = req.body;\n\n  // Check if user exists\n  const user = await User.findOne({ email });\n  if (!user) {\n    return res.status(401).json({ message: \"Invalid email or password\" });\n  }\n\n  // Verify password\n  const passwordMatch = await user.verifyPassword(password);\n  if (!passwordMatch) {\n    return res.status(401).json({ message: \"Invalid email or password\" });\n  }\n  if (user.isEmailVerified === false) {\n    return res.status(401).json({ message: \"Verify your email\" });\n  }\n\n  // Generate token\n  const token = jwt.sign({ userId: user._id }, process.env.JWT_SECRET_KEY);\n\n  // Return token and user information\n  return res.json({\n    token,\n    user: {\n      id: user._id,\n      email: user.email,\n    },\n  });\n};\n\nconst resetPassword = async (req, res) => {\n  const { email } = req.body;\n  const existingUser = await User.findOne({ email });\n  if (!existingUser) {\n    return res.status(400).json({ error: \"Email does not exist\" });\n  }\n\n  const newToken = crypto.randomBytes(32).toString(\"hex\");\n  const token = new Token({\n    userId: existingUser._id,\n    token: newToken,\n  });\n\n  const resetExpires = moment().add(1, \"hour\").toDate();\n  // Store the reset token in the database\n  existingUser.resetToken = token.token;\n  existingUser.resetExpires = resetExpires;\n  await existingUser.save();\n\n  // Send an email to the user with the reset link\n  const resetLink = `${process.env.BASE_URL}/users/reset-password/${newToken}`;\n  const message = `Hello,\\n\\nYou have requested to reset your password. Please click the following link to reset your password:\\n\\n${resetLink}\\n\\nThis link will expire in 1 hour.\\n`;\n  sendMail(existingUser.email, \"Password Reset Request\", message);\n\n  res.status(200).json({ message: \"Reset email sent\" });\n};\n\nconst resetLink = async (req, res) => {\n  const { password } = req.body;\n  const { token } = req.params;\n\n  // Hash password\n  const saltRounds = 10;\n  const hashedPassword = await bcrypt.hash(password, saltRounds);\n\n  try {\n    const user = await User.findOne({\n      resetToken: token,\n      resetExpires: { $gt: Date.now() },\n    });\n\n    if (!user) {\n      // Reset token is invalid or has expired\n      res.status(400).json({ message: \"Invalid or expired reset token\" });\n      return;\n    }\n\n    // Update the user's password and reset the resetToken and resetExpires fields in the database\n    user.password = hashedPassword;\n    user.resetToken = undefined;\n    user.resetExpires = undefined;\n\n    await user.save();\n\n    res.status(200).json({ message: \"Password reset successfully\" });\n  } catch (err) {\n    console.error(err);\n    res.status(500).json({ message: \"Server error\" });\n  }\n};\n\nexport default { login, resetPassword, resetLink };\n"],"mappings":"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"}},"mtime":1682858183489},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend\",\"filename\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/controllers/loginWithGoolge.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.5:development":{"value":{"code":"\"use strict\";\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIvVXNlcnMvamVhbm5lZGFyY255aXJhbXdpemEvRG93bmxvYWRzL0FjY291bnQtVmVyaWZpY2F0aW9uLUJhY2tlbmQvc3JjL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsibG9naW5XaXRoR29vbGdlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlxuIl0sIm1hcHBpbmdzIjoiIn0=","map":{"version":3,"names":[],"sourceRoot":"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/controllers/","sources":["loginWithGoolge.js"],"sourcesContent":["\n"],"mappings":""}},"mtime":1682834196434},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/config/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend\",\"filename\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/config/googleAuth.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.5:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _passport = _interopRequireDefault(require(\"passport\"));\nvar _passportGoogleOauth = require(\"passport-google-oauth\");\nconst GOOGLE_CLIENT_ID = process.env.GOOGLE_CLIENT_ID;\nconst GOOGLE_CLIENT_SECRET = process.env.GOOGLE_CLIENT_SECRET;\nconst googleAuth = _passport.default.use(new _passportGoogleOauth.Strategy({\n  clientID: GOOGLE_CLIENT_ID,\n  clientSecret: GOOGLE_CLIENT_SECRET,\n  callbackURL: process.env.GOOGLE_CALLBACK_URL\n}, function (accessToken, refreshToken, profile, done) {\n  const userProfile = profile;\n  return done(null, userProfile);\n}));\nvar _default = {\n  googleAuth\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcGFzc3BvcnQiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9wYXNzcG9ydEdvb2dsZU9hdXRoIiwiR09PR0xFX0NMSUVOVF9JRCIsInByb2Nlc3MiLCJlbnYiLCJHT09HTEVfQ0xJRU5UX1NFQ1JFVCIsImdvb2dsZUF1dGgiLCJwYXNzcG9ydCIsInVzZSIsIkdvb2dsZVN0cmF0ZWd5IiwiY2xpZW50SUQiLCJjbGllbnRTZWNyZXQiLCJjYWxsYmFja1VSTCIsIkdPT0dMRV9DQUxMQkFDS19VUkwiLCJhY2Nlc3NUb2tlbiIsInJlZnJlc2hUb2tlbiIsInByb2ZpbGUiLCJkb25lIiwidXNlclByb2ZpbGUiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJkZWZhdWx0Il0sInNvdXJjZVJvb3QiOiIvVXNlcnMvamVhbm5lZGFyY255aXJhbXdpemEvRG93bmxvYWRzL0FjY291bnQtVmVyaWZpY2F0aW9uLUJhY2tlbmQvc3JjL2NvbmZpZy8iLCJzb3VyY2VzIjpbImdvb2dsZUF1dGguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHBhc3Nwb3J0IGZyb20gXCJwYXNzcG9ydFwiO1xuaW1wb3J0IHsgU3RyYXRlZ3kgYXMgR29vZ2xlU3RyYXRlZ3kgfSBmcm9tIFwicGFzc3BvcnQtZ29vZ2xlLW9hdXRoXCI7XG5cbmNvbnN0IEdPT0dMRV9DTElFTlRfSUQgPSBwcm9jZXNzLmVudi5HT09HTEVfQ0xJRU5UX0lEO1xuY29uc3QgR09PR0xFX0NMSUVOVF9TRUNSRVQgPSBwcm9jZXNzLmVudi5HT09HTEVfQ0xJRU5UX1NFQ1JFVDtcblxuY29uc3QgZ29vZ2xlQXV0aCA9IHBhc3Nwb3J0LnVzZShcbiAgbmV3IEdvb2dsZVN0cmF0ZWd5KFxuICAgIHtcbiAgICAgIGNsaWVudElEOiBHT09HTEVfQ0xJRU5UX0lELFxuICAgICAgY2xpZW50U2VjcmV0OiBHT09HTEVfQ0xJRU5UX1NFQ1JFVCxcbiAgICAgIGNhbGxiYWNrVVJMOiBwcm9jZXNzLmVudi5HT09HTEVfQ0FMTEJBQ0tfVVJMLFxuICAgIH0sXG4gICAgZnVuY3Rpb24gKGFjY2Vzc1Rva2VuLCByZWZyZXNoVG9rZW4sIHByb2ZpbGUsIGRvbmUpIHtcbiAgICAgIGNvbnN0IHVzZXJQcm9maWxlID0gcHJvZmlsZTtcbiAgICAgIHJldHVybiBkb25lKG51bGwsIHVzZXJQcm9maWxlKTtcbiAgICB9XG4gIClcbik7XG5cbmV4cG9ydCBkZWZhdWx0IHsgZ29vZ2xlQXV0aCB9O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsb0JBQUEsR0FBQUQsT0FBQTtBQUVBLE1BQU1FLGdCQUFnQixHQUFHQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0YsZ0JBQWdCO0FBQ3JELE1BQU1HLG9CQUFvQixHQUFHRixPQUFPLENBQUNDLEdBQUcsQ0FBQ0Msb0JBQW9CO0FBRTdELE1BQU1DLFVBQVUsR0FBR0MsaUJBQVEsQ0FBQ0MsR0FBRyxDQUM3QixJQUFJQyw2QkFBYyxDQUNoQjtFQUNFQyxRQUFRLEVBQUVSLGdCQUFnQjtFQUMxQlMsWUFBWSxFQUFFTixvQkFBb0I7RUFDbENPLFdBQVcsRUFBRVQsT0FBTyxDQUFDQyxHQUFHLENBQUNTO0FBQzNCLENBQUMsRUFDRCxVQUFVQyxXQUFXLEVBQUVDLFlBQVksRUFBRUMsT0FBTyxFQUFFQyxJQUFJLEVBQUU7RUFDbEQsTUFBTUMsV0FBVyxHQUFHRixPQUFPO0VBQzNCLE9BQU9DLElBQUksQ0FBQyxJQUFJLEVBQUVDLFdBQVcsQ0FBQztBQUNoQyxDQUNGLENBQ0YsQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FFYTtFQUFFYjtBQUFXLENBQUM7QUFBQWMsT0FBQSxDQUFBQyxPQUFBLEdBQUFGLFFBQUEifQ==","map":{"version":3,"names":["_passport","_interopRequireDefault","require","_passportGoogleOauth","GOOGLE_CLIENT_ID","process","env","GOOGLE_CLIENT_SECRET","googleAuth","passport","use","GoogleStrategy","clientID","clientSecret","callbackURL","GOOGLE_CALLBACK_URL","accessToken","refreshToken","profile","done","userProfile","_default","exports","default"],"sourceRoot":"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/config/","sources":["googleAuth.js"],"sourcesContent":["import passport from \"passport\";\nimport { Strategy as GoogleStrategy } from \"passport-google-oauth\";\n\nconst GOOGLE_CLIENT_ID = process.env.GOOGLE_CLIENT_ID;\nconst GOOGLE_CLIENT_SECRET = process.env.GOOGLE_CLIENT_SECRET;\n\nconst googleAuth = passport.use(\n  new GoogleStrategy(\n    {\n      clientID: GOOGLE_CLIENT_ID,\n      clientSecret: GOOGLE_CLIENT_SECRET,\n      callbackURL: process.env.GOOGLE_CALLBACK_URL,\n    },\n    function (accessToken, refreshToken, profile, done) {\n      const userProfile = profile;\n      return done(null, userProfile);\n    }\n  )\n);\n\nexport default { googleAuth };\n"],"mappings":";;;;;;;AAAA,IAAAA,SAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,oBAAA,GAAAD,OAAA;AAEA,MAAME,gBAAgB,GAAGC,OAAO,CAACC,GAAG,CAACF,gBAAgB;AACrD,MAAMG,oBAAoB,GAAGF,OAAO,CAACC,GAAG,CAACC,oBAAoB;AAE7D,MAAMC,UAAU,GAAGC,iBAAQ,CAACC,GAAG,CAC7B,IAAIC,6BAAc,CAChB;EACEC,QAAQ,EAAER,gBAAgB;EAC1BS,YAAY,EAAEN,oBAAoB;EAClCO,WAAW,EAAET,OAAO,CAACC,GAAG,CAACS;AAC3B,CAAC,EACD,UAAUC,WAAW,EAAEC,YAAY,EAAEC,OAAO,EAAEC,IAAI,EAAE;EAClD,MAAMC,WAAW,GAAGF,OAAO;EAC3B,OAAOC,IAAI,CAAC,IAAI,EAAEC,WAAW,CAAC;AAChC,CACF,CACF,CAAC;AAAC,IAAAC,QAAA,GAEa;EAAEb;AAAW,CAAC;AAAAc,OAAA,CAAAC,OAAA,GAAAF,QAAA"}},"mtime":1682845694207},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend\",\"filename\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/controllers/loginWithGoolge.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.5:development":{"value":{"code":"\"use strict\";\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIvVXNlcnMvamVhbm5lZGFyY255aXJhbXdpemEvRG93bmxvYWRzL0FjY291bnQtVmVyaWZpY2F0aW9uLUJhY2tlbmQvc3JjL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsibG9naW5XaXRoR29vbGdlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlxuIl0sIm1hcHBpbmdzIjoiIn0=","map":{"version":3,"names":[],"sourceRoot":"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/controllers/","sources":["loginWithGoolge.js"],"sourcesContent":["\n"],"mappings":""}},"mtime":1682834196434},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/config/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend\",\"filename\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/config/googleAuth.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.5:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _passport = _interopRequireDefault(require(\"passport\"));\nvar _passportGoogleOauth = require(\"passport-google-oauth\");\nconst GOOGLE_CLIENT_ID = process.env.GOOGLE_CLIENT_ID;\nconst GOOGLE_CLIENT_SECRET = process.env.GOOGLE_CLIENT_SECRET;\n_passport.default.use(new _passportGoogleOauth.Strategy({\n  clientID: GOOGLE_CLIENT_ID,\n  clientSecret: GOOGLE_CLIENT_SECRET,\n  callbackURL: process.env.GOOGLE_CALLBACK_URL\n}, function (accessToken, refreshToken, profile, done) {\n  const userProfile = profile;\n  return done(null, userProfile);\n}));\nvar _default = _passport.default;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcGFzc3BvcnQiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9wYXNzcG9ydEdvb2dsZU9hdXRoIiwiR09PR0xFX0NMSUVOVF9JRCIsInByb2Nlc3MiLCJlbnYiLCJHT09HTEVfQ0xJRU5UX1NFQ1JFVCIsInBhc3Nwb3J0IiwidXNlIiwiR29vZ2xlU3RyYXRlZ3kiLCJjbGllbnRJRCIsImNsaWVudFNlY3JldCIsImNhbGxiYWNrVVJMIiwiR09PR0xFX0NBTExCQUNLX1VSTCIsImFjY2Vzc1Rva2VuIiwicmVmcmVzaFRva2VuIiwicHJvZmlsZSIsImRvbmUiLCJ1c2VyUHJvZmlsZSIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsImRlZmF1bHQiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9qZWFubmVkYXJjbnlpcmFtd2l6YS9Eb3dubG9hZHMvQWNjb3VudC1WZXJpZmljYXRpb24tQmFja2VuZC9zcmMvY29uZmlnLyIsInNvdXJjZXMiOlsiZ29vZ2xlQXV0aC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcGFzc3BvcnQgZnJvbSBcInBhc3Nwb3J0XCI7XG5pbXBvcnQgeyBTdHJhdGVneSBhcyBHb29nbGVTdHJhdGVneSB9IGZyb20gXCJwYXNzcG9ydC1nb29nbGUtb2F1dGhcIjtcblxuY29uc3QgR09PR0xFX0NMSUVOVF9JRCA9IHByb2Nlc3MuZW52LkdPT0dMRV9DTElFTlRfSUQ7XG5jb25zdCBHT09HTEVfQ0xJRU5UX1NFQ1JFVCA9IHByb2Nlc3MuZW52LkdPT0dMRV9DTElFTlRfU0VDUkVUO1xuXG5wYXNzcG9ydC51c2UoXG4gIG5ldyBHb29nbGVTdHJhdGVneShcbiAgICB7XG4gICAgICBjbGllbnRJRDogR09PR0xFX0NMSUVOVF9JRCxcbiAgICAgIGNsaWVudFNlY3JldDogR09PR0xFX0NMSUVOVF9TRUNSRVQsXG4gICAgICBjYWxsYmFja1VSTDogcHJvY2Vzcy5lbnYuR09PR0xFX0NBTExCQUNLX1VSTCxcbiAgICB9LFxuICAgIGZ1bmN0aW9uIChhY2Nlc3NUb2tlbiwgcmVmcmVzaFRva2VuLCBwcm9maWxlLCBkb25lKSB7XG4gICAgICBjb25zdCB1c2VyUHJvZmlsZSA9IHByb2ZpbGU7XG4gICAgICByZXR1cm4gZG9uZShudWxsLCB1c2VyUHJvZmlsZSk7XG4gICAgfVxuICApXG4pO1xuXG5leHBvcnQgZGVmYXVsdCBwYXNzcG9ydDtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLG9CQUFBLEdBQUFELE9BQUE7QUFFQSxNQUFNRSxnQkFBZ0IsR0FBR0MsT0FBTyxDQUFDQyxHQUFHLENBQUNGLGdCQUFnQjtBQUNyRCxNQUFNRyxvQkFBb0IsR0FBR0YsT0FBTyxDQUFDQyxHQUFHLENBQUNDLG9CQUFvQjtBQUU3REMsaUJBQVEsQ0FBQ0MsR0FBRyxDQUNWLElBQUlDLDZCQUFjLENBQ2hCO0VBQ0VDLFFBQVEsRUFBRVAsZ0JBQWdCO0VBQzFCUSxZQUFZLEVBQUVMLG9CQUFvQjtFQUNsQ00sV0FBVyxFQUFFUixPQUFPLENBQUNDLEdBQUcsQ0FBQ1E7QUFDM0IsQ0FBQyxFQUNELFVBQVVDLFdBQVcsRUFBRUMsWUFBWSxFQUFFQyxPQUFPLEVBQUVDLElBQUksRUFBRTtFQUNsRCxNQUFNQyxXQUFXLEdBQUdGLE9BQU87RUFDM0IsT0FBT0MsSUFBSSxDQUFDLElBQUksRUFBRUMsV0FBVyxDQUFDO0FBQ2hDLENBQ0YsQ0FDRixDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUVhWixpQkFBUTtBQUFBYSxPQUFBLENBQUFDLE9BQUEsR0FBQUYsUUFBQSJ9","map":{"version":3,"names":["_passport","_interopRequireDefault","require","_passportGoogleOauth","GOOGLE_CLIENT_ID","process","env","GOOGLE_CLIENT_SECRET","passport","use","GoogleStrategy","clientID","clientSecret","callbackURL","GOOGLE_CALLBACK_URL","accessToken","refreshToken","profile","done","userProfile","_default","exports","default"],"sourceRoot":"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/config/","sources":["googleAuth.js"],"sourcesContent":["import passport from \"passport\";\nimport { Strategy as GoogleStrategy } from \"passport-google-oauth\";\n\nconst GOOGLE_CLIENT_ID = process.env.GOOGLE_CLIENT_ID;\nconst GOOGLE_CLIENT_SECRET = process.env.GOOGLE_CLIENT_SECRET;\n\npassport.use(\n  new GoogleStrategy(\n    {\n      clientID: GOOGLE_CLIENT_ID,\n      clientSecret: GOOGLE_CLIENT_SECRET,\n      callbackURL: process.env.GOOGLE_CALLBACK_URL,\n    },\n    function (accessToken, refreshToken, profile, done) {\n      const userProfile = profile;\n      return done(null, userProfile);\n    }\n  )\n);\n\nexport default passport;\n"],"mappings":";;;;;;;AAAA,IAAAA,SAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,oBAAA,GAAAD,OAAA;AAEA,MAAME,gBAAgB,GAAGC,OAAO,CAACC,GAAG,CAACF,gBAAgB;AACrD,MAAMG,oBAAoB,GAAGF,OAAO,CAACC,GAAG,CAACC,oBAAoB;AAE7DC,iBAAQ,CAACC,GAAG,CACV,IAAIC,6BAAc,CAChB;EACEC,QAAQ,EAAEP,gBAAgB;EAC1BQ,YAAY,EAAEL,oBAAoB;EAClCM,WAAW,EAAER,OAAO,CAACC,GAAG,CAACQ;AAC3B,CAAC,EACD,UAAUC,WAAW,EAAEC,YAAY,EAAEC,OAAO,EAAEC,IAAI,EAAE;EAClD,MAAMC,WAAW,GAAGF,OAAO;EAC3B,OAAOC,IAAI,CAAC,IAAI,EAAEC,WAAW,CAAC;AAChC,CACF,CACF,CAAC;AAAC,IAAAC,QAAA,GAEaZ,iBAAQ;AAAAa,OAAA,CAAAC,OAAA,GAAAF,QAAA"}},"mtime":1682846419174},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/utils/enum/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend\",\"filename\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/utils/enum/accountState.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.5:development":{"value":{"code":"\"use strict\";\n\nconst AccountState = {\n  UNVERIFIED: \"UNVERIFIED\",\n  PENDING: \"PENDING\",\n  VERIFICATION: \"VERIFICATION\",\n  VERIFIED: \"VERIFIED\"\n};\nmodule.exports = {\n  AccountState\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJBY2NvdW50U3RhdGUiLCJVTlZFUklGSUVEIiwiUEVORElORyIsIlZFUklGSUNBVElPTiIsIlZFUklGSUVEIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2plYW5uZWRhcmNueWlyYW13aXphL0Rvd25sb2Fkcy9BY2NvdW50LVZlcmlmaWNhdGlvbi1CYWNrZW5kL3NyYy91dGlscy9lbnVtLyIsInNvdXJjZXMiOlsiYWNjb3VudFN0YXRlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEFjY291bnRTdGF0ZSA9IHtcbiAgVU5WRVJJRklFRDogXCJVTlZFUklGSUVEXCIsXG4gIFBFTkRJTkc6IFwiUEVORElOR1wiLFxuICBWRVJJRklDQVRJT046IFwiVkVSSUZJQ0FUSU9OXCIsXG4gIFZFUklGSUVEOiBcIlZFUklGSUVEXCIsXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHsgQWNjb3VudFN0YXRlIH07XG4iXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsWUFBWSxHQUFHO0VBQ25CQyxVQUFVLEVBQUUsWUFBWTtFQUN4QkMsT0FBTyxFQUFFLFNBQVM7RUFDbEJDLFlBQVksRUFBRSxjQUFjO0VBQzVCQyxRQUFRLEVBQUU7QUFDWixDQUFDO0FBRURDLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHO0VBQUVOO0FBQWEsQ0FBQyJ9","map":{"version":3,"names":["AccountState","UNVERIFIED","PENDING","VERIFICATION","VERIFIED","module","exports"],"sourceRoot":"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/utils/enum/","sources":["accountState.js"],"sourcesContent":["const AccountState = {\n  UNVERIFIED: \"UNVERIFIED\",\n  PENDING: \"PENDING\",\n  VERIFICATION: \"VERIFICATION\",\n  VERIFIED: \"VERIFIED\",\n};\n\nmodule.exports = { AccountState };\n"],"mappings":";;AAAA,MAAMA,YAAY,GAAG;EACnBC,UAAU,EAAE,YAAY;EACxBC,OAAO,EAAE,SAAS;EAClBC,YAAY,EAAE,cAAc;EAC5BC,QAAQ,EAAE;AACZ,CAAC;AAEDC,MAAM,CAACC,OAAO,GAAG;EAAEN;AAAa,CAAC"}},"mtime":1682800065851},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/utils/enum/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend\",\"filename\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/utils/enum/accountState.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.5:development":{"value":{"code":"\"use strict\";\n\nconst AccountState = {\n  UNVERIFIED: \"UNVERIFIED\",\n  PENDING: \"PENDING\",\n  VERIFICATION: \"VERIFICATION\",\n  VERIFIED: \"VERIFIED\"\n};\nmodule.exports = {\n  AccountState\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJBY2NvdW50U3RhdGUiLCJVTlZFUklGSUVEIiwiUEVORElORyIsIlZFUklGSUNBVElPTiIsIlZFUklGSUVEIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2plYW5uZWRhcmNueWlyYW13aXphL0Rvd25sb2Fkcy9BY2NvdW50LVZlcmlmaWNhdGlvbi1CYWNrZW5kL3NyYy91dGlscy9lbnVtLyIsInNvdXJjZXMiOlsiYWNjb3VudFN0YXRlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEFjY291bnRTdGF0ZSA9IHtcbiAgVU5WRVJJRklFRDogXCJVTlZFUklGSUVEXCIsXG4gIFBFTkRJTkc6IFwiUEVORElOR1wiLFxuICBWRVJJRklDQVRJT046IFwiVkVSSUZJQ0FUSU9OXCIsXG4gIFZFUklGSUVEOiBcIlZFUklGSUVEXCIsXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHsgQWNjb3VudFN0YXRlIH07XG4iXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsWUFBWSxHQUFHO0VBQ25CQyxVQUFVLEVBQUUsWUFBWTtFQUN4QkMsT0FBTyxFQUFFLFNBQVM7RUFDbEJDLFlBQVksRUFBRSxjQUFjO0VBQzVCQyxRQUFRLEVBQUU7QUFDWixDQUFDO0FBRURDLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHO0VBQUVOO0FBQWEsQ0FBQyJ9","map":{"version":3,"names":["AccountState","UNVERIFIED","PENDING","VERIFICATION","VERIFIED","module","exports"],"sourceRoot":"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/utils/enum/","sources":["accountState.js"],"sourcesContent":["const AccountState = {\n  UNVERIFIED: \"UNVERIFIED\",\n  PENDING: \"PENDING\",\n  VERIFICATION: \"VERIFICATION\",\n  VERIFIED: \"VERIFIED\",\n};\n\nmodule.exports = { AccountState };\n"],"mappings":";;AAAA,MAAMA,YAAY,GAAG;EACnBC,UAAU,EAAE,YAAY;EACxBC,OAAO,EAAE,SAAS;EAClBC,YAAY,EAAE,cAAc;EAC5BC,QAAQ,EAAE;AACZ,CAAC;AAEDC,MAAM,CAACC,OAAO,GAAG;EAAEN;AAAa,CAAC"}},"mtime":1682800065851},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend\",\"filename\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/models/token.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.5:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nconst {\n  Schema\n} = _mongoose.default;\nconst tokenSchema = new _mongoose.default.Schema({\n  userId: {\n    type: Schema.Types.ObjectId,\n    ref: \"user\",\n    required: true\n  },\n  token: {\n    type: String,\n    required: true\n  }\n});\nconst Token = _mongoose.default.model(\"token\", tokenSchema);\nmodule.exports = Token;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIlNjaGVtYSIsIm1vbmdvb3NlIiwidG9rZW5TY2hlbWEiLCJ1c2VySWQiLCJ0eXBlIiwiVHlwZXMiLCJPYmplY3RJZCIsInJlZiIsInJlcXVpcmVkIiwidG9rZW4iLCJTdHJpbmciLCJUb2tlbiIsIm1vZGVsIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2plYW5uZWRhcmNueWlyYW13aXphL0Rvd25sb2Fkcy9BY2NvdW50LVZlcmlmaWNhdGlvbi1CYWNrZW5kL3NyYy9tb2RlbHMvIiwic291cmNlcyI6WyJ0b2tlbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XG5jb25zdCB7IFNjaGVtYSB9ID0gbW9uZ29vc2U7XG5cbmNvbnN0IHRva2VuU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XG4gIHVzZXJJZDoge1xuICAgIHR5cGU6IFNjaGVtYS5UeXBlcy5PYmplY3RJZCxcbiAgICByZWY6IFwidXNlclwiLFxuICAgIHJlcXVpcmVkOiB0cnVlLFxuICB9LFxuICB0b2tlbjoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICByZXF1aXJlZDogdHJ1ZSxcbiAgfSxcbn0pO1xuXG5jb25zdCBUb2tlbiA9IG1vbmdvb3NlLm1vZGVsKFwidG9rZW5cIiwgdG9rZW5TY2hlbWEpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFRva2VuO1xuIl0sIm1hcHBpbmdzIjoiOzs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxNQUFNO0VBQUVDO0FBQU8sQ0FBQyxHQUFHQyxpQkFBUTtBQUUzQixNQUFNQyxXQUFXLEdBQUcsSUFBSUQsaUJBQVEsQ0FBQ0QsTUFBTSxDQUFDO0VBQ3RDRyxNQUFNLEVBQUU7SUFDTkMsSUFBSSxFQUFFSixNQUFNLENBQUNLLEtBQUssQ0FBQ0MsUUFBUTtJQUMzQkMsR0FBRyxFQUFFLE1BQU07SUFDWEMsUUFBUSxFQUFFO0VBQ1osQ0FBQztFQUNEQyxLQUFLLEVBQUU7SUFDTEwsSUFBSSxFQUFFTSxNQUFNO0lBQ1pGLFFBQVEsRUFBRTtFQUNaO0FBQ0YsQ0FBQyxDQUFDO0FBRUYsTUFBTUcsS0FBSyxHQUFHVixpQkFBUSxDQUFDVyxLQUFLLENBQUMsT0FBTyxFQUFFVixXQUFXLENBQUM7QUFFbERXLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHSCxLQUFLIn0=","map":{"version":3,"names":["_mongoose","_interopRequireDefault","require","Schema","mongoose","tokenSchema","userId","type","Types","ObjectId","ref","required","token","String","Token","model","module","exports"],"sourceRoot":"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/models/","sources":["token.js"],"sourcesContent":["import mongoose from \"mongoose\";\nconst { Schema } = mongoose;\n\nconst tokenSchema = new mongoose.Schema({\n  userId: {\n    type: Schema.Types.ObjectId,\n    ref: \"user\",\n    required: true,\n  },\n  token: {\n    type: String,\n    required: true,\n  },\n});\n\nconst Token = mongoose.model(\"token\", tokenSchema);\n\nmodule.exports = Token;\n"],"mappings":";;;AAAA,IAAAA,SAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,MAAM;EAAEC;AAAO,CAAC,GAAGC,iBAAQ;AAE3B,MAAMC,WAAW,GAAG,IAAID,iBAAQ,CAACD,MAAM,CAAC;EACtCG,MAAM,EAAE;IACNC,IAAI,EAAEJ,MAAM,CAACK,KAAK,CAACC,QAAQ;IAC3BC,GAAG,EAAE,MAAM;IACXC,QAAQ,EAAE;EACZ,CAAC;EACDC,KAAK,EAAE;IACLL,IAAI,EAAEM,MAAM;IACZF,QAAQ,EAAE;EACZ;AACF,CAAC,CAAC;AAEF,MAAMG,KAAK,GAAGV,iBAAQ,CAACW,KAAK,CAAC,OAAO,EAAEV,WAAW,CAAC;AAElDW,MAAM,CAACC,OAAO,GAAGH,KAAK"}},"mtime":1682837522190},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend\",\"filename\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/models/token.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.5:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nconst {\n  Schema\n} = _mongoose.default;\nconst tokenSchema = new _mongoose.default.Schema({\n  userId: {\n    type: Schema.Types.ObjectId,\n    ref: \"user\",\n    required: true\n  },\n  token: {\n    type: String,\n    required: true\n  }\n});\nconst Token = _mongoose.default.model(\"token\", tokenSchema);\nmodule.exports = Token;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIlNjaGVtYSIsIm1vbmdvb3NlIiwidG9rZW5TY2hlbWEiLCJ1c2VySWQiLCJ0eXBlIiwiVHlwZXMiLCJPYmplY3RJZCIsInJlZiIsInJlcXVpcmVkIiwidG9rZW4iLCJTdHJpbmciLCJUb2tlbiIsIm1vZGVsIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2plYW5uZWRhcmNueWlyYW13aXphL0Rvd25sb2Fkcy9BY2NvdW50LVZlcmlmaWNhdGlvbi1CYWNrZW5kL3NyYy9tb2RlbHMvIiwic291cmNlcyI6WyJ0b2tlbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XG5jb25zdCB7IFNjaGVtYSB9ID0gbW9uZ29vc2U7XG5cbmNvbnN0IHRva2VuU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XG4gIHVzZXJJZDoge1xuICAgIHR5cGU6IFNjaGVtYS5UeXBlcy5PYmplY3RJZCxcbiAgICByZWY6IFwidXNlclwiLFxuICAgIHJlcXVpcmVkOiB0cnVlLFxuICB9LFxuICB0b2tlbjoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICByZXF1aXJlZDogdHJ1ZSxcbiAgfSxcbn0pO1xuXG5jb25zdCBUb2tlbiA9IG1vbmdvb3NlLm1vZGVsKFwidG9rZW5cIiwgdG9rZW5TY2hlbWEpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFRva2VuO1xuIl0sIm1hcHBpbmdzIjoiOzs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxNQUFNO0VBQUVDO0FBQU8sQ0FBQyxHQUFHQyxpQkFBUTtBQUUzQixNQUFNQyxXQUFXLEdBQUcsSUFBSUQsaUJBQVEsQ0FBQ0QsTUFBTSxDQUFDO0VBQ3RDRyxNQUFNLEVBQUU7SUFDTkMsSUFBSSxFQUFFSixNQUFNLENBQUNLLEtBQUssQ0FBQ0MsUUFBUTtJQUMzQkMsR0FBRyxFQUFFLE1BQU07SUFDWEMsUUFBUSxFQUFFO0VBQ1osQ0FBQztFQUNEQyxLQUFLLEVBQUU7SUFDTEwsSUFBSSxFQUFFTSxNQUFNO0lBQ1pGLFFBQVEsRUFBRTtFQUNaO0FBQ0YsQ0FBQyxDQUFDO0FBRUYsTUFBTUcsS0FBSyxHQUFHVixpQkFBUSxDQUFDVyxLQUFLLENBQUMsT0FBTyxFQUFFVixXQUFXLENBQUM7QUFFbERXLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHSCxLQUFLIn0=","map":{"version":3,"names":["_mongoose","_interopRequireDefault","require","Schema","mongoose","tokenSchema","userId","type","Types","ObjectId","ref","required","token","String","Token","model","module","exports"],"sourceRoot":"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/models/","sources":["token.js"],"sourcesContent":["import mongoose from \"mongoose\";\nconst { Schema } = mongoose;\n\nconst tokenSchema = new mongoose.Schema({\n  userId: {\n    type: Schema.Types.ObjectId,\n    ref: \"user\",\n    required: true,\n  },\n  token: {\n    type: String,\n    required: true,\n  },\n});\n\nconst Token = mongoose.model(\"token\", tokenSchema);\n\nmodule.exports = Token;\n"],"mappings":";;;AAAA,IAAAA,SAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,MAAM;EAAEC;AAAO,CAAC,GAAGC,iBAAQ;AAE3B,MAAMC,WAAW,GAAG,IAAID,iBAAQ,CAACD,MAAM,CAAC;EACtCG,MAAM,EAAE;IACNC,IAAI,EAAEJ,MAAM,CAACK,KAAK,CAACC,QAAQ;IAC3BC,GAAG,EAAE,MAAM;IACXC,QAAQ,EAAE;EACZ,CAAC;EACDC,KAAK,EAAE;IACLL,IAAI,EAAEM,MAAM;IACZF,QAAQ,EAAE;EACZ;AACF,CAAC,CAAC;AAEF,MAAMG,KAAK,GAAGV,iBAAQ,CAACW,KAAK,CAAC,OAAO,EAAEV,WAAW,CAAC;AAElDW,MAAM,CAACC,OAAO,GAAGH,KAAK"}},"mtime":1682837522190},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/utils/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend\",\"filename\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/utils/sendMail.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.5:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _nodemailer = _interopRequireDefault(require(\"nodemailer\"));\nconst sendEmail = async (email, subject, text) => {\n  try {\n    const transporter = _nodemailer.default.createTransport({\n      host: process.env.MAIL_HOST,\n      service: process.env.MAIL_SERVICE,\n      port: 25,\n      secure: false,\n      auth: {\n        user: process.env.MAIL_USER,\n        pass: process.env.MAIL_PASS\n      }\n    });\n    await transporter.sendMail({\n      from: \"njoanc@gmail.com\",\n      to: email,\n      subject: subject,\n      text: text\n    });\n    console.log(\"email sent sucessfully\");\n  } catch (error) {\n    console.log(\"email not sent\");\n    console.log(error);\n  }\n};\nmodule.exports = sendEmail;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbm9kZW1haWxlciIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwic2VuZEVtYWlsIiwiZW1haWwiLCJzdWJqZWN0IiwidGV4dCIsInRyYW5zcG9ydGVyIiwibm9kZW1haWxlciIsImNyZWF0ZVRyYW5zcG9ydCIsImhvc3QiLCJwcm9jZXNzIiwiZW52IiwiTUFJTF9IT1NUIiwic2VydmljZSIsIk1BSUxfU0VSVklDRSIsInBvcnQiLCJzZWN1cmUiLCJhdXRoIiwidXNlciIsIk1BSUxfVVNFUiIsInBhc3MiLCJNQUlMX1BBU1MiLCJzZW5kTWFpbCIsImZyb20iLCJ0byIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9qZWFubmVkYXJjbnlpcmFtd2l6YS9Eb3dubG9hZHMvQWNjb3VudC1WZXJpZmljYXRpb24tQmFja2VuZC9zcmMvdXRpbHMvIiwic291cmNlcyI6WyJzZW5kTWFpbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbm9kZW1haWxlciBmcm9tIFwibm9kZW1haWxlclwiO1xuXG5jb25zdCBzZW5kRW1haWwgPSBhc3luYyAoZW1haWwsIHN1YmplY3QsIHRleHQpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB0cmFuc3BvcnRlciA9IG5vZGVtYWlsZXIuY3JlYXRlVHJhbnNwb3J0KHtcbiAgICAgIGhvc3Q6IHByb2Nlc3MuZW52Lk1BSUxfSE9TVCxcbiAgICAgIHNlcnZpY2U6IHByb2Nlc3MuZW52Lk1BSUxfU0VSVklDRSxcbiAgICAgIHBvcnQ6IDI1LFxuICAgICAgc2VjdXJlOiBmYWxzZSxcbiAgICAgIGF1dGg6IHtcbiAgICAgICAgdXNlcjogcHJvY2Vzcy5lbnYuTUFJTF9VU0VSLFxuICAgICAgICBwYXNzOiBwcm9jZXNzLmVudi5NQUlMX1BBU1MsXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgYXdhaXQgdHJhbnNwb3J0ZXIuc2VuZE1haWwoe1xuICAgICAgZnJvbTogXCJuam9hbmNAZ21haWwuY29tXCIsXG4gICAgICB0bzogZW1haWwsXG4gICAgICBzdWJqZWN0OiBzdWJqZWN0LFxuICAgICAgdGV4dDogdGV4dCxcbiAgICB9KTtcbiAgICBjb25zb2xlLmxvZyhcImVtYWlsIHNlbnQgc3VjZXNzZnVsbHlcIik7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5sb2coXCJlbWFpbCBub3Qgc2VudFwiKTtcbiAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gc2VuZEVtYWlsO1xuIl0sIm1hcHBpbmdzIjoiOzs7QUFBQSxJQUFBQSxXQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFFQSxNQUFNQyxTQUFTLEdBQUcsTUFBQUEsQ0FBT0MsS0FBSyxFQUFFQyxPQUFPLEVBQUVDLElBQUksS0FBSztFQUNoRCxJQUFJO0lBQ0YsTUFBTUMsV0FBVyxHQUFHQyxtQkFBVSxDQUFDQyxlQUFlLENBQUM7TUFDN0NDLElBQUksRUFBRUMsT0FBTyxDQUFDQyxHQUFHLENBQUNDLFNBQVM7TUFDM0JDLE9BQU8sRUFBRUgsT0FBTyxDQUFDQyxHQUFHLENBQUNHLFlBQVk7TUFDakNDLElBQUksRUFBRSxFQUFFO01BQ1JDLE1BQU0sRUFBRSxLQUFLO01BQ2JDLElBQUksRUFBRTtRQUNKQyxJQUFJLEVBQUVSLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDUSxTQUFTO1FBQzNCQyxJQUFJLEVBQUVWLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDVTtNQUNwQjtJQUNGLENBQUMsQ0FBQztJQUVGLE1BQU1mLFdBQVcsQ0FBQ2dCLFFBQVEsQ0FBQztNQUN6QkMsSUFBSSxFQUFFLGtCQUFrQjtNQUN4QkMsRUFBRSxFQUFFckIsS0FBSztNQUNUQyxPQUFPLEVBQUVBLE9BQU87TUFDaEJDLElBQUksRUFBRUE7SUFDUixDQUFDLENBQUM7SUFDRm9CLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLHdCQUF3QixDQUFDO0VBQ3ZDLENBQUMsQ0FBQyxPQUFPQyxLQUFLLEVBQUU7SUFDZEYsT0FBTyxDQUFDQyxHQUFHLENBQUMsZ0JBQWdCLENBQUM7SUFDN0JELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxLQUFLLENBQUM7RUFDcEI7QUFDRixDQUFDO0FBRURDLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHM0IsU0FBUyJ9","map":{"version":3,"names":["_nodemailer","_interopRequireDefault","require","sendEmail","email","subject","text","transporter","nodemailer","createTransport","host","process","env","MAIL_HOST","service","MAIL_SERVICE","port","secure","auth","user","MAIL_USER","pass","MAIL_PASS","sendMail","from","to","console","log","error","module","exports"],"sourceRoot":"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/utils/","sources":["sendMail.js"],"sourcesContent":["import nodemailer from \"nodemailer\";\n\nconst sendEmail = async (email, subject, text) => {\n  try {\n    const transporter = nodemailer.createTransport({\n      host: process.env.MAIL_HOST,\n      service: process.env.MAIL_SERVICE,\n      port: 25,\n      secure: false,\n      auth: {\n        user: process.env.MAIL_USER,\n        pass: process.env.MAIL_PASS,\n      },\n    });\n\n    await transporter.sendMail({\n      from: \"njoanc@gmail.com\",\n      to: email,\n      subject: subject,\n      text: text,\n    });\n    console.log(\"email sent sucessfully\");\n  } catch (error) {\n    console.log(\"email not sent\");\n    console.log(error);\n  }\n};\n\nmodule.exports = sendEmail;\n"],"mappings":";;;AAAA,IAAAA,WAAA,GAAAC,sBAAA,CAAAC,OAAA;AAEA,MAAMC,SAAS,GAAG,MAAAA,CAAOC,KAAK,EAAEC,OAAO,EAAEC,IAAI,KAAK;EAChD,IAAI;IACF,MAAMC,WAAW,GAAGC,mBAAU,CAACC,eAAe,CAAC;MAC7CC,IAAI,EAAEC,OAAO,CAACC,GAAG,CAACC,SAAS;MAC3BC,OAAO,EAAEH,OAAO,CAACC,GAAG,CAACG,YAAY;MACjCC,IAAI,EAAE,EAAE;MACRC,MAAM,EAAE,KAAK;MACbC,IAAI,EAAE;QACJC,IAAI,EAAER,OAAO,CAACC,GAAG,CAACQ,SAAS;QAC3BC,IAAI,EAAEV,OAAO,CAACC,GAAG,CAACU;MACpB;IACF,CAAC,CAAC;IAEF,MAAMf,WAAW,CAACgB,QAAQ,CAAC;MACzBC,IAAI,EAAE,kBAAkB;MACxBC,EAAE,EAAErB,KAAK;MACTC,OAAO,EAAEA,OAAO;MAChBC,IAAI,EAAEA;IACR,CAAC,CAAC;IACFoB,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAC;EACvC,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdF,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC;IAC7BD,OAAO,CAACC,GAAG,CAACC,KAAK,CAAC;EACpB;AACF,CAAC;AAEDC,MAAM,CAACC,OAAO,GAAG3B,SAAS"}},"mtime":1682839446141},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/utils/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend\",\"filename\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/utils/sendMail.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.5:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _nodemailer = _interopRequireDefault(require(\"nodemailer\"));\nconst sendEmail = async (email, subject, text) => {\n  try {\n    const transporter = _nodemailer.default.createTransport({\n      host: process.env.MAIL_HOST,\n      service: process.env.MAIL_SERVICE,\n      port: 25,\n      secure: false,\n      auth: {\n        user: process.env.MAIL_USER,\n        pass: process.env.MAIL_PASS\n      }\n    });\n    await transporter.sendMail({\n      from: \"njoanc@gmail.com\",\n      to: email,\n      subject: subject,\n      text: text\n    });\n    console.log(\"email sent sucessfully\");\n  } catch (error) {\n    console.log(\"email not sent\");\n    console.log(error);\n  }\n};\nmodule.exports = sendEmail;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbm9kZW1haWxlciIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwic2VuZEVtYWlsIiwiZW1haWwiLCJzdWJqZWN0IiwidGV4dCIsInRyYW5zcG9ydGVyIiwibm9kZW1haWxlciIsImNyZWF0ZVRyYW5zcG9ydCIsImhvc3QiLCJwcm9jZXNzIiwiZW52IiwiTUFJTF9IT1NUIiwic2VydmljZSIsIk1BSUxfU0VSVklDRSIsInBvcnQiLCJzZWN1cmUiLCJhdXRoIiwidXNlciIsIk1BSUxfVVNFUiIsInBhc3MiLCJNQUlMX1BBU1MiLCJzZW5kTWFpbCIsImZyb20iLCJ0byIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9qZWFubmVkYXJjbnlpcmFtd2l6YS9Eb3dubG9hZHMvQWNjb3VudC1WZXJpZmljYXRpb24tQmFja2VuZC9zcmMvdXRpbHMvIiwic291cmNlcyI6WyJzZW5kTWFpbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbm9kZW1haWxlciBmcm9tIFwibm9kZW1haWxlclwiO1xuXG5jb25zdCBzZW5kRW1haWwgPSBhc3luYyAoZW1haWwsIHN1YmplY3QsIHRleHQpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB0cmFuc3BvcnRlciA9IG5vZGVtYWlsZXIuY3JlYXRlVHJhbnNwb3J0KHtcbiAgICAgIGhvc3Q6IHByb2Nlc3MuZW52Lk1BSUxfSE9TVCxcbiAgICAgIHNlcnZpY2U6IHByb2Nlc3MuZW52Lk1BSUxfU0VSVklDRSxcbiAgICAgIHBvcnQ6IDI1LFxuICAgICAgc2VjdXJlOiBmYWxzZSxcbiAgICAgIGF1dGg6IHtcbiAgICAgICAgdXNlcjogcHJvY2Vzcy5lbnYuTUFJTF9VU0VSLFxuICAgICAgICBwYXNzOiBwcm9jZXNzLmVudi5NQUlMX1BBU1MsXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgYXdhaXQgdHJhbnNwb3J0ZXIuc2VuZE1haWwoe1xuICAgICAgZnJvbTogXCJuam9hbmNAZ21haWwuY29tXCIsXG4gICAgICB0bzogZW1haWwsXG4gICAgICBzdWJqZWN0OiBzdWJqZWN0LFxuICAgICAgdGV4dDogdGV4dCxcbiAgICB9KTtcbiAgICBjb25zb2xlLmxvZyhcImVtYWlsIHNlbnQgc3VjZXNzZnVsbHlcIik7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5sb2coXCJlbWFpbCBub3Qgc2VudFwiKTtcbiAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gc2VuZEVtYWlsO1xuIl0sIm1hcHBpbmdzIjoiOzs7QUFBQSxJQUFBQSxXQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFFQSxNQUFNQyxTQUFTLEdBQUcsTUFBQUEsQ0FBT0MsS0FBSyxFQUFFQyxPQUFPLEVBQUVDLElBQUksS0FBSztFQUNoRCxJQUFJO0lBQ0YsTUFBTUMsV0FBVyxHQUFHQyxtQkFBVSxDQUFDQyxlQUFlLENBQUM7TUFDN0NDLElBQUksRUFBRUMsT0FBTyxDQUFDQyxHQUFHLENBQUNDLFNBQVM7TUFDM0JDLE9BQU8sRUFBRUgsT0FBTyxDQUFDQyxHQUFHLENBQUNHLFlBQVk7TUFDakNDLElBQUksRUFBRSxFQUFFO01BQ1JDLE1BQU0sRUFBRSxLQUFLO01BQ2JDLElBQUksRUFBRTtRQUNKQyxJQUFJLEVBQUVSLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDUSxTQUFTO1FBQzNCQyxJQUFJLEVBQUVWLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDVTtNQUNwQjtJQUNGLENBQUMsQ0FBQztJQUVGLE1BQU1mLFdBQVcsQ0FBQ2dCLFFBQVEsQ0FBQztNQUN6QkMsSUFBSSxFQUFFLGtCQUFrQjtNQUN4QkMsRUFBRSxFQUFFckIsS0FBSztNQUNUQyxPQUFPLEVBQUVBLE9BQU87TUFDaEJDLElBQUksRUFBRUE7SUFDUixDQUFDLENBQUM7SUFDRm9CLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLHdCQUF3QixDQUFDO0VBQ3ZDLENBQUMsQ0FBQyxPQUFPQyxLQUFLLEVBQUU7SUFDZEYsT0FBTyxDQUFDQyxHQUFHLENBQUMsZ0JBQWdCLENBQUM7SUFDN0JELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxLQUFLLENBQUM7RUFDcEI7QUFDRixDQUFDO0FBRURDLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHM0IsU0FBUyJ9","map":{"version":3,"names":["_nodemailer","_interopRequireDefault","require","sendEmail","email","subject","text","transporter","nodemailer","createTransport","host","process","env","MAIL_HOST","service","MAIL_SERVICE","port","secure","auth","user","MAIL_USER","pass","MAIL_PASS","sendMail","from","to","console","log","error","module","exports"],"sourceRoot":"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/utils/","sources":["sendMail.js"],"sourcesContent":["import nodemailer from \"nodemailer\";\n\nconst sendEmail = async (email, subject, text) => {\n  try {\n    const transporter = nodemailer.createTransport({\n      host: process.env.MAIL_HOST,\n      service: process.env.MAIL_SERVICE,\n      port: 25,\n      secure: false,\n      auth: {\n        user: process.env.MAIL_USER,\n        pass: process.env.MAIL_PASS,\n      },\n    });\n\n    await transporter.sendMail({\n      from: \"njoanc@gmail.com\",\n      to: email,\n      subject: subject,\n      text: text,\n    });\n    console.log(\"email sent sucessfully\");\n  } catch (error) {\n    console.log(\"email not sent\");\n    console.log(error);\n  }\n};\n\nmodule.exports = sendEmail;\n"],"mappings":";;;AAAA,IAAAA,WAAA,GAAAC,sBAAA,CAAAC,OAAA;AAEA,MAAMC,SAAS,GAAG,MAAAA,CAAOC,KAAK,EAAEC,OAAO,EAAEC,IAAI,KAAK;EAChD,IAAI;IACF,MAAMC,WAAW,GAAGC,mBAAU,CAACC,eAAe,CAAC;MAC7CC,IAAI,EAAEC,OAAO,CAACC,GAAG,CAACC,SAAS;MAC3BC,OAAO,EAAEH,OAAO,CAACC,GAAG,CAACG,YAAY;MACjCC,IAAI,EAAE,EAAE;MACRC,MAAM,EAAE,KAAK;MACbC,IAAI,EAAE;QACJC,IAAI,EAAER,OAAO,CAACC,GAAG,CAACQ,SAAS;QAC3BC,IAAI,EAAEV,OAAO,CAACC,GAAG,CAACU;MACpB;IACF,CAAC,CAAC;IAEF,MAAMf,WAAW,CAACgB,QAAQ,CAAC;MACzBC,IAAI,EAAE,kBAAkB;MACxBC,EAAE,EAAErB,KAAK;MACTC,OAAO,EAAEA,OAAO;MAChBC,IAAI,EAAEA;IACR,CAAC,CAAC;IACFoB,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAC;EACvC,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdF,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC;IAC7BD,OAAO,CAACC,GAAG,CAACC,KAAK,CAAC;EACpB;AACF,CAAC;AAEDC,MAAM,CAACC,OAAO,GAAG3B,SAAS"}},"mtime":1682839446141},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/config/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend\",\"filename\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/config/passport.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.5:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _passport = _interopRequireDefault(require(\"passport\"));\nvar _passportGoogleOauth = require(\"passport-google-oauth20\");\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n_dotenv.default.config();\n_passport.default.use(new _passportGoogleOauth.Strategy({\n  clientID: process.env.GOOGLE_CLIENT_ID,\n  clientSecret: process.env.GOOGLE_CLIENT_SECRET,\n  callbackURL: \"http://127.0.0.1:4002/users/auth/google/callback\"\n}, function (accessToken, refreshToken, profile, done) {\n  const userProfile = profile;\n  return done(null, userProfile);\n}));\nvar _default = _passport.default;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcGFzc3BvcnQiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9wYXNzcG9ydEdvb2dsZU9hdXRoIiwiX2RvdGVudiIsImRvdGVudiIsImNvbmZpZyIsInBhc3Nwb3J0IiwidXNlIiwiR29vZ2xlU3RyYXRlZ3kiLCJjbGllbnRJRCIsInByb2Nlc3MiLCJlbnYiLCJHT09HTEVfQ0xJRU5UX0lEIiwiY2xpZW50U2VjcmV0IiwiR09PR0xFX0NMSUVOVF9TRUNSRVQiLCJjYWxsYmFja1VSTCIsImFjY2Vzc1Rva2VuIiwicmVmcmVzaFRva2VuIiwicHJvZmlsZSIsImRvbmUiLCJ1c2VyUHJvZmlsZSIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsImRlZmF1bHQiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9qZWFubmVkYXJjbnlpcmFtd2l6YS9Eb3dubG9hZHMvQWNjb3VudC1WZXJpZmljYXRpb24tQmFja2VuZC9zcmMvY29uZmlnLyIsInNvdXJjZXMiOlsicGFzc3BvcnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHBhc3Nwb3J0IGZyb20gXCJwYXNzcG9ydFwiO1xuaW1wb3J0IHsgU3RyYXRlZ3kgYXMgR29vZ2xlU3RyYXRlZ3kgfSBmcm9tIFwicGFzc3BvcnQtZ29vZ2xlLW9hdXRoMjBcIjtcbmltcG9ydCBkb3RlbnYgZnJvbSBcImRvdGVudlwiO1xuZG90ZW52LmNvbmZpZygpO1xuXG5wYXNzcG9ydC51c2UoXG4gIG5ldyBHb29nbGVTdHJhdGVneShcbiAgICB7XG4gICAgICBjbGllbnRJRDogcHJvY2Vzcy5lbnYuR09PR0xFX0NMSUVOVF9JRCxcbiAgICAgIGNsaWVudFNlY3JldDogcHJvY2Vzcy5lbnYuR09PR0xFX0NMSUVOVF9TRUNSRVQsXG4gICAgICBjYWxsYmFja1VSTDogXCJodHRwOi8vMTI3LjAuMC4xOjQwMDIvdXNlcnMvYXV0aC9nb29nbGUvY2FsbGJhY2tcIixcbiAgICB9LFxuICAgIGZ1bmN0aW9uIChhY2Nlc3NUb2tlbiwgcmVmcmVzaFRva2VuLCBwcm9maWxlLCBkb25lKSB7XG4gICAgICBjb25zdCB1c2VyUHJvZmlsZSA9IHByb2ZpbGU7XG4gICAgICByZXR1cm4gZG9uZShudWxsLCB1c2VyUHJvZmlsZSk7XG4gICAgfVxuICApXG4pO1xuXG5leHBvcnQgZGVmYXVsdCBwYXNzcG9ydDtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLG9CQUFBLEdBQUFELE9BQUE7QUFDQSxJQUFBRSxPQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQUcsZUFBTSxDQUFDQyxNQUFNLENBQUMsQ0FBQztBQUVmQyxpQkFBUSxDQUFDQyxHQUFHLENBQ1YsSUFBSUMsNkJBQWMsQ0FDaEI7RUFDRUMsUUFBUSxFQUFFQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsZ0JBQWdCO0VBQ3RDQyxZQUFZLEVBQUVILE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRyxvQkFBb0I7RUFDOUNDLFdBQVcsRUFBRTtBQUNmLENBQUMsRUFDRCxVQUFVQyxXQUFXLEVBQUVDLFlBQVksRUFBRUMsT0FBTyxFQUFFQyxJQUFJLEVBQUU7RUFDbEQsTUFBTUMsV0FBVyxHQUFHRixPQUFPO0VBQzNCLE9BQU9DLElBQUksQ0FBQyxJQUFJLEVBQUVDLFdBQVcsQ0FBQztBQUNoQyxDQUNGLENBQ0YsQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FFYWYsaUJBQVE7QUFBQWdCLE9BQUEsQ0FBQUMsT0FBQSxHQUFBRixRQUFBIn0=","map":{"version":3,"names":["_passport","_interopRequireDefault","require","_passportGoogleOauth","_dotenv","dotenv","config","passport","use","GoogleStrategy","clientID","process","env","GOOGLE_CLIENT_ID","clientSecret","GOOGLE_CLIENT_SECRET","callbackURL","accessToken","refreshToken","profile","done","userProfile","_default","exports","default"],"sourceRoot":"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/config/","sources":["passport.js"],"sourcesContent":["import passport from \"passport\";\nimport { Strategy as GoogleStrategy } from \"passport-google-oauth20\";\nimport dotenv from \"dotenv\";\ndotenv.config();\n\npassport.use(\n  new GoogleStrategy(\n    {\n      clientID: process.env.GOOGLE_CLIENT_ID,\n      clientSecret: process.env.GOOGLE_CLIENT_SECRET,\n      callbackURL: \"http://127.0.0.1:4002/users/auth/google/callback\",\n    },\n    function (accessToken, refreshToken, profile, done) {\n      const userProfile = profile;\n      return done(null, userProfile);\n    }\n  )\n);\n\nexport default passport;\n"],"mappings":";;;;;;;AAAA,IAAAA,SAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,oBAAA,GAAAD,OAAA;AACA,IAAAE,OAAA,GAAAH,sBAAA,CAAAC,OAAA;AACAG,eAAM,CAACC,MAAM,CAAC,CAAC;AAEfC,iBAAQ,CAACC,GAAG,CACV,IAAIC,6BAAc,CAChB;EACEC,QAAQ,EAAEC,OAAO,CAACC,GAAG,CAACC,gBAAgB;EACtCC,YAAY,EAAEH,OAAO,CAACC,GAAG,CAACG,oBAAoB;EAC9CC,WAAW,EAAE;AACf,CAAC,EACD,UAAUC,WAAW,EAAEC,YAAY,EAAEC,OAAO,EAAEC,IAAI,EAAE;EAClD,MAAMC,WAAW,GAAGF,OAAO;EAC3B,OAAOC,IAAI,CAAC,IAAI,EAAEC,WAAW,CAAC;AAChC,CACF,CACF,CAAC;AAAC,IAAAC,QAAA,GAEaf,iBAAQ;AAAAgB,OAAA,CAAAC,OAAA,GAAAF,QAAA"}},"mtime":1682849015989},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend\",\"filename\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/controllers/resetPassword.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.5:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.resetPassword = void 0;\nvar _user = _interopRequireDefault(require(\"../models/user\"));\nvar _crypto = _interopRequireDefault(require(\"crypto\"));\nvar _token = _interopRequireDefault(require(\"../models/token\"));\nvar _moment = _interopRequireDefault(require(\"moment\"));\nconst resetPassword = async (req, res) => {\n  const {\n    email\n  } = req.body;\n  // Find the user with the provided email\n  const user = await _user.default.findOne({\n    email\n  }, (err, user) => {\n    if (err) throw err;\n    if (!user) {\n      // User not found\n      res.status(400).json({\n        message: \"User not found\"\n      });\n      return;\n    }\n  });\n  const newToken = await new _token.default({\n    // Use the correct variable name\n    userId: newUser._id,\n    token: _crypto.default.randomBytes(32).toString(\"hex\")\n  }).save();\n  const resetExpires = (0, _moment.default)().add(1, \"hour\").toDate();\n  // Store the reset token in the database\n  user.resetToken = newToken;\n  user.resetExpires = resetExpires;\n  user.save(err => {\n    if (err) throw err;\n\n    // Send an email to the user with the reset link\n    const resetLink = `${process.env.BASE_URL}/users/reset-password/${newToken}`;\n    const message = `Hello,\\n\\nYou have requested to reset your password. Please click the following link to reset your password:\\n\\n${resetLink}\\n\\nThis link will expire in 1 hour.\\n`;\n    sendMail(user.email, \"Password Reset Request\", message);\n    res.status(200).json({\n      message: \"Reset email sent\"\n    });\n  });\n};\nexports.resetPassword = resetPassword;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdXNlciIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2NyeXB0byIsIl90b2tlbiIsIl9tb21lbnQiLCJyZXNldFBhc3N3b3JkIiwicmVxIiwicmVzIiwiZW1haWwiLCJib2R5IiwidXNlciIsIlVzZXIiLCJmaW5kT25lIiwiZXJyIiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJuZXdUb2tlbiIsIlRva2VuIiwidXNlcklkIiwibmV3VXNlciIsIl9pZCIsInRva2VuIiwiY3J5cHRvIiwicmFuZG9tQnl0ZXMiLCJ0b1N0cmluZyIsInNhdmUiLCJyZXNldEV4cGlyZXMiLCJtb21lbnQiLCJhZGQiLCJ0b0RhdGUiLCJyZXNldFRva2VuIiwicmVzZXRMaW5rIiwicHJvY2VzcyIsImVudiIsIkJBU0VfVVJMIiwic2VuZE1haWwiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvamVhbm5lZGFyY255aXJhbXdpemEvRG93bmxvYWRzL0FjY291bnQtVmVyaWZpY2F0aW9uLUJhY2tlbmQvc3JjL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsicmVzZXRQYXNzd29yZC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVXNlciBmcm9tIFwiLi4vbW9kZWxzL3VzZXJcIjtcbmltcG9ydCBjcnlwdG8gZnJvbSBcImNyeXB0b1wiO1xuaW1wb3J0IFRva2VuIGZyb20gXCIuLi9tb2RlbHMvdG9rZW5cIjtcbmltcG9ydCBtb21lbnQgZnJvbSBcIm1vbWVudFwiO1xuXG5jb25zdCByZXNldFBhc3N3b3JkID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IHsgZW1haWwgfSA9IHJlcS5ib2R5O1xuICAvLyBGaW5kIHRoZSB1c2VyIHdpdGggdGhlIHByb3ZpZGVkIGVtYWlsXG4gIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoeyBlbWFpbCB9LCAoZXJyLCB1c2VyKSA9PiB7XG4gICAgaWYgKGVycikgdGhyb3cgZXJyO1xuXG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICAvLyBVc2VyIG5vdCBmb3VuZFxuICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiBcIlVzZXIgbm90IGZvdW5kXCIgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9KTtcblxuICBjb25zdCBuZXdUb2tlbiA9IGF3YWl0IG5ldyBUb2tlbih7XG4gICAgLy8gVXNlIHRoZSBjb3JyZWN0IHZhcmlhYmxlIG5hbWVcbiAgICB1c2VySWQ6IG5ld1VzZXIuX2lkLFxuICAgIHRva2VuOiBjcnlwdG8ucmFuZG9tQnl0ZXMoMzIpLnRvU3RyaW5nKFwiaGV4XCIpLFxuICB9KS5zYXZlKCk7XG4gIGNvbnN0IHJlc2V0RXhwaXJlcyA9IG1vbWVudCgpLmFkZCgxLCBcImhvdXJcIikudG9EYXRlKCk7XG4gIC8vIFN0b3JlIHRoZSByZXNldCB0b2tlbiBpbiB0aGUgZGF0YWJhc2VcbiAgdXNlci5yZXNldFRva2VuID0gbmV3VG9rZW47XG4gIHVzZXIucmVzZXRFeHBpcmVzID0gcmVzZXRFeHBpcmVzO1xuICB1c2VyLnNhdmUoKGVycikgPT4ge1xuICAgIGlmIChlcnIpIHRocm93IGVycjtcblxuICAgIC8vIFNlbmQgYW4gZW1haWwgdG8gdGhlIHVzZXIgd2l0aCB0aGUgcmVzZXQgbGlua1xuICAgIGNvbnN0IHJlc2V0TGluayA9IGAke3Byb2Nlc3MuZW52LkJBU0VfVVJMfS91c2Vycy9yZXNldC1wYXNzd29yZC8ke25ld1Rva2VufWA7XG4gICAgY29uc3QgbWVzc2FnZSA9IGBIZWxsbyxcXG5cXG5Zb3UgaGF2ZSByZXF1ZXN0ZWQgdG8gcmVzZXQgeW91ciBwYXNzd29yZC4gUGxlYXNlIGNsaWNrIHRoZSBmb2xsb3dpbmcgbGluayB0byByZXNldCB5b3VyIHBhc3N3b3JkOlxcblxcbiR7cmVzZXRMaW5rfVxcblxcblRoaXMgbGluayB3aWxsIGV4cGlyZSBpbiAxIGhvdXIuXFxuYDtcbiAgICBzZW5kTWFpbCh1c2VyLmVtYWlsLCBcIlBhc3N3b3JkIFJlc2V0IFJlcXVlc3RcIiwgbWVzc2FnZSk7XG5cbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IG1lc3NhZ2U6IFwiUmVzZXQgZW1haWwgc2VudFwiIH0pO1xuICB9KTtcbn07XG5cbmV4cG9ydCB7IHJlc2V0UGFzc3dvcmQgfTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLElBQUFBLEtBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLE9BQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLE1BQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLE9BQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUVBLE1BQU1JLGFBQWEsR0FBRyxNQUFBQSxDQUFPQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUN4QyxNQUFNO0lBQUVDO0VBQU0sQ0FBQyxHQUFHRixHQUFHLENBQUNHLElBQUk7RUFDMUI7RUFDQSxNQUFNQyxJQUFJLEdBQUcsTUFBTUMsYUFBSSxDQUFDQyxPQUFPLENBQUM7SUFBRUo7RUFBTSxDQUFDLEVBQUUsQ0FBQ0ssR0FBRyxFQUFFSCxJQUFJLEtBQUs7SUFDeEQsSUFBSUcsR0FBRyxFQUFFLE1BQU1BLEdBQUc7SUFFbEIsSUFBSSxDQUFDSCxJQUFJLEVBQUU7TUFDVDtNQUNBSCxHQUFHLENBQUNPLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQUVDLE9BQU8sRUFBRTtNQUFpQixDQUFDLENBQUM7TUFDbkQ7SUFDRjtFQUNGLENBQUMsQ0FBQztFQUVGLE1BQU1DLFFBQVEsR0FBRyxNQUFNLElBQUlDLGNBQUssQ0FBQztJQUMvQjtJQUNBQyxNQUFNLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBRztJQUNuQkMsS0FBSyxFQUFFQyxlQUFNLENBQUNDLFdBQVcsQ0FBQyxFQUFFLENBQUMsQ0FBQ0MsUUFBUSxDQUFDLEtBQUs7RUFDOUMsQ0FBQyxDQUFDLENBQUNDLElBQUksQ0FBQyxDQUFDO0VBQ1QsTUFBTUMsWUFBWSxHQUFHLElBQUFDLGVBQU0sRUFBQyxDQUFDLENBQUNDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsTUFBTSxDQUFDLENBQUNDLE1BQU0sQ0FBQyxDQUFDO0VBQ3JEO0VBQ0FwQixJQUFJLENBQUNxQixVQUFVLEdBQUdkLFFBQVE7RUFDMUJQLElBQUksQ0FBQ2lCLFlBQVksR0FBR0EsWUFBWTtFQUNoQ2pCLElBQUksQ0FBQ2dCLElBQUksQ0FBRWIsR0FBRyxJQUFLO0lBQ2pCLElBQUlBLEdBQUcsRUFBRSxNQUFNQSxHQUFHOztJQUVsQjtJQUNBLE1BQU1tQixTQUFTLEdBQUksR0FBRUMsT0FBTyxDQUFDQyxHQUFHLENBQUNDLFFBQVMseUJBQXdCbEIsUUFBUyxFQUFDO0lBQzVFLE1BQU1ELE9BQU8sR0FBSSxtSEFBa0hnQixTQUFVLHdDQUF1QztJQUNwTEksUUFBUSxDQUFDMUIsSUFBSSxDQUFDRixLQUFLLEVBQUUsd0JBQXdCLEVBQUVRLE9BQU8sQ0FBQztJQUV2RFQsR0FBRyxDQUFDTyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztNQUFFQyxPQUFPLEVBQUU7SUFBbUIsQ0FBQyxDQUFDO0VBQ3ZELENBQUMsQ0FBQztBQUNKLENBQUM7QUFBQ3FCLE9BQUEsQ0FBQWhDLGFBQUEsR0FBQUEsYUFBQSJ9","map":{"version":3,"names":["_user","_interopRequireDefault","require","_crypto","_token","_moment","resetPassword","req","res","email","body","user","User","findOne","err","status","json","message","newToken","Token","userId","newUser","_id","token","crypto","randomBytes","toString","save","resetExpires","moment","add","toDate","resetToken","resetLink","process","env","BASE_URL","sendMail","exports"],"sourceRoot":"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/controllers/","sources":["resetPassword.js"],"sourcesContent":["import User from \"../models/user\";\nimport crypto from \"crypto\";\nimport Token from \"../models/token\";\nimport moment from \"moment\";\n\nconst resetPassword = async (req, res) => {\n  const { email } = req.body;\n  // Find the user with the provided email\n  const user = await User.findOne({ email }, (err, user) => {\n    if (err) throw err;\n\n    if (!user) {\n      // User not found\n      res.status(400).json({ message: \"User not found\" });\n      return;\n    }\n  });\n\n  const newToken = await new Token({\n    // Use the correct variable name\n    userId: newUser._id,\n    token: crypto.randomBytes(32).toString(\"hex\"),\n  }).save();\n  const resetExpires = moment().add(1, \"hour\").toDate();\n  // Store the reset token in the database\n  user.resetToken = newToken;\n  user.resetExpires = resetExpires;\n  user.save((err) => {\n    if (err) throw err;\n\n    // Send an email to the user with the reset link\n    const resetLink = `${process.env.BASE_URL}/users/reset-password/${newToken}`;\n    const message = `Hello,\\n\\nYou have requested to reset your password. Please click the following link to reset your password:\\n\\n${resetLink}\\n\\nThis link will expire in 1 hour.\\n`;\n    sendMail(user.email, \"Password Reset Request\", message);\n\n    res.status(200).json({ message: \"Reset email sent\" });\n  });\n};\n\nexport { resetPassword };\n"],"mappings":";;;;;;;AAAA,IAAAA,KAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,MAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,OAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAEA,MAAMI,aAAa,GAAG,MAAAA,CAAOC,GAAG,EAAEC,GAAG,KAAK;EACxC,MAAM;IAAEC;EAAM,CAAC,GAAGF,GAAG,CAACG,IAAI;EAC1B;EACA,MAAMC,IAAI,GAAG,MAAMC,aAAI,CAACC,OAAO,CAAC;IAAEJ;EAAM,CAAC,EAAE,CAACK,GAAG,EAAEH,IAAI,KAAK;IACxD,IAAIG,GAAG,EAAE,MAAMA,GAAG;IAElB,IAAI,CAACH,IAAI,EAAE;MACT;MACAH,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAAEC,OAAO,EAAE;MAAiB,CAAC,CAAC;MACnD;IACF;EACF,CAAC,CAAC;EAEF,MAAMC,QAAQ,GAAG,MAAM,IAAIC,cAAK,CAAC;IAC/B;IACAC,MAAM,EAAEC,OAAO,CAACC,GAAG;IACnBC,KAAK,EAAEC,eAAM,CAACC,WAAW,CAAC,EAAE,CAAC,CAACC,QAAQ,CAAC,KAAK;EAC9C,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC;EACT,MAAMC,YAAY,GAAG,IAAAC,eAAM,EAAC,CAAC,CAACC,GAAG,CAAC,CAAC,EAAE,MAAM,CAAC,CAACC,MAAM,CAAC,CAAC;EACrD;EACApB,IAAI,CAACqB,UAAU,GAAGd,QAAQ;EAC1BP,IAAI,CAACiB,YAAY,GAAGA,YAAY;EAChCjB,IAAI,CAACgB,IAAI,CAAEb,GAAG,IAAK;IACjB,IAAIA,GAAG,EAAE,MAAMA,GAAG;;IAElB;IACA,MAAMmB,SAAS,GAAI,GAAEC,OAAO,CAACC,GAAG,CAACC,QAAS,yBAAwBlB,QAAS,EAAC;IAC5E,MAAMD,OAAO,GAAI,mHAAkHgB,SAAU,wCAAuC;IACpLI,QAAQ,CAAC1B,IAAI,CAACF,KAAK,EAAE,wBAAwB,EAAEQ,OAAO,CAAC;IAEvDT,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEC,OAAO,EAAE;IAAmB,CAAC,CAAC;EACvD,CAAC,CAAC;AACJ,CAAC;AAACqB,OAAA,CAAAhC,aAAA,GAAAA,aAAA"}},"mtime":1682855359723},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/middleware/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend\",\"filename\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/middleware/authMiddleware.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isAuthenticated = void 0;\n// middleware/authMiddleware.js\n\nconst isAuthenticated = (req, res, next) => {\n  if (req.isAuthenticated()) {\n    return next();\n  } else {\n    res.status(401).json({\n      message: \"Unauthorized\"\n    });\n  }\n};\nexports.isAuthenticated = isAuthenticated;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJpc0F1dGhlbnRpY2F0ZWQiLCJyZXEiLCJyZXMiLCJuZXh0Iiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvamVhbm5lZGFyY255aXJhbXdpemEvRG93bmxvYWRzL0FjY291bnQtVmVyaWZpY2F0aW9uLUJhY2tlbmQvc3JjL21pZGRsZXdhcmUvIiwic291cmNlcyI6WyJhdXRoTWlkZGxld2FyZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBtaWRkbGV3YXJlL2F1dGhNaWRkbGV3YXJlLmpzXG5cbmV4cG9ydCBjb25zdCBpc0F1dGhlbnRpY2F0ZWQgPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgaWYgKHJlcS5pc0F1dGhlbnRpY2F0ZWQoKSkge1xuICAgIHJldHVybiBuZXh0KCk7XG4gIH0gZWxzZSB7XG4gICAgcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiBcIlVuYXV0aG9yaXplZFwiIH0pO1xuICB9XG59O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7QUFFTyxNQUFNQSxlQUFlLEdBQUdBLENBQUNDLEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxJQUFJLEtBQUs7RUFDakQsSUFBSUYsR0FBRyxDQUFDRCxlQUFlLENBQUMsQ0FBQyxFQUFFO0lBQ3pCLE9BQU9HLElBQUksQ0FBQyxDQUFDO0VBQ2YsQ0FBQyxNQUFNO0lBQ0xELEdBQUcsQ0FBQ0UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7TUFBRUMsT0FBTyxFQUFFO0lBQWUsQ0FBQyxDQUFDO0VBQ25EO0FBQ0YsQ0FBQztBQUFDQyxPQUFBLENBQUFQLGVBQUEsR0FBQUEsZUFBQSJ9","map":{"version":3,"names":["isAuthenticated","req","res","next","status","json","message","exports"],"sourceRoot":"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/middleware/","sources":["authMiddleware.js"],"sourcesContent":["// middleware/authMiddleware.js\n\nexport const isAuthenticated = (req, res, next) => {\n  if (req.isAuthenticated()) {\n    return next();\n  } else {\n    res.status(401).json({ message: \"Unauthorized\" });\n  }\n};\n"],"mappings":";;;;;;AAAA;;AAEO,MAAMA,eAAe,GAAGA,CAACC,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;EACjD,IAAIF,GAAG,CAACD,eAAe,CAAC,CAAC,EAAE;IACzB,OAAOG,IAAI,CAAC,CAAC;EACf,CAAC,MAAM;IACLD,GAAG,CAACE,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEC,OAAO,EAAE;IAAe,CAAC,CAAC;EACnD;AACF,CAAC;AAACC,OAAA,CAAAP,eAAA,GAAAA,eAAA"}},"mtime":1682859367431},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/middleware/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend\",\"filename\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/middleware/authMiddleware.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isAuthenticated = void 0;\n// middleware/authMiddleware.js\n\nconst isAuthenticated = (req, res, next) => {\n  if (req.isAuthenticated()) {\n    return next();\n  } else {\n    res.status(401).json({\n      message: \"Unauthorized\"\n    });\n  }\n};\nexports.isAuthenticated = isAuthenticated;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJpc0F1dGhlbnRpY2F0ZWQiLCJyZXEiLCJyZXMiLCJuZXh0Iiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvamVhbm5lZGFyY255aXJhbXdpemEvRG93bmxvYWRzL0FjY291bnQtVmVyaWZpY2F0aW9uLUJhY2tlbmQvc3JjL21pZGRsZXdhcmUvIiwic291cmNlcyI6WyJhdXRoTWlkZGxld2FyZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBtaWRkbGV3YXJlL2F1dGhNaWRkbGV3YXJlLmpzXG5cbmV4cG9ydCBjb25zdCBpc0F1dGhlbnRpY2F0ZWQgPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgaWYgKHJlcS5pc0F1dGhlbnRpY2F0ZWQoKSkge1xuICAgIHJldHVybiBuZXh0KCk7XG4gIH0gZWxzZSB7XG4gICAgcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiBcIlVuYXV0aG9yaXplZFwiIH0pO1xuICB9XG59O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7QUFFTyxNQUFNQSxlQUFlLEdBQUdBLENBQUNDLEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxJQUFJLEtBQUs7RUFDakQsSUFBSUYsR0FBRyxDQUFDRCxlQUFlLENBQUMsQ0FBQyxFQUFFO0lBQ3pCLE9BQU9HLElBQUksQ0FBQyxDQUFDO0VBQ2YsQ0FBQyxNQUFNO0lBQ0xELEdBQUcsQ0FBQ0UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7TUFBRUMsT0FBTyxFQUFFO0lBQWUsQ0FBQyxDQUFDO0VBQ25EO0FBQ0YsQ0FBQztBQUFDQyxPQUFBLENBQUFQLGVBQUEsR0FBQUEsZUFBQSJ9","map":{"version":3,"names":["isAuthenticated","req","res","next","status","json","message","exports"],"sourceRoot":"/Users/jeannedarcnyiramwiza/Downloads/Account-Verification-Backend/src/middleware/","sources":["authMiddleware.js"],"sourcesContent":["// middleware/authMiddleware.js\n\nexport const isAuthenticated = (req, res, next) => {\n  if (req.isAuthenticated()) {\n    return next();\n  } else {\n    res.status(401).json({ message: \"Unauthorized\" });\n  }\n};\n"],"mappings":";;;;;;AAAA;;AAEO,MAAMA,eAAe,GAAGA,CAACC,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;EACjD,IAAIF,GAAG,CAACD,eAAe,CAAC,CAAC,EAAE;IACzB,OAAOG,IAAI,CAAC,CAAC;EACf,CAAC,MAAM;IACLD,GAAG,CAACE,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEC,OAAO,EAAE;IAAe,CAAC,CAAC;EACnD;AACF,CAAC;AAACC,OAAA,CAAAP,eAAA,GAAAA,eAAA"}},"mtime":1682859367431}}